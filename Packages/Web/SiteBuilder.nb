Notebook[{

Cell[CellGroupData[{
Cell["BuildSite", "CodeSection",
 CellChangeTimes->{{3.712582040881816*^9, 
  3.712582046912613*^9}},ExpressionUUID->"9fd7a682-c333-40e6-becd-\
8d68e215fd41"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSites", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Lists websites\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteInitialize", "::", "usage"}], "=", 
   "\"\<Makes a new website in a directory\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteOptions", "::", "usage"}], "=", 
   "\"\<Gets configuration options for a website\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteSetOptions", "::", "usage"}], "=", 
   "\"\<Sets configuration options for a website\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteNewContent", "::", "usage"}], "=", 
   "\"\<Makes a new post notebook\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteNewTableOfContents", "::", "usage"}], "=", 
   "\"\<Makes a new Table of Contents\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteThemes", "::", "usage"}], "=", "\"\<\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteFindTheme", "::", "usage"}], "=", 
   "\"\<Finds the theme for a website\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "usage"}], "=", "\"\<Builds a website\>\""}],
   ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteDeploy", "::", "usage"}], "=", 
   "\"\<Deploys a directory to the web\>\""}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.712583907467773*^9, 3.712583916241501*^9}, 
   3.7126118653361073`*^9, {3.7128335380605593`*^9, 3.712833551189707*^9}, {
   3.712834166003209*^9, 3.712834184654894*^9}, {3.712834659831543*^9, 
   3.712834678974934*^9}, {3.712835210177805*^9, 3.712835211568017*^9}, {
   3.712836617928735*^9, 3.712836625074098*^9}, 3.7229608405944157`*^9, {
   3.723002545750867*^9, 3.723002556379663*^9}, {3.723003307358547*^9, 
   3.723003313765319*^9}, {3.723004675035421*^9, 3.723004681418261*^9}, {
   3.723573871754037*^9, 
   3.7235738849807243`*^9}},ExpressionUUID->"503c4678-e63f-40a8-92de-\
bf2ecc068ad0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$WebSiteDirectory", "::", "usage"}], "=", "\n", "\t", 
   "\"\<The base directory for websites\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$WebSitePath", "::", "usage"}], "=", "\n", "\t", 
   "\"\<The path for finding websites\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$WebSiteThemePath", "::", "usage"}], "=", "\n", "\t", 
   "\"\<The path for website themes\>\""}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.722960975867227*^9, 3.722960990054515*^9}, {
  3.723002781998982*^9, 3.723002791484479*^9}, {3.723003074884307*^9, 
  3.723003094513769*^9}, {3.723004683730218*^9, 
  3.723004692761199*^9}},ExpressionUUID->"a8b22438-fdbf-4e43-aaec-\
d7363519d0dc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}], 
  ";"}]], "InputSection",ExpressionUUID->"fd37354b-ad36-4fea-abd5-\
77b433d034c8"],

Cell[CellGroupData[{

Cell["Config", "CodeSubsection",
 CellChangeTimes->{{3.71278761272464*^9, 
  3.7127876133329*^9}},ExpressionUUID->"5906d605-4ebe-4596-a22d-41950b9c8cd2"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSiteDirectory\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"a20ed19c-c7ac-4371-9c0f-e485616248ef"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteDirectory", "=", "\n", "\t", 
   RowBox[{"FileNameJoin", "@", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
     "$UserBaseDirectory", ",", "\n", "\t\t", "\"\<ApplicationData\>\"", ",", 
      "\n", "\t\t", "\"\<WebSites\>\""}], "\n", "\t\t", "}"}]}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"49cb9948-5f11-4b58-a90a-5261055180b1"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSitePath\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"1c6c282b-200e-4fd9-8dfd-e4de362039ee"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSitePath", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", "$WebSiteDirectory", "\n", "\t\t", "}"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"63f1bd03-a4a1-43a8-9c74-8d51b14c6915"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSiteThemePath\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"c77e77b9-f911-4203-ba9f-0917d9b63802"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Length", "@", 
      RowBox[{"OwnValues", "[", "$WebThemesURLBase", "]"}]}], "===", "0"}], 
    ",", "\n", "\t", 
    RowBox[{"$WebThemesURLBase", ":=", "\n", "\t\t", 
     RowBox[{"$WebThemesURLBase", "=", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
       "CloudObject", "[", 
        "\"\<user:b3m2a1.paclets/PacletServer/Resources/SiteBuilder/Themes\>\"\
", "]"}], "[", 
       RowBox[{"[", "1", "]"}], "]"}]}]}]}], "\n", "\t", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"$WebSiteTempThemeDir", "=", "\n", "\t", 
   RowBox[{"FileNameJoin", "@", 
    RowBox[{"{", 
     RowBox[{
     "$TemporaryDirectory", ",", " ", "\"\<SiteBuilder_tmp\>\"", ",", " ", 
      "\"\<Themes\>\""}], "}"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"$WebSiteThemePath", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"PackageFilePath", "[", 
      RowBox[{"\"\<Resources\>\"", ",", " ", "\"\<Themes\>\""}], "]"}], ",", 
     "\n", "\t\t", 
     RowBox[{"FileNameJoin", "@", 
      RowBox[{"{", 
       RowBox[{"$WebSiteDirectory", ",", " ", "\"\<Themes\>\""}], "}"}]}], 
     ",", "\n", "\t\t", "$WebSiteTempThemeDir"}], "\n", "\t\t", "}"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"9839412d-2666-48af-8a12-26d795001b18"]\

}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Site Config\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7128335669161673`*^9, 
  3.712833571196659*^9}},ExpressionUUID->"d7708633-7256-4fe1-a8ed-\
1b3668732dbf"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteFind\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.723002626987522*^9, 3.7230026314899197`*^9}, {
  3.723003186395924*^9, 
  3.7230031865703897`*^9}},ExpressionUUID->"6cbcad8a-028f-4833-aed9-\
793abc0a9a58"],

Cell[BoxData[
 RowBox[{"WebSites", "//", "Clear"}]], "CodeInput",
 CellChangeTimes->{{3.723055464968233*^9, 
  3.723055465782651*^9}},ExpressionUUID->"2c2a3876-c236-48b4-8684-\
76de37158bca"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSites", "[", 
    RowBox[{"site_:", "\"\<*\>\""}], "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"Select", "[", 
     RowBox[{
      RowBox[{"FileExistsQ", "@", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"#", ",", " ", "\"\<SiteConfig.wl\>\""}], "}"}]}]}], "&"}], 
     "]"}], "@", "\n", "\t\t", 
    RowBox[{"FileNames", "[", 
     RowBox[{"site", ",", " ", "$WebSitePath"}], "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteFind", "[", "siteName_", "]"}], ":=", "\n", "\t", 
   RowBox[{"SelectFirst", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"FileNames", "[", 
      RowBox[{"siteName", ",", " ", "$WebSitePath"}], "]"}], ",", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{"FileExistsQ", "@", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"#", ",", " ", "\"\<SiteConfig.wl\>\""}], "}"}]}]}], "&"}], 
     ",", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"StringQ", "@", "siteName"}], ",", "\n", "\t\t\t", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"$WebSiteDirectory", ",", " ", "siteName"}], "}"}]}], ",", 
       "\n", "\t\t\t", "$Failed"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
    "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.723003184220989*^9, 3.723003222172657*^9}, {
  3.723003282032915*^9, 3.723003375869944*^9}, {3.723055458979436*^9, 
  3.723055463136051*^9}},ExpressionUUID->"27eee7d8-e2f7-4648-af63-\
2c0b461afb40"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Initialize\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7128339916993227`*^9, 
  3.712833995778417*^9}},ExpressionUUID->"fdfa7e0f-a60b-4f8c-bf70-\
4b59c20eeb64"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteInitialize", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir_String", "?", 
      RowBox[{"(", "\n", "\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"FileNameDepth", "[", "#", "]"}], ">", "1"}], "&&", 
         RowBox[{"DirectoryQ", "@", 
          RowBox[{"DirectoryName", "[", "#", "]"}]}]}], "&"}], "\n", "\t\t", 
       ")"}]}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"CopyDirectory", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"PackageFilePath", "[", 
        RowBox[{
        "\"\<Resources\>\"", ",", "\"\<Templates\>\"", ",", 
         "\"\<WebSite\>\""}], "]"}], ",", "\n", "\t\t\t", "dir"}], "\n", 
      "\t\t\t", "]"}], ";", "\n", "\t\t", 
     RowBox[{"Export", "[", 
      RowBox[{
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"dir", ",", "\"\<SiteConfig.wl\>\""}], "}"}]}], ",", "\n", 
       "\t\t\t", 
       RowBox[{
        RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", 
        "\t\t\t\t", 
        RowBox[{"Flatten", "@", "\n", "\t\t\t\t\t", 
         RowBox[{"{", "\n", "\t\t\t\t\t\t", 
          RowBox[{"ops", ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Import", "@", 
              RowBox[{"PackageFilePath", "[", 
               RowBox[{
               "\"\<Resources\>\"", ",", "\"\<Templates\>\"", ",", 
                "\"\<WebSite\>\"", ",", "\"\<SiteConfig.wl\>\""}], "]"}]}], 
             ",", "\n", "\t", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Except", "[", 
               RowBox[{"_", "?", "OptionQ"}], "]"}], "\[RuleDelayed]", 
              RowBox[{"{", "}"}]}]}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}], 
          "\n", "\t", "\t\t\t\t\t", "}"}]}]}]}], "\n", "\t\t\t", "]"}], ";", 
     "\n", "\t\t", "dir"}], "\n", "\t\t", ")"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.712833572798499*^9, 3.712833591127783*^9}, {
   3.7128339982837753`*^9, 3.712834036370667*^9}, {3.7128342998382473`*^9, 
   3.712834300994905*^9}, {3.712837206588386*^9, 3.712837211279833*^9}, 
   3.71286221774685*^9, {3.723006613498006*^9, 3.723006626535947*^9}, {
   3.723068132918271*^9, 3.723068193252512*^9}, {3.7231998594147043`*^9, 
   3.7231998945781097`*^9}},ExpressionUUID->"5214867c-4e9a-40d3-b5d8-\
4edf41bee6a5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteInitialize", "[", "\n", "\t", 
   RowBox[{"s_String", "?", 
    RowBox[{"(", "\n", "\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"FileNameDepth", "[", "#", "]"}], "\[Equal]", "1"}], "||", 
       "\n", "\t\t\t", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"Not", "@", 
          RowBox[{"FileExistsQ", "[", "#", "]"}]}], "&&", 
         RowBox[{"StringFreeQ", "[", 
          RowBox[{"#", ",", "$PathnameSeparator"}], "]"}]}], ")"}]}], "&"}], 
     ")"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"(", "\n", "\t\t", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"!", 
       RowBox[{"DirectoryQ", "@", "$WebSiteDirectory"}]}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"CreateDirectory", "[", 
       RowBox[{"$WebSiteDirectory", ",", 
        RowBox[{"CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
       "]"}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"r", "=", "\n", "\t\t\t", 
        RowBox[{"WebSiteInitialize", "@", "\n", "\t\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", "\n", "\t", "\t", "\t\t\t", 
           RowBox[{"$WebSiteDirectory", ",", "\n", "\t\t\t\t\t", "s"}], "\n", 
           "\t\t\t\t\t", "}"}]}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", 
      "\t\t\t", "r"}], "\n", "\t\t\t", "]"}]}], "\n", "\t", 
   ")"}]}]], "CodeInput",
 CellChangeTimes->{{3.712862219144147*^9, 3.712862304902514*^9}, {
  3.712862377166287*^9, 3.7128624082124777`*^9}, {3.723006663884658*^9, 
  3.723006699513441*^9}},ExpressionUUID->"dc72877b-62c2-4832-9bc3-\
ad3642055ab5"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Options\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7128339916993227`*^9, 3.712833995778417*^9}, {
  3.712834093593678*^9, 
  3.712834094528667*^9}},ExpressionUUID->"d0e28a20-4d3a-47cb-9729-\
dee7cb1a6d8f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteOptions", "[", 
   RowBox[{"dir_String", "?", 
    RowBox[{"(", 
     RowBox[{"DirectoryQ", "@*", "DirectoryName"}], ")"}]}], "]"}], ":=", 
  "\n", "\t", 
  RowBox[{"Replace", "[", 
   RowBox[{
    RowBox[{"Quiet", "@", 
     RowBox[{"Import", "[", 
      RowBox[{"FileNameJoin", "@", 
       RowBox[{"{", 
        RowBox[{"dir", ",", "\"\<SiteConfig.wl\>\""}], "}"}]}], "]"}]}], ",", 
    "\n", "\t\t", 
    RowBox[{
     RowBox[{"Except", "[", 
      RowBox[{"_", "?", "OptionQ"}], "]"}], "->", "\n", "\t\t\t", 
     RowBox[{"{", "}"}]}]}], "\n", "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.712833572798499*^9, 3.712833591127783*^9}, {
  3.7128339982837753`*^9, 
  3.71283412519278*^9}},ExpressionUUID->"80af0b5f-5ec1-486c-9ae5-62b9b12b0d94"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]SetOptions\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712834098451429*^9, 
  3.712834100376466*^9}},ExpressionUUID->"a3e62df6-a41d-4fd3-9a5a-\
8f85c25d8690"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteSetOptions", "[", 
    RowBox[{
     RowBox[{"dir_String", "?", 
      RowBox[{"(", 
       RowBox[{"DirectoryQ", "@*", "DirectoryName"}], ")"}]}], ",", "\n", 
     "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Export", "[", 
    RowBox[{
     RowBox[{"FileNameJoin", "@", 
      RowBox[{"{", 
       RowBox[{"dir", ",", "\"\<SiteConfig.wl\>\""}], "}"}]}], ",", "\n", 
     "\t\t", 
     RowBox[{"Merge", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteOptions", "[", "dir", "]"}], ",", "\n", "\t", 
         "\t\t\t", "ops"}], "\n", "\t", "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
       "Last"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.712833572798499*^9, 3.712833591127783*^9}, {
  3.7128339982837753`*^9, 3.712834073066475*^9}, {3.712834104460731*^9, 
  3.71283416326987*^9}},ExpressionUUID->"60df29a6-8d75-4b8a-988b-9c41a7889306"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]NewContent\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712834307506276*^9, 3.712834310370082*^9}, 
   3.722971020842743*^9, 
   3.723006769079563*^9},ExpressionUUID->"c1365784-48e7-4818-a666-\
1a9edab732b5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteNewContentAutoname", "[", 
   RowBox[{"dir_", ",", " ", "place_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{"ToUpperCase", "[", 
    RowBox[{"StringTake", "[", 
     RowBox[{"place", ",", " ", "1"}], "]"}], "]"}], "<>", "\n", "\t\t", 
   RowBox[{"StringDrop", "[", 
    RowBox[{
     RowBox[{"StringTrim", "[", 
      RowBox[{"place", ",", " ", "\"\<s\>\""}], "]"}], ",", " ", "1"}], "]"}],
    "<>", "\n", "\t\t", "\"\< #\>\"", "<>", "\n", "\t\t", 
   RowBox[{"ToString", "@", "\n", "\t\t", 
    RowBox[{"(", "\n", "\t\t\t", 
     RowBox[{"1", "+", 
      RowBox[{"Length", "@", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"DeleteDuplicatesBy", "[", "FileBaseName", "]"}], "@", "\n", 
        "\t", "\t\t\t\t", 
        RowBox[{"FileNames", "[", 
         RowBox[{
          RowBox[{
          "\"\<*.nb\>\"", "|", "\"\<*.md\>\"", "|", "\"\<*.html\>\""}], ",", 
          "\n", "\t\t\t\t\t\t", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", " ", "\"\<content\>\"", ",", "place"}], 
            "}"}]}]}], "]"}]}]}]}], "\n", "\t\t\t", ")"}]}]}]}]], "CodeInput",
 
 CellChangeTimes->{{3.7230365509960203`*^9, 
  3.7230365991624126`*^9}},ExpressionUUID->"b66292c5-3793-4076-903f-\
46fbe98f9384"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteNewContent", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
     "place_String", ",", "\n", "\t", 
     RowBox[{"name", ":", 
      RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}], ",", "\n", 
     "\t", 
     RowBox[{"content", ":", 
      RowBox[{"_List", "|", "_Cell", "|", "Automatic"}], ":", "Automatic"}], 
     ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], "/;", 
   RowBox[{"DirectoryQ", "@", 
    RowBox[{"FileNameJoin", "@", 
     RowBox[{"{", 
      RowBox[{"dir", ",", "\"\<content\>\"", ",", "place"}], "}"}]}]}]}], ":=",
   "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{"autoname", "=", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"StringTrim", "[", 
          RowBox[{"#", ",", " ", 
           RowBox[{"\"\<.\>\"", "<>", 
            RowBox[{"FileExtension", "[", "#", "]"}]}]}], "]"}], "<>", 
         "\"\<.nb\>\""}], "&"}], "@", "\n", "\t\t\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{"name", ",", " ", 
         RowBox[{"Automatic", ":>", 
          RowBox[{"webSiteNewContentAutoname", "[", 
           RowBox[{"dir", ",", " ", "place"}], "]"}]}]}], "]"}]}]}], "\n", 
     "\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"!", 
       RowBox[{"FileExistsQ", "@", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{
          "dir", ",", "\"\<content\>\"", ",", "place", ",", "autoname"}], 
          "}"}]}]}]}], ",", "\n", "\t\t\t", 
      RowBox[{"SystemOpen", "@", "\n", "\t\t\t", 
       RowBox[{"Export", "[", 
        RowBox[{
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{
           "dir", ",", "\"\<content\>\"", ",", "place", ",", "autoname"}], 
           "}"}]}], ",", "\n", "\t\t\t\t", 
         RowBox[{"Notebook", "[", 
          RowBox[{
           RowBox[{"Flatten", "@", 
            RowBox[{"{", "\n", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Cell", "[", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"BoxData", "@", 
                 RowBox[{"ToBoxes", "@", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{"Merge", "[", 
                   RowBox[{
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Switch", "[", 
                    RowBox[{
                    "place", ",", "\n", "\t\t\t\t\t\t\t\t\t", "\"\<posts\>\"",
                     ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"<|", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "\"\<Title\>\"", "\[Rule]", "\"\<< Post Title >\>\""}], 
                    ",", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Slug\>\"", "\[Rule]", "Automatic"}], ",", 
                    "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Date\>\"", "\[Rule]", "Now"}], ",", "\n", 
                    "\t", "\t", "\t", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Tags\>\"", "\[Rule]", 
                    RowBox[{"{", "}"}]}], ",", "\n", "\t", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Authors\>\"", "\[Rule]", 
                    RowBox[{"{", "}"}]}], ",", "\n", "\t", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Categories\>\"", "\[Rule]", 
                    RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    "|>"}], ",", "\n", "\t\t\t\t\t\t\t\t\t", "\"\<pages\>\"", 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"<|", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "\"\<Title\>\"", "\[Rule]", "\"\<< Page Title >\>\""}], 
                    ",", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Slug\>\"", "\[Rule]", "Automatic"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "|>"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t", "_", ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"<|", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"\"\<Title\>\"", "\[Rule]", "\"\<< Title >\>\""}],
                     ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Slug\>\"", "\[Rule]", "Automatic"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "|>"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", "ops", "}"}]}], "\n", "\t\t\t\t\t\t\t\t", 
                    "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", "Last"}], "\n", 
                   "\t\t\t\t\t\t\t\t", "]"}]}]}], ",", "\n", "\t\t\t\t\t\t", 
                "\"\<Metadata\>\""}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", 
              "\t", "\t\t\t\t", 
              RowBox[{"Cell", "[", "\n", "\t\t\t\t\t\t", 
               RowBox[{
               "\"\<Check the style list for the entire set of supported \
styles\>\"", ",", "\n", "\t\t\t\t\t\t", "\"\<Text\>\""}], "\n", 
               "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
              RowBox[{"Cell", "[", "\n", "\t\t\t\t\t\t", 
               RowBox[{
               "\"\<Input style cells will be dropped\>\"", ",", "\n", 
                "\t\t\t\t\t\t", "\"\<Text\>\""}], "\n", "\t\t\t\t\t\t", "]"}],
               ",", "\n", "\t\t\t\t\t", 
              RowBox[{"Replace", "[", 
               RowBox[{"content", ",", "\n", "\t\t\t\t\t\t", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{
                 "Automatic", "\[RuleDelayed]", "\n", "\t\t\t\t\t\t\t\t", 
                  RowBox[{"Switch", "[", 
                   RowBox[{
                   "place", ",", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t", 
                    "\"\<posts\>\"", ",", "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t", 
                    RowBox[{
                    "Cell", "[", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<This is a post, so article.html is the theme \
template for it.\>\"", ",", "\n", "\t", "\t", "\t", "\t", "\t", "\t", 
                    "\t\t\t\t\t", "\"\<Text\>\""}], "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t", "\"\<pages\>\"", ",", "\n", "\t", "\t", 
                    "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    "Cell", "[", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<This is a page, so page.html is the theme template \
for it.\>\"", ",", "\n", "\t", "\t", "\t", "\t", "\t", "\t", "\t\t\t\t\t", 
                    "\"\<Text\>\""}], "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t", "_", ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", "Nothing"}], "\n", "\t", 
                   "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t", 
                 "}"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", 
             "}"}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"StyleDefinitions", "\[Rule]", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{"FrontEnd`FileName", "[", 
             RowBox[{
              RowBox[{"Evaluate", "@", 
               RowBox[{"{", "$PackageName", "}"}]}], ",", "\n", "\t", 
              "\t\t\t\t\t\t", "\"\<MarkdownNotebook.nb\>\""}], "\n", "\t", 
             "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
        "\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", "$Failed"}], "\n", "\t\t\t",
      "]"}]}], "\n", "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.712834311676202*^9, 3.712834463046077*^9}, {
   3.712834494235365*^9, 3.712834651504943*^9}, {3.712834696265758*^9, 
   3.712834772881476*^9}, {3.712834803531583*^9, 3.7128352248594303`*^9}, {
   3.7128352657324123`*^9, 3.712835297410713*^9}, {3.712835510009738*^9, 
   3.712835522100856*^9}, 3.722960840639822*^9, {3.7229716403778954`*^9, 
   3.722971641320488*^9}, {3.722971683610236*^9, 3.722971701573612*^9}, {
   3.722971825154344*^9, 3.722971886176156*^9}, {3.7229719172705717`*^9, 
   3.722971933025931*^9}, {3.7229719868536367`*^9, 3.722972027264845*^9}, {
   3.7230364979127274`*^9, 3.7230365872821074`*^9}, {3.723573584828834*^9, 
   3.7235736197930307`*^9}, {3.723573733154427*^9, 3.72357384033848*^9}, {
   3.723603830849003*^9, 
   3.723603838976552*^9}},ExpressionUUID->"62e19140-903e-4a3d-8e5e-\
7421cb5f3b99"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TableOfContents\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7235735226709948`*^9, 
  3.723573525014244*^9}},ExpressionUUID->"48fb1d70-98c9-43e1-bee6-\
d4897546ea69"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteNewTableOfContents", "[", 
   RowBox[{"dir_String", "?", "DirectoryQ"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
     "outdir", ",", "\n", "\t\t\t", "metas", ",", "\n", "\t", "\t\t", "data", 
      ",", "\n", "\t\t\t", "cells", ",", "\n", "\t\t\t", 
      RowBox[{"postCounter", "=", "1"}]}], "\n", "\t\t\t", "}"}], ",", "\n", 
    "\t\t", 
    RowBox[{
     RowBox[{"outdir", "=", "\n", "\t\t\t", 
      RowBox[{"FileNameJoin", "@", 
       RowBox[{"{", 
        RowBox[{"dir", ",", " ", "\"\<posts\>\""}], "}"}]}]}], ";", "\n", 
     "\t\t", 
     RowBox[{"metas", "=", "\n", "\t\t\t", 
      RowBox[{"SortBy", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"AssociationMap", "[", "\n", "\t", "\t", "\t", "\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"Association", "@", "\n", "\t", "\t", "\t", "\t\t", 
            RowBox[{"Map", "[", "\n", "\t", "\t", "\t", "\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"Rule", "@@", 
                RowBox[{"StringTrim", "@", 
                 RowBox[{"StringSplit", "[", 
                  RowBox[{"#", ",", " ", "\"\<:\>\"", ",", "2"}], "]"}]}]}], 
               "&"}], ",", "\n", "\t", "\t", "\t", "\t\t\t", 
              RowBox[{
              "StringSplit", "[", "\n", "\t", "\t", "\t", "\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"StringSplit", "[", 
                  RowBox[{
                   RowBox[{"Import", "[", 
                    RowBox[{"#", ",", "\"\<Text\>\""}], "]"}], ",", 
                   "\"\<\\n\\n\>\"", ",", "2"}], "]"}], "[", 
                 RowBox[{"[", "1", "]"}], "]"}], ",", "\n", "\t", "\t", "\t", 
                "\t\t\t\t", "\"\<\\n\>\""}], "\n", "\t", "\t", "\t", 
               "\t\t\t\t", "]"}]}], "\n", "\t", "\t", "\t", "\t\t\t", "]"}]}],
            "&"}], ",", "\n", "\t", "\t", "\t", "\t\t", 
          RowBox[{"Select", "[", "\n", "\t", "\t", "\t", "\t\t\t", 
           RowBox[{
            RowBox[{"FileNames", "[", 
             RowBox[{"\"\<*.md\>\"", ",", "outdir", ",", "\[Infinity]"}], 
             "]"}], ",", "\n", "\t", "\t", "\t", "\t\t\t", 
            RowBox[{
             RowBox[{"!", 
              RowBox[{"StringMatchQ", "[", 
               RowBox[{
                RowBox[{"FileBaseName", "[", "#", "]"}], ",", " ", 
                "\"\<toc\>\""}], "]"}]}], "&"}]}], "\n", "\t", "\t", "\t", 
           "\t\t\t", "]"}]}], "\n", "\t", "\t", "\t", "\t\t", "]"}], ",", 
        "\n", "\t", "\t", "\t", "\t", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"KeyMemberQ", "[", 
            RowBox[{"#", ",", " ", "\"\<ID\>\""}], "]"}], ",", "\n", "\t", 
           "\t", "\t", "\t\t", 
           RowBox[{"ToExpression", "[", "\n", "\t", "\t", "\t", "\t\t\t", 
            RowBox[{"StringSplit", "[", 
             RowBox[{"#ID", ",", " ", "\"\<.\>\""}], "]"}], "\n", "\t", "\t", 
            "\t", "\t\t\t", "]"}], ",", "\n", "\t", "\t", "\t", "\t\t", 
           RowBox[{"{", 
            RowBox[{"1000", ",", "1000", ",", "1000"}], "}"}]}], "\n", "\t", 
          "\t", "\t", "\t\t", "]"}], "&"}]}], "\n", "\t", "\t\t\t", "]"}]}], 
     ";", "\n", "\t\t", 
     RowBox[{"data", "=", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"GroupBy", "[", 
        RowBox[{"First", "\[Rule]", "Last"}], "]"}], "/@", "\n", "\t", "\t", 
       "\t\t", 
       RowBox[{
        RowBox[{"GroupBy", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"[", 
             RowBox[{"1", ",", "1"}], "]"}], "]"}], "&"}], "\[Rule]", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"#", "[", 
              RowBox[{"[", 
               RowBox[{"1", ",", "2"}], "]"}], "]"}], "\[Rule]", 
             RowBox[{"#", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], "&"}], ")"}]}], "]"}], "@", 
        "\n", "\t\t\t\t\t", 
        RowBox[{"KeyValueMap", "[", "\n", "\t\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"KeyMemberQ", "[", 
               RowBox[{"#2", ",", " ", "\"\<Path\>\""}], "]"}], ",", " ", 
              "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"Take", "[", 
               RowBox[{
                RowBox[{"URLParse", "[", 
                 RowBox[{
                  RowBox[{"#2", "[", "\"\<Path\>\"", "]"}], ",", " ", 
                  "\"\<Path\>\""}], "]"}], ",", " ", 
                RowBox[{"UpTo", "[", "2", "]"}]}], "]"}], ",", "\n", 
              "\t\t\t\t\t\t\t\t", 
              RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}], "->", 
            "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"<|", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{
              "\"\<Path\>\"", "\[Rule]", "\n", "\t", "\t\t\t\t\t\t\t\t", 
               RowBox[{"URLBuild", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"Flatten", "@", 
                 RowBox[{
                 "{", "\n", "\t", "\t", "\t", "\t", "\t", "\t", "\t", 
                  "\t\t\t\t", 
                  RowBox[{
                  "\"\<..\>\"", ",", "\n", "\t", "\t", "\t", "\t", "\t", "\t",
                    "\t", "\t\t\t\t", 
                   RowBox[{"Most", "@", 
                    RowBox[{"FileNameSplit", "@", 
                    RowBox[{"StringTrim", "[", 
                    RowBox[{"#", ",", " ", "outdir"}], "]"}]}]}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"#2", "[", "\"\<Slug\>\"", "]"}], "<>", 
                    "\"\<.html\>\""}]}], "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                  "}"}]}], "\n", "\t", "\t\t\t\t\t\t\t\t\t", "]"}]}], ",", 
              "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{
              "\"\<Title\>\"", "\[Rule]", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"KeyMemberQ", "[", 
                  RowBox[{"#2", ",", " ", "\"\<Title\>\""}], "]"}], ",", " ", 
                 "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"#2", "[", "\"\<Title\>\"", "]"}], ",", "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"\"\<Post #\>\"", "<>", 
                  RowBox[{"ToString", "[", 
                   RowBox[{"postCounter", "++"}], "]"}]}]}], "\n", 
                "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t", 
             "|>"}]}], "&"}], ",", "\n", "\t\t\t\t\t\t", "metas"}], "\n", 
         "\t\t\t\t\t\t", "]"}]}]}]}], ";", "\n", "\t\t", 
     RowBox[{"cells", "=", "\n", "\t\t\t", 
      RowBox[{"KeyValueMap", "[", "\n", "\t", "\t", "\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"Cell", "[", "\n", "\t", "\t", "\t\t\t", 
          RowBox[{"CellGroupData", "[", 
           RowBox[{"Flatten", "@", 
            RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Cell", "[", 
               RowBox[{"#", ",", " ", "\"\<Section\>\""}], "]"}], ",", "\n", 
              "\t", "\t", "\t\t\t\t\t", 
              RowBox[{"KeyValueMap", "[", "\n", "\t", "\t", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"Cell", "[", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{
                  "CellGroupData", "[", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                   
                   RowBox[{"Flatten", "@", 
                    RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Cell", "[", 
                    RowBox[{"#", ",", "\"\<Subsection\>\""}], "]"}], ",", 
                    "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "Map", "[", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    "Cell", "[", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "TextData", "[", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"ButtonBox", "[", 
                    RowBox[{
                    "#Title", ",", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", " ", 
                    RowBox[{"BaseStyle", "\[Rule]", "\"\<Hyperlink\>\""}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "ButtonData", "\[Rule]", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "{", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FrontEnd`FileName", "[", 
                    RowBox[{"Evaluate", "@", 
                    RowBox[{"URLParse", "[", 
                    RowBox[{"#Path", ",", " ", "\"\<Path\>\""}], "]"}]}], 
                    "]"}], ",", " ", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", "None"}], "\n", "\t", 
                    "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}]}], "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}], "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", "\"\<Item\>\""}], 
                    "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", "]"}], "&"}], 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", "#2"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t", "]"}], "\n", "\t\t\t\t\t\t\t\t\t", 
                  "]"}], "&"}], ",", "\n", "\t", "\t", "\t\t\t\t\t\t", "#2"}],
                "\n", "\t", "\t", "\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t", 
             "\t\t\t\t\t", "}"}]}], "\n", "\t", "\t", "\t\t\t\t", "]"}], "\n",
           "\t", "\t", "\t\t\t", "]"}], "&"}], ",", "\n", "\t\t\t\t", 
        "data"}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t", 
     RowBox[{"WebSiteNewContent", "[", 
      RowBox[{
      "dir", ",", "\n", "\t\t", "\"\<pages\>\"", ",", "\n", "\t\t", 
       "\"\<toc\>\"", ",", "\n", "\t\t", "cells", ",", "\n", "\t\t", 
       RowBox[{"{", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"\"\<Title\>\"", "\[Rule]", "\"\<Table of Contents\>\""}], 
         ",", "\n", "\t\t\t", 
         RowBox[{"\"\<Slug\>\"", "\[Rule]", "\"\<toc\>\""}]}], "\n", "\t\t\t",
         "}"}]}], "\n", "\t\t", "]"}]}]}], "\n", "\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.7235735261056433`*^9, 3.7235735514189787`*^9}, {
   3.72357362678305*^9, 3.7235737263617477`*^9}, {3.723573861656205*^9, 
   3.723573963907795*^9}, {3.7236037729456367`*^9, 3.723603773163801*^9}, {
   3.7236038761918497`*^9, 3.723603879131969*^9}, {3.724178395418016*^9, 
   3.724178554278709*^9}, 3.724178585663657*^9, {3.724178984689706*^9, 
   3.724178987581759*^9}},ExpressionUUID->"567337c4-9ffc-43a8-8680-\
a3ad95484478"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]FindTheme\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7125375649332743`*^9, 3.712537566964675*^9}, {
  3.723000499184258*^9, 3.723000500014727*^9}, {3.723055488689538*^9, 
  3.723055488830216*^9}},ExpressionUUID->"9b5509e9-f54e-4813-92cc-\
9f2f17b1a22b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteThemes", "[", "themePat_", "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{"Select", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"DirectoryQ", "@", 
      RowBox[{"FileNameJoin", "@", 
       RowBox[{"{", 
        RowBox[{"#", ",", " ", "\"\<templates\>\""}], "}"}]}]}], "&"}], "\n", 
    "\t\t", "]"}], "@", "\n", "\t\t", 
   RowBox[{"FileNames", "[", 
    RowBox[{"themePat", ",", " ", "$WebSiteThemePath"}], 
    "]"}]}]}]], "CodeInput",
 CellChangeTimes->{{3.7230034448934927`*^9, 
  3.723003517515032*^9}},ExpressionUUID->"f856cdf0-42da-4ae2-8a66-\
bb1e464266f3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"validThemeURL", "[", "s_", "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"parse", "=", 
       RowBox[{"URLParse", "[", "s", "]"}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{"MatchQ", "[", 
      RowBox[{
       RowBox[{"parse", "[", "\"\<Scheme\>\"", "]"}], ",", " ", 
       RowBox[{"\"\<http\>\"", "|", "\"\<https\>\""}]}], "]"}]}], "\n", 
    "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteInstallTheme", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"themeURL_String", "?", "validThemeURL"}], ",", " ", "\n", "\t", 
     
     RowBox[{"dir", ":", 
      RowBox[{
       RowBox[{"_String", "?", "DirectoryQ"}], "|", "Automatic"}], ":", 
      "Automatic"}]}], "\n", "\t", "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"d", "=", 
       RowBox[{"Replace", "[", 
        RowBox[{"dir", ",", " ", 
         RowBox[{"Automatic", "\[RuleDelayed]", "$WebSiteTempThemeDir"}]}], 
        "]"}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"arc", "=", 
         RowBox[{"ExtractArchive", "[", 
          RowBox[{
           RowBox[{"URLDownload", "[", "themeURL", "]"}], ",", " ", "d"}], 
          "]"}]}], "}"}], ",", "\n", "\t\t\t", 
       RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"MinimalBy", "[", 
          RowBox[{
           RowBox[{"DirectoryName", "/@", "arc"}], ",", " ", 
           "FileNameDepth"}], "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"t_", ",", " ", "___"}], "}"}], "\[RuleDelayed]", "t"}], 
           ",", "\n", "\t\t\t\t\t", 
           RowBox[{"_", "\[Rule]", "$Failed"}]}], "\n", "\t\t\t\t\t", "}"}]}],
         "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
    "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.728211352430552*^9, 3.728211580336132*^9}, {
   3.728211680742462*^9, 3.728211908324335*^9}, 
   3.728967545094336*^9},ExpressionUUID->"00e696d9-acd4-4369-b971-\
5ecd1472f214"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteFindTheme", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "False"}], "\n", "\t\t", 
    "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteFindTheme", "[", 
    RowBox[{
     RowBox[{"dir_String", "?", "DirectoryQ"}], ",", " ", "theme_String", ",",
      "\n", "\t", 
     RowBox[{"o", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"SelectFirst", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Join", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{"theme", ",", "\n", "\t\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", " ", "\"\<themes\>\"", ",", " ", "theme"}], 
           "}"}]}], ",", "\n", "\t\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", " ", "\"\<theme\>\""}], "}"}]}]}], "\n", 
        "\t\t\t\t", "}"}], ",", "\n", "\t\t\t", 
       RowBox[{"Map", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"#", ",", " ", "theme"}], "}"}]}], "&"}], ",", "\n", 
         "\t\t\t\t", "$WebSiteThemePath"}], "\n", "\t\t\t\t", "]"}]}], "\n", 
      "\t\t\t", "]"}], ",", "\n", "\t\t", "DirectoryQ", ",", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"OptionValue", "[", "\"\<DownloadTheme\>\"", "]"}], "===", 
        "True"}], ",", "\n", "\t\t\t", 
       RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteInstallTheme", "[", "\n", "\t\t\t\t\t", 
          RowBox[{"URLBuild", "@", 
           RowBox[{"{", 
            RowBox[{"$WebThemesURLBase", ",", " ", 
             RowBox[{"theme", "<>", "\"\<.zip\>\""}]}], "}"}]}], "\n", 
          "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"s_String", ":>", "\n", "\t\t\t\t\t", 
          RowBox[{"WebSiteFindTheme", "[", 
           RowBox[{"dir", ",", " ", "theme", ",", " ", 
            RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "False"}]}], 
           "]"}]}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
       "$Failed"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteFindTheme", "[", 
    RowBox[{
     RowBox[{"dir_String", "?", "DirectoryQ"}], ",", " ", 
     RowBox[{"op", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Module", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"ops", "=", 
        RowBox[{"WebSiteOptions", "[", "dir", "]"}]}], ",", "\n", "\t", 
       "\t\t", "theme"}], "\n", "\t", "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{"Replace", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"Lookup", "[", 
        RowBox[{"ops", ",", " ", "\"\<Theme\>\""}], "]"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"s_String", ":>", "\n", "\t\t\t\t\t", 
          RowBox[{"WebSiteFindTheme", "[", 
           RowBox[{"dir", ",", " ", "s", ",", " ", "op"}], "]"}]}], ",", "\n",
          "\t\t\t\t", 
         RowBox[{"_", "\[RuleDelayed]", "\n", "\t\t\t\t\t", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"DirectoryQ", "@", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", 
               RowBox[{"dir", ",", " ", "\"\<theme\>\""}], "}"}]}]}], ",", 
            "\n", "\t\t\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<theme\>\""}], "}"}]}], ",", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"Replace", "[", 
             RowBox[{
              RowBox[{"WebSiteFindTheme", "[", 
               RowBox[{"dir", ",", " ", "\"\<minimal\>\"", ",", " ", "op"}], 
               "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"$Failed", ":>", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"SelectFirst", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"FileNames", "[", 
                  RowBox[{"\"\<*\>\"", ",", " ", "$WebSiteThemePath"}], "]"}],
                  ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"Directory", "@", 
                   RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"#", ",", " ", "\"\<templates\>\""}], "}"}]}]}], 
                  "&"}]}], "\n", "\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
             "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n",
         "\t\t\t\t", "}"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.712537521872905*^9, 3.712537549862862*^9}, {
   3.7125376254947147`*^9, 3.7125376370514393`*^9}, {3.712537761940215*^9, 
   3.7125377627949047`*^9}, 3.712582646560438*^9, {3.712582782681658*^9, 
   3.712582871320414*^9}, {3.7126142180837097`*^9, 3.712614230527224*^9}, {
   3.723000517497678*^9, 3.7230006720021973`*^9}, {3.72300070445094*^9, 
   3.7230007485023813`*^9}, {3.723000781134329*^9, 3.723000819318481*^9}, {
   3.723000860929474*^9, 3.723000959904168*^9}, {3.723001041574931*^9, 
   3.72300105969526*^9}, {3.723002607426408*^9, 3.723002614084757*^9}, 
   3.723003473032641*^9, {3.7230035220166807`*^9, 3.723003550372177*^9}, {
   3.723003583847295*^9, 3.7230035920996532`*^9}, {3.723004406911532*^9, 
   3.723004407584119*^9}, {3.723004655102244*^9, 3.723004665391246*^9}, 
   3.723055501770842*^9, 3.723056342510867*^9, {3.728211329301165*^9, 
   3.728211341069045*^9}, {3.728211919409376*^9, 3.728211946629781*^9}, {
   3.7282122866257477`*^9, 3.728212319035419*^9}, {3.728212349884112*^9, 
   3.728212442112981*^9}, {3.7289676182868357`*^9, 3.728967620308681*^9}, {
   3.728967818132329*^9, 3.728967821724332*^9}, {3.7289680061101637`*^9, 
   3.7289680163548183`*^9}, {3.7331480941038303`*^9, 
   3.733148099291956*^9}},ExpressionUUID->"63b7d36a-ae4a-41e6-a63d-\
60813c35f1a0"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteOpenTheme\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.723000190422576*^9, 3.723000191699443*^9}, {
  3.7230005042703114`*^9, 
  3.7230005053908033`*^9}},ExpressionUUID->"b6924506-4346-44df-8b0e-\
a35e80017359"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteOpenTheme", "[", 
   RowBox[{"dir_", ",", " ", 
    RowBox[{"theme", ":", 
     RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}]}], "]"}], ":=",
   "\n", "\t", 
  RowBox[{"Replace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"theme", "===", "Automatic"}], ",", "\n", "\t\t\t", 
      RowBox[{"WebSiteFindTheme", "[", "dir", "]"}], ",", "\n", "\t\t\t", 
      RowBox[{"WebSiteFindTheme", "[", 
       RowBox[{"dir", ",", " ", "theme"}], "]"}]}], "\n", "\t\t\t", "]"}], 
    ",", "\n", "\t\t", 
    RowBox[{"d_String", "\[RuleDelayed]", 
     RowBox[{"SystemOpen", "[", "d", "]"}]}]}], "\n", "\t\t", 
   "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.723000461708989*^9, 3.723000465198411*^9}, {
  3.723000506917292*^9, 3.7230005141650887`*^9}, {3.723000986058577*^9, 
  3.7230010895632973`*^9}},ExpressionUUID->"f5dccbb7-6603-45c6-81c7-\
49a61d20ac6e"]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]ContentStack Manipulation\[RightFloor]", "CodeSubsection",
 
 Evaluatable->True,ExpressionUUID->"9eeae8f7-084c-4857-8aad-13197ab04252"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteSetContentAttributes\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"636c9bf7-2010-4d0f-b146-70b4ac5de43f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteSetContentAttributes", "[", "\n", "\t", 
   RowBox[{"fname_", ",", "\n", "\t", "props_"}], "\n", "\t", "]"}], ":=", 
  "\n", "\t", 
  RowBox[{"(", "\n", "\t\t", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"!", 
       RowBox[{"AssociationQ", "@", 
        RowBox[{"$WebSiteBuildContentStack", "[", "fname", "]"}]}]}], ",", 
      "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"$WebSiteBuildContentStack", "[", "fname", "]"}], "=", 
       RowBox[{"<|", "|>"}]}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"!", 
       RowBox[{"AssociationQ", "@", 
        RowBox[{"$WebSiteBuildContentStack", "[", 
         RowBox[{"fname", ",", " ", "\"\<Attributes\>\""}], "]"}]}]}], ",", 
      "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"$WebSiteBuildContentStack", "[", 
        RowBox[{"fname", ",", " ", "\"\<Attributes\>\""}], "]"}], "=", 
       RowBox[{"<|", "|>"}]}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
    RowBox[{"AssociateTo", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"$WebSiteBuildContentStack", "[", 
       RowBox[{"fname", ",", " ", "\"\<Attributes\>\""}], "]"}], ",", "\n", 
      "\t\t\t", "props"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   ")"}]}]], \
"CodeInput",ExpressionUUID->"94a4d2aa-88d0-4761-a89b-8687ae197098"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteCollectContentURLs\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"176bc22d-5c54-4df0-a9d0-2d5859c7346c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteCollectContentURLs", "[", "]"}], ":=", "\n", 
  "\t"}]], "CodeInput",ExpressionUUID->"3467382e-f74b-4367-8617-c72f67f4685d"]\

}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Site Building\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712787607780467*^9, 3.712787609758031*^9}, {
  3.7128335635270357`*^9, 
  3.712833564412951*^9}},ExpressionUUID->"0f885a4b-60f5-4e84-ae48-\
198d7143ff1a"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]XMLTemplateApply\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712537569868313*^9, 3.7125375717482452`*^9}, {
  3.712682970844015*^9, 
  3.712682971161134*^9}},ExpressionUUID->"427be8d0-848f-4fa2-a66c-\
052fd7eda9e0"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]xmlTemplateApplyInit\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"3e4075ee-8947-467c-b6aa-d56903a9163c"],

Cell[BoxData[
 RowBox[{"\t", 
  RowBox[{
   RowBox[{
    RowBox[{"xmlTemplateApplyInit", "[", 
     RowBox[{"root_", ",", " ", "template_"}], "]"}], ":=", "\n", "\t\t", 
    RowBox[{"(", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"$WSBCachedBuildData", "[", "\"\<Context\>\"", "]"}], "=", 
       "$Context"}], ";", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"$WSBCachedBuildData", "[", "\"\<TemplatePath\>\"", "]"}], "=",
        "$TemplatePath"}], ";", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"$WSBCachedBuildData", "[", "\"\<Path\>\"", "]"}], "=", 
       "$Path"}], ";", "\n", "\t\t\t", 
      RowBox[{"$TemplatePath", "=", "\n", "\t\t\t\t", 
       RowBox[{"Join", "[", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"Flatten", "@", 
          RowBox[{"List", "@", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Replace", "[", 
            RowBox[{"root", ",", " ", 
             RowBox[{"Automatic", "\[RuleDelayed]", 
              RowBox[{"DirectoryName", "@", "template"}]}]}], "]"}]}]}], ",", 
         "\n", "\t", "\t\t\t\t", 
         RowBox[{
         "{", "\n", "\t", "\t\t\t\t\t", "$TemplateLibDirectory", "\n", "\t", 
          "\t\t\t\t\t", "}"}], ",", "\n", "\t", "\t\t\t\t", "$TemplatePath"}],
         "\n", "\t\t\t\t\t", "]"}]}], ";", "\n", "\t\t\t", 
      RowBox[{"$Path", "=", "\n", "\t\t\t\t", 
       RowBox[{"Join", "[", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"Flatten", "@", 
          RowBox[{"List", "@", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Replace", "[", 
            RowBox[{"root", ",", " ", 
             RowBox[{"Automatic", "\[RuleDelayed]", 
              RowBox[{"DirectoryName", "@", "template"}]}]}], "]"}]}]}], ",", 
         "\n", "\t\t\t\t\t", 
         RowBox[{
         "{", "\n", "\t\t\t\t\t\t", "$TemplateLibDirectory", "\n", 
          "\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t", "$Path"}], "\n", 
        "\t\t\t\t\t", "]"}]}], ";", "\n", "\t\t\t", 
      RowBox[{"System`Private`NewContextPath", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\"\<Templating`lib`\>\"", ",", " ", "\"\<System`\>\""}], 
         "}"}], ";"}], "\n", "\t", "\t", "\t\t", "]"}], ";", "\n", "\t", "\t",
       "\t", 
      RowBox[{"$Context", "=", "\"\<Templating`lib`\>\""}], ";", "\n", "\t", 
      "\t", "\t", 
      RowBox[{"Unprotect", "[", "Templating`lib`$$templateLib", "]"}], ";", 
      "\n", "\t", "\t", "\t", 
      RowBox[{"Clear", "[", "Templating`lib`$$templateLib", "]"}], ";", "\n", 
      "\t\t\t", 
      RowBox[{"Get", "[", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{
         "\"\<include\>\"", ",", " ", "\"\<lib\>\"", ",", " ", 
          "\"\<loadTemplateLib.m\>\""}], "}"}]}], "]"}]}], "\n", "\t\t\t", 
     ")"}]}], ";"}]}]], \
"CodeInput",ExpressionUUID->"8247f014-ce51-494e-8937-c90d73d5668a"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]xmlTemplateApplyRestore\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"f17aeca3-eb82-4c9e-9cd3-2f377ff9e775"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xmlTemplateApplyRestore", "[", "]"}], ":=", "\n", "\t", 
  RowBox[{"(", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Remove", "[", "\"\<Templating`lib`*\>\"", "]"}], ";", "\n", 
    "\t\t", 
    RowBox[{"System`Private`RestoreContextPath", "[", "]"}], ";", "\n", 
    "\t\t", 
    RowBox[{"$Context", "=", 
     RowBox[{"$WSBCachedBuildData", "[", "\"\<Context\>\"", "]"}]}], ";", 
    "\n", "\t\t", 
    RowBox[{"$TemplatePath", "=", 
     RowBox[{"$WSBCachedBuildData", "[", "\"\<TemplatePath\>\"", "]"}]}], ";",
     "\n", "\t\t", 
    RowBox[{"$Path", "=", 
     RowBox[{"$WSBCachedBuildData", "[", "\"\<Path\>\"", "]"}]}], ";"}], "\n",
    "\t\t", ")"}]}]], \
"CodeInput",ExpressionUUID->"bd10f216-fb5e-4a1c-a55e-732eee7b3bdd"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$TemplateLibDirectory\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"6e4eccdf-ddd3-4ead-8a57-5a7f316928d0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$TemplateLibDirectory", "=", "\n", "\t", 
   RowBox[{"PackageFilePath", "[", 
    RowBox[{
    "\"\<Resources\>\"", ",", "\"\<Themes\>\"", ",", "\"\<template_lib\>\""}],
     "]"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.712769271555328*^9, 
  3.7127693122499723`*^9}},ExpressionUUID->"94fec643-5417-4375-a197-\
5fe5f22cf9b6"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteXMLTemplateApply\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"faae77da-5f27-4a48-844e-50fba77066f2"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteXMLTemplateApply", "[", "\n", "\t", 
   RowBox[{
    RowBox[{"root", ":", 
     RowBox[{"_String", "|", 
      RowBox[{"{", "__String", "}"}], "|", "Automatic"}], ":", "Automatic"}], 
    ",", "\n", "\t", 
    RowBox[{"template", ":", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}]}], ",", 
    "\n", "\t", 
    RowBox[{"args", ":", 
     RowBox[{"_", "?", "OptionQ"}], ":", 
     RowBox[{"{", "}"}]}]}], "\n", "\t", "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Internal`WithLocalSettings", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"xmlTemplateApplyInit", "[", 
       RowBox[{"root", ",", " ", "template"}], "]"}], ",", "\n", "\t\t\t", 
      RowBox[{"Nest", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"TemplateApply", "[", "\n", "\t", "\t\t\t\t", 
          RowBox[{
           RowBox[{"XMLTemplate", "[", "#", "]"}], ",", "\n", "\t\t\t\t\t", 
           "args"}], "\n", "\t\t\t\t\t", "]"}], "&"}], ",", "\n", "\t", 
        "\t\t\t", 
        RowBox[{"File", "[", "template", "]"}], ",", "\n", "\t\t\t\t", "1"}], 
       "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
      RowBox[{"xmlTemplateApplyRestore", "[", "]"}]}], "\n", "\t\t\t", "]"}], 
    ",", "\n", "\t\t", 
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{"s_String", ":>", "\n", "\t\t\t\t", 
      RowBox[{"StringReplace", "[", 
       RowBox[{"s", ",", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"Repeated", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"Whitespace", "?", 
               RowBox[{"(", 
                RowBox[{"StringFreeQ", "[", "\"\<\\n\>\"", "]"}], ")"}]}], 
              "|", "\"\<\>\""}], ")"}], "~~", "\"\<\\n\>\""}], ",", 
           RowBox[{"{", 
            RowBox[{"2", ",", "\[Infinity]"}], "}"}]}], "]"}], "\[Rule]", 
         "\"\<\\n\>\""}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t", 
     "}"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"488dd539-a30d-4b38-83df-b813cf4873af"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Utils\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712670143457838*^9, 
  3.712670146008109*^9}},ExpressionUUID->"2f921790-eb3f-4feb-9536-\
29104166907c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildSlug", "[", "fname_", "]"}], ":=", "\n", "\t", 
  RowBox[{"StringReplace", "[", 
   RowBox[{
    RowBox[{"StringTrim", "[", "fname", "]"}], ",", 
    RowBox[{"WhitespaceCharacter", "\[Rule]", "\"\<-\>\""}]}], 
   "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.712670146559816*^9, 
  3.712670187979145*^9}},ExpressionUUID->"fdbf14ab-a628-4563-94bb-\
acafd3798389"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildURL", "[", "fname_", "]"}], ":=", "\n", "\t", 
  RowBox[{"URLBuild", "@", 
   RowBox[{"FileNameSplit", "@", "\n", "\t\t", 
    RowBox[{"WebSiteBuildSlug", "@", "fname"}]}]}]}]], "CodeInput",
 CellChangeTimes->{{3.712670222931653*^9, 
  3.712670239194363*^9}},ExpressionUUID->"6eeb84c0-0af0-49a5-8531-\
fa8113d68e6f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildContentType", "[", 
   RowBox[{"fname_", ",", "dir_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"StringStartsQ", "[", 
     RowBox[{"fname", ",", "dir"}], "]"}], ",", "\n", "\t\t", 
    RowBox[{"Replace", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"FileNameTake", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"FileNameTake", "[", 
              RowBox[{"#", ",", "1"}], "]"}], "\[Equal]", "\"\<content\>\""}],
             ",", "\n", "\t", "\t", "\t\t\t", 
            RowBox[{"FileNameDrop", "[", 
             RowBox[{"#", ",", "1"}], "]"}], ",", "\n", "\t", "\t", "\t\t\t", 
            "#"}], "\n", "\t", "\t", "\t\t\t", "]"}], "&"}], "@", "\n", "\t", 
         "\t\t\t\t", 
         RowBox[{"FileNameDrop", "[", 
          RowBox[{"fname", ",", 
           RowBox[{"FileNameDepth", "@", "dir"}]}], "]"}]}], ",", "\n", "\t", 
        "\t\t\t", "1"}], "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"\"\<posts\>\"", "\[Rule]", "\"\<post\>\""}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"\"\<pages\>\"", "\[Rule]", "\"\<page\>\""}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"_", "\[Rule]", "\"\<misc\>\""}]}], "\n", "\t\t\t\t", "}"}]}],
      "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", "\"\<misc\>\""}], "\n", 
   "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.712765294396653*^9, 
  3.712765367653697*^9}},ExpressionUUID->"6a00823e-461d-4b4b-8111-\
97b1c341134a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteContentDirectoryTemplateMap", "=", "\n", "\t", 
   RowBox[{"<|", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<post\>\"", "\[Rule]", "\"\<article.html\>\""}], ",", "\n", 
     "\t\t", 
     RowBox[{"\"\<page\>\"", "\[Rule]", "\"\<page.html\>\""}], ",", "\n", 
     "\t\t", 
     RowBox[{"\"\<misc\>\"", "\[Rule]", "\"\<base.html\>\""}]}], "\n", "\t\t",
     "|>"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.7127651503568487`*^9, 3.712765186712968*^9}, {
  3.712765385165907*^9, 
  3.712765393548715*^9}},ExpressionUUID->"c3b8257e-fd51-4d13-b9f0-\
f632de79bd67"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildGetTemplates", "[", 
   RowBox[{"content_", ",", "dir_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Fold", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"Lookup", "[", 
        RowBox[{"#", ",", "#2", ",", 
         RowBox[{"<|", "|>"}]}], "]"}], "&"}], ",", "\n", "\t\t\t", 
      RowBox[{"{", 
       RowBox[{
       "$WebSiteBuildContentStack", ",", "\"\<Attributes\>\"", ",", 
        "\"\<Templates\>\""}], "}"}]}], "\n", "\t\t\t", "]"}], ",", "\n", 
    "\t\t", 
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"s_String", ":>", "\n", "\t\t\t\t", 
       RowBox[{"StringTrim", "@", 
        RowBox[{"StringSplit", "[", 
         RowBox[{"s", ",", "\"\<,\>\""}], "]"}]}]}], ",", "\n", "\t", "\t\t", 
      
      RowBox[{
       RowBox[{"Except", "[", 
        RowBox[{"_String", "|", 
         RowBox[{"{", "__String", "}"}]}], "]"}], ":>", "\n", "\t", "\t\t\t", 
       
       RowBox[{"Lookup", "[", 
        RowBox[{
        "$WebSiteContentDirectoryTemplateMap", ",", "\n", "\t", "\t\t\t\t", 
         RowBox[{"WebSiteBuildContentType", "[", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"content", ",", "\n", "\t", "\t\t\t\t\t", "longDir"}], "\n",
           "\t", "\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t\t\t\t", 
         "\"\<base.html\>\""}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t",
      "}"}]}], "\n", "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.712765520609771*^9, 3.712765552606987*^9}, {
   3.712765609241109*^9, 3.712765682993848*^9}, 
   3.723038914385352*^9},ExpressionUUID->"6cad4294-4a01-4341-898b-\
7e2206846160"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildFilePath", "[", 
   RowBox[{"fname_", ",", "dir_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"StringStartsQ", "[", 
     RowBox[{"fname", ",", " ", "dir"}], "]"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileNameTake", "[", 
            RowBox[{"#", ",", "1"}], "]"}], "\[Equal]", "\"\<posts\>\""}], 
          ",", "\n", "\t\t\t", 
          RowBox[{"FileNameDrop", "[", 
           RowBox[{"#", ",", " ", "1"}], "]"}], ",", "\n", "\t\t\t", "#"}], 
         "\n", "\t\t\t", "]"}], "&"}], "@", "\n", "\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"FileNameTake", "[", 
           RowBox[{"#", ",", " ", "1"}], "]"}], "\[Equal]", 
          "\"\<content\>\""}], ",", "\n", "\t", "\t\t\t", 
         RowBox[{"FileNameDrop", "[", 
          RowBox[{"#", ",", " ", "1"}], "]"}], ",", "\n", "\t\t\t\t", "#"}], 
        "\n", "\t", "\t\t\t", "]"}]}], "&"}], "@", "\n", "\t\t\t\t", 
     RowBox[{"FileNameDrop", "[", 
      RowBox[{"fname", ",", " ", 
       RowBox[{"FileNameDepth", "@", "dir"}]}], "]"}]}], ",", "\n", "\t\t", 
    RowBox[{"FileNameTake", "[", "fname", "]"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"2f20aa2c-54c6-4791-b359-194a4190c04c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$WebSiteBuildSafeExportXMLElements", "=", "\n", "\t", 
   RowBox[{"Alternatives", "@@", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{"\"\<script\>\"", ",", "\n", "\t\t", "\"\<style\>\""}], "\n", 
     "\t\t", "}"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"$WebSiteBuildSafeExportXMLMap", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{
     "\"\<\\\"\>\"", "\[Rule]", 
      "\"\<safeXMLExportProtectedCharacterQuot\>\""}], ",", "\n", "\t\t", 
     RowBox[{
     "\"\<<\>\"", "\[Rule]", "\"\<safeXMLExportProtectedCharacterLt\>\""}], 
     ",", "\n", "\t\t", 
     RowBox[{
     "\"\<>\>\"", "\[Rule]", "\"\<safeXMLExportProtectedCharacterGt\>\""}], 
     ",", "\n", "\t\t", 
     RowBox[{
     "\"\<&\>\"", "\[Rule]", "\"\<safeXMLExportProtectedCharacterAmp\>\""}], 
     ",", "\n", "\t\t", 
     RowBox[{
     "\"\<'\>\"", "\[Rule]", 
      "\"\<safeXMLExportProtectedCharacterApos\>\""}]}], "\n", "\t\t", 
    "}"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7331557233131943`*^9, 3.733155771837329*^9}, {
  3.7331558233218*^9, 3.733155832792305*^9}, {3.733156383589079*^9, 
  3.733156384785872*^9}, {3.733157006630118*^9, 
  3.733157013385683*^9}},ExpressionUUID->"698a29a9-c2de-4798-bdbc-\
2b7eb17d495b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildSafeExportXML", "[", "xml_", "]"}], ":=", "\n", "\t", 
  RowBox[{"StringReplace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"ExportString", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"xml", "/.", "\n", "\t", "\t\t\t", 
       RowBox[{
        RowBox[{"el", ":", 
         RowBox[{"XMLElement", "[", 
          RowBox[{"$WebSiteBuildSafeExportXMLElements", ",", " ", "__"}], 
          "]"}]}], ":>", "\n", "\t", "\t\t\t", 
        RowBox[{"(", 
         RowBox[{"el", "/.", 
          RowBox[{"s_String", "\[RuleDelayed]", 
           RowBox[{"StringReplace", "[", 
            RowBox[{"s", ",", " ", "$WebSiteBuildSafeExportXMLMap"}], 
            "]"}]}]}], ")"}]}]}], ",", "\n", "\t", "\t\t", "\"\<XML\>\""}], 
     "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
    RowBox[{"Reverse", "/@", "$WebSiteBuildSafeExportXMLMap"}]}], "\n", 
   "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.7331556473885593`*^9, 
  3.733155816346561*^9}},ExpressionUUID->"67ba5c36-5362-4fb3-ad74-\
b0f1549d6234"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplateProcessFonts\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"5a455cf3-ebf6-4eb1-8db6-4fe9ea825870"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]HTML Reps\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.723256236639769*^9, 3.7232562387976093`*^9}, {
  3.723258072701812*^9, 
  3.723258073212553*^9}},ExpressionUUID->"84272232-eec3-4e12-a12f-\
9bc75d10cf20"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$XMLFontPatchDumbSpecialCharListLong", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
    "\"\<AliasDelimiter\>\"", ",", "\"\<AliasIndicator\>\"", ",", 
     "\"\<Alpha\>\"", ",", "\"\<AltKey\>\"", ",", "\"\<And\>\"", ",", 
     "\"\<AquariusSign\>\"", ",", "\n", "\t", "\t", "\"\<AriesSign\>\"", ",", 
     "\"\<AutoPlaceholder\>\"", ",", "\"\<Backslash\>\"", ",", 
     "\"\<BeamedEighthNote\>\"", ",", "\"\<BeamedSixteenthNote\>\"", ",", 
     "\"\<Beta\>\"", ",", "\n", "\t", "\t", "\"\<BlackBishop\>\"", ",", 
     "\"\<BlackKing\>\"", ",", "\"\<BlackKnight\>\"", ",", 
     "\"\<BlackPawn\>\"", ",", "\"\<BlackQueen\>\"", ",", "\"\<BlackRook\>\"",
      ",", "\n", "\t", "\t", "\"\<CancerSign\>\"", ",", "\"\<Cap\>\"", ",", 
     "\"\<CapitalDifferentialD\>\"", ",", "\"\<CapitalDigamma\>\"", ",", 
     "\"\<CapitalKoppa\>\"", ",", "\"\<CapitalSampi\>\"", ",", "\n", "\t", 
     "\t", "\"\<CapitalStigma\>\"", ",", "\"\<CapricornSign\>\"", ",", 
     "\"\<Cent\>\"", ",", "\"\<CenterDot\>\"", ",", "\"\<CenterEllipsis\>\"", 
     ",", "\"\<Checkmark\>\"", ",", "\n", "\t", "\t", "\"\<Chi\>\"", ",", 
     "\"\<CircleDot\>\"", ",", "\"\<CircleMinus\>\"", ",", 
     "\"\<CirclePlus\>\"", ",", "\"\<CircleTimes\>\"", ",", 
     "\"\<ClockwiseContourIntegral\>\"", ",", "\n", "\t", "\t", 
     "\"\<CommandKey\>\"", ",", "\"\<Conditioned\>\"", ",", 
     "\"\<Conjugate\>\"", ",", "\"\<ConjugateTranspose\>\"", ",", 
     "\"\<ConstantC\>\"", ",", "\"\<Continuation\>\"", ",", "\n", "\t", "\t", 
     "\"\<ContourIntegral\>\"", ",", "\"\<ControlKey\>\"", ",", 
     "\"\<CounterClockwiseContourIntegral\>\"", ",", "\"\<Cross\>\"", ",", 
     "\"\<Cup\>\"", ",", "\"\<CurlyCapitalUpsilon\>\"", ",", "\n", "\t", 
     "\t", "\"\<CurlyEpsilon\>\"", ",", "\"\<CurlyKappa\>\"", ",", 
     "\"\<CurlyPhi\>\"", ",", "\"\<CurlyPi\>\"", ",", "\"\<CurlyRho\>\"", 
     ",", "\"\<CurlyTheta\>\"", ",", "\n", "\t", "\t", "\"\<DeleteKey\>\"", 
     ",", "\"\<DifferenceDelta\>\"", ",", "\"\<DifferentialD\>\"", ",", 
     "\"\<Digamma\>\"", ",", "\"\<DirectedEdge\>\"", ",", 
     "\"\<DiscreteRatio\>\"", ",", "\n", "\t", "\t", "\"\<DiscreteShift\>\"", 
     ",", "\"\<DiscretionaryPageBreakAbove\>\"", ",", 
     "\"\<DiscretionaryPageBreakBelow\>\"", ",", "\"\<Distributed\>\"", ",", 
     "\"\<Divide\>\"", ",", "\"\<DotEqual\>\"", ",", "\n", "\t", "\t", 
     "\"\<DotlessJ\>\"", ",", "\"\<DottedSquare\>\"", ",", 
     "\"\<DoubleDagger\>\"", ",", "\"\<DoubledGamma\>\"", ",", 
     "\"\<DoubledPi\>\"", ",", "\"\<DoubleDownArrow\>\"", ",", "\n", "\t", 
     "\t", "\"\<DoubledPi\>\"", ",", "\"\<DoubleLeftArrow\>\"", ",", 
     "\"\<DoubleLeftRightArrow\>\"", ",", "\"\<DoubleLeftTee\>\"", ",", 
     "\"\<DoubleLongLeftArrow\>\"", ",", "\"\<DoubleLongLeftRightArrow\>\"", 
     ",", "\n", "\t", "\t", "\"\<DoubleLongRightArrow\>\"", ",", 
     "\"\<DoubleRightArrow\>\"", ",", "\"\<DoubleStruckA\>\"", ",", 
     "\"\<DoubleStruckB\>\"", ",", "\"\<DoubleStruckC\>\"", ",", 
     "\"\<DoubleStruckA\>\"", ",", "\n", "\t", "\t", "\"\<DoubleStruckB\>\"", 
     ",", "\"\<DoubleStruckC\>\"", ",", "\"\<DoubleStruckCapitalA\>\"", ",", 
     "\"\<DoubleStruckCapitalB\>\"", ",", "\"\<DoubleStruckCapitalC\>\"", 
     ",", "\"\<DoubleStruckCapitalD\>\"", ",", "\n", "\t", "\t", 
     "\"\<DoubleStruckCapitalE\>\"", ",", "\"\<DoubleStruckCapitalF\>\"", 
     ",", "\"\<DoubleStruckCapitalG\>\"", ",", "\"\<DoubleStruckCapitalH\>\"",
      ",", "\"\<DoubleStruckCapitalI\>\"", ",", 
     "\"\<DoubleStruckCapitalJ\>\"", ",", "\n", "\t", "\t", 
     "\"\<DoubleStruckCapitalK\>\"", ",", "\"\<DoubleStruckCapitalL\>\"", 
     ",", "\"\<DoubleStruckCapitalM\>\"", ",", "\"\<DoubleStruckCapitalN\>\"",
      ",", "\"\<DoubleStruckCapitalO\>\"", ",", 
     "\"\<DoubleStruckCapitalP\>\"", ",", "\n", "\t", "\t", 
     "\"\<DoubleStruckCapitalQ\>\"", ",", "\"\<DoubleStruckCapitalR\>\"", 
     ",", "\"\<DoubleStruckCapitalS\>\"", ",", "\"\<DoubleStruckCapitalT\>\"",
      ",", "\"\<DoubleStruckCapitalU\>\"", ",", 
     "\"\<DoubleStruckCapitalV\>\"", ",", "\n", "\t", "\t", 
     "\"\<DoubleStruckCapitalW\>\"", ",", "\"\<DoubleStruckCapitalX\>\"", 
     ",", "\"\<DoubleStruckCapitalY\>\"", ",", "\"\<DoubleStruckCapitalZ\>\"",
      ",", "\"\<DoubleStruckD\>\"", ",", "\"\<DoubleStruckE\>\"", ",", "\n", 
     "\t", "\t", "\"\<DoubleStruckEight\>\"", ",", "\"\<DoubleStruckF\>\"", 
     ",", "\"\<DoubleStruckFive\>\"", ",", "\"\<DoubleStruckFour\>\"", ",", 
     "\"\<DoubleStruckG\>\"", ",", "\"\<DoubleStruckH\>\"", ",", "\n", "\t", 
     "\t", "\"\<DoubleStruckI\>\"", ",", "\"\<DoubleStruckJ\>\"", ",", 
     "\"\<DoubleStruckK\>\"", ",", "\"\<DoubleStruckL\>\"", ",", 
     "\"\<DoubleStruckM\>\"", ",", "\"\<DoubleStruckN\>\"", ",", "\n", "\t", 
     "\t", "\"\<DoubleStruckNine\>\"", ",", "\"\<DoubleStruckO\>\"", ",", 
     "\"\<DoubleStruckOne\>\"", ",", "\"\<DoubleStruckP\>\"", ",", 
     "\"\<DoubleStruckQ\>\"", ",", "\"\<DoubleStruckR\>\"", ",", "\n", "\t", 
     "\t", "\"\<DoubleStruckS\>\"", ",", "\"\<DoubleStruckSeven\>\"", ",", 
     "\"\<DoubleStruckSix\>\"", ",", "\"\<DoubleStruckT\>\"", ",", 
     "\"\<DoubleStruckThree\>\"", ",", "\"\<DoubleStruckTwo\>\"", ",", "\n", 
     "\t", "\t", "\"\<DoubleStruckU\>\"", ",", "\"\<DoubleStruckV\>\"", ",", 
     "\"\<DoubleStruckW\>\"", ",", "\"\<DoubleStruckX\>\"", ",", 
     "\"\<DoubleStruckY\>\"", ",", "\"\<DoubleStruckZ\>\"", ",", "\n", "\t", 
     "\t", "\"\<DoubleStruckZero\>\"", ",", "\"\<DoubleUpArrow\>\"", ",", 
     "\"\<DoubleUpDownArrow\>\"", ",", "\"\<DownArrowBar\>\"", ",", 
     "\"\<DownArrow\>\"", ",", "\"\<DownBreve\>\"", ",", "\n", "\t", "\t", 
     "\"\<DownLeftRightVector\>\"", ",", "\"\<DownLeftTeeVector\>\"", ",", 
     "\"\<DownLeftVector\>\"", ",", "\"\<DownLeftVectorBar\>\"", ",", 
     "\"\<DownPointer\>\"", ",", "\"\<DownRightTeeVector\>\"", ",", "\n", 
     "\t", "\t", "\"\<DownRightVector\>\"", ",", "\"\<DownRightVectorBar\>\"",
      ",", "\"\<DownTeeArrow\>\"", ",", "\"\<Earth\>\"", ",", 
     "\"\<EighthNote\>\"", ",", "\"\<Element\>\"", ",", "\n", "\t", "\t", 
     "\"\<Ellipsis\>\"", ",", "\"\<EmptyRectangle\>\"", ",", 
     "\"\<EmptySet\>\"", ",", "\"\<EnterKey\>\"", ",", "\"\<EntityEnd\>\"", 
     ",", "\"\<EntityStart\>\"", ",", "\n", "\t", "\t", "\"\<Epsilon\>\"", 
     ",", "\"\<Equal\>\"", ",", "\"\<Equilibrium\>\"", ",", 
     "\"\<Equivalent\>\"", ",", "\"\<ErrorIndicator\>\"", ",", 
     "\"\<EscapeKey\>\"", ",", "\n", "\t", "\t", "\"\<Eta\>\"", ",", 
     "\"\<Euro\>\"", ",", "\"\<ExponentialE\>\"", ",", 
     "\"\<FilledSmallCircle\>\"", ",", "\"\<FinalSigma\>\"", ",", 
     "\"\<FirstPage\>\"", ",", "\n", "\t", "\t", "\"\<FormalA\>\"", ",", 
     "\"\<FormalAlpha\>\"", ",", "\"\<FormalB\>\"", ",", "\"\<FormalBeta\>\"",
      ",", "\"\<FormalC\>\"", ",", "\"\<FormalCapitalA\>\"", ",", "\n", "\t", 
     "\t", "\"\<FormalCapitalAlpha\>\"", ",", "\"\<FormalCapitalB\>\"", ",", 
     "\"\<FormalCapitalBeta\>\"", ",", "\"\<FormalCapitalC\>\"", ",", 
     "\"\<FormalCapitalChi\>\"", ",", "\"\<FormalCapitalD\>\"", ",", "\n", 
     "\t", "\t", "\"\<FormalCapitalDelta\>\"", ",", 
     "\"\<FormalCapitalDigamma\>\"", ",", "\"\<FormalCapitalE\>\"", ",", 
     "\"\<FormalCapitalEpsilon\>\"", ",", "\"\<FormalCapitalEta\>\"", ",", 
     "\"\<FormalCapitalF\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalCapitalG\>\"", ",", "\"\<FormalCapitalGamma\>\"", ",", 
     "\"\<FormalCapitalH\>\"", ",", "\"\<FormalCapitalI\>\"", ",", 
     "\"\<FormalCapitalIota\>\"", ",", "\"\<FormalCapitalJ\>\"", ",", "\n", 
     "\t", "\t", "\"\<FormalCapitalK\>\"", ",", "\"\<FormalCapitalKappa\>\"", 
     ",", "\"\<FormalCapitalKoppa\>\"", ",", "\"\<FormalCapitalL\>\"", ",", 
     "\"\<FormalCapitalLambda\>\"", ",", "\"\<FormalCapitalM\>\"", ",", "\n", 
     "\t", "\t", "\"\<FormalCapitalMu\>\"", ",", "\"\<FormalCapitalN\>\"", 
     ",", "\"\<FormalCapitalNu\>\"", ",", "\"\<FormalCapitalO\>\"", ",", 
     "\"\<FormalCapitalOmega\>\"", ",", "\"\<FormalCapitalOmicron\>\"", ",", 
     "\n", "\t", "\t", "\"\<FormalCapitalP\>\"", ",", 
     "\"\<FormalCapitalPhi\>\"", ",", "\"\<FormalCapitalPi\>\"", ",", 
     "\"\<FormalCapitalPsi\>\"", ",", "\"\<FormalCapitalQ\>\"", ",", 
     "\"\<FormalCapitalR\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalCapitalRho\>\"", ",", "\"\<FormalCapitalS\>\"", ",", 
     "\"\<FormalCapitalSampi\>\"", ",", "\"\<FormalCapitalSigma\>\"", ",", 
     "\"\<FormalCapitalStigma\>\"", ",", "\"\<FormalCapitalT\>\"", ",", "\n", 
     "\t", "\t", "\"\<FormalCapitalTau\>\"", ",", 
     "\"\<FormalCapitalTheta\>\"", ",", "\"\<FormalCapitalU\>\"", ",", 
     "\"\<FormalCapitalUpsilon\>\"", ",", "\"\<FormalCapitalV\>\"", ",", 
     "\"\<FormalCapitalW\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalCapitalX\>\"", ",", "\"\<FormalCapitalXi\>\"", ",", 
     "\"\<FormalCapitalY\>\"", ",", "\"\<FormalCapitalZ\>\"", ",", 
     "\"\<FormalCapitalZeta\>\"", ",", "\"\<FormalChi\>\"", ",", "\n", "\t", 
     "\t", "\"\<FormalCurlyCapitalUpsilon\>\"", ",", 
     "\"\<FormalCurlyEpsilon\>\"", ",", "\"\<FormalCurlyKappa\>\"", ",", 
     "\"\<FormalCurlyPhi\>\"", ",", "\"\<FormalCurlyPi\>\"", ",", 
     "\"\<FormalCurlyRho\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalCurlyTheta\>\"", ",", "\"\<FormalD\>\"", ",", 
     "\"\<FormalDelta\>\"", ",", "\"\<FormalDigamma\>\"", ",", 
     "\"\<FormalE\>\"", ",", "\"\<FormalEpsilon\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalEta\>\"", ",", "\"\<FormalF\>\"", ",", 
     "\"\<FormalFinalSigma\>\"", ",", "\"\<FormalG\>\"", ",", 
     "\"\<FormalGamma\>\"", ",", "\"\<FormalH\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalI\>\"", ",", "\"\<FormalIota\>\"", ",", "\"\<FormalJ\>\"", 
     ",", "\"\<FormalK\>\"", ",", "\"\<FormalKappa\>\"", ",", 
     "\"\<FormalKoppa\>\"", ",", "\n", "\t", "\t", "\"\<FormalL\>\"", ",", 
     "\"\<FormalLambda\>\"", ",", "\"\<FormalM\>\"", ",", "\"\<FormalMu\>\"", 
     ",", "\"\<FormalN\>\"", ",", "\"\<FormalNu\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalO\>\"", ",", "\"\<FormalOmega\>\"", ",", 
     "\"\<FormalOmicron\>\"", ",", "\"\<FormalP\>\"", ",", 
     "\"\<FormalPhi\>\"", ",", "\"\<FormalPi\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalPsi\>\"", ",", "\"\<FormalQ\>\"", ",", "\"\<FormalR\>\"", 
     ",", "\"\<FormalRho\>\"", ",", "\"\<FormalS\>\"", ",", 
     "\"\<FormalSampi\>\"", ",", "\n", "\t", "\t", "\"\<FormalSigma\>\"", 
     ",", "\"\<FormalStigma\>\"", ",", "\"\<FormalT\>\"", ",", 
     "\"\<FormalTau\>\"", ",", "\"\<FormalTheta\>\"", ",", "\"\<FormalU\>\"", 
     ",", "\n", "\t", "\t", "\"\<FormalUpsilon\>\"", ",", "\"\<FormalV\>\"", 
     ",", "\"\<FormalW\>\"", ",", "\"\<FormalX\>\"", ",", "\"\<FormalXi\>\"", 
     ",", "\"\<FormalY\>\"", ",", "\n", "\t", "\t", "\"\<FormalZ\>\"", ",", 
     "\"\<FormalZeta\>\"", ",", "\"\<FreakedSmiley\>\"", ",", 
     "\"\<Function\>\"", ",", "\"\<GeminiSign\>\"", ",", "\"\<GothicA\>\"", 
     ",", "\n", "\t", "\t", "\"\<GothicB\>\"", ",", "\"\<GothicC\>\"", ",", 
     "\"\<GothicCapitalA\>\"", ",", "\"\<GothicCapitalB\>\"", ",", 
     "\"\<GothicCapitalC\>\"", ",", "\"\<GothicCapitalD\>\"", ",", "\n", "\t",
      "\t", "\"\<GothicCapitalE\>\"", ",", "\"\<GothicCapitalF\>\"", ",", 
     "\"\<GothicCapitalG\>\"", ",", "\"\<GothicCapitalH\>\"", ",", 
     "\"\<GothicCapitalI\>\"", ",", "\"\<GothicCapitalJ\>\"", ",", "\n", "\t",
      "\t", "\"\<GothicCapitalK\>\"", ",", "\"\<GothicCapitalL\>\"", ",", 
     "\"\<GothicCapitalM\>\"", ",", "\"\<GothicCapitalN\>\"", ",", 
     "\"\<GothicCapitalO\>\"", ",", "\"\<GothicCapitalP\>\"", ",", "\n", "\t",
      "\t", "\"\<GothicCapitalQ\>\"", ",", "\"\<GothicCapitalR\>\"", ",", 
     "\"\<GothicCapitalS\>\"", ",", "\"\<GothicCapitalT\>\"", ",", 
     "\"\<GothicCapitalU\>\"", ",", "\"\<GothicCapitalV\>\"", ",", "\n", "\t",
      "\t", "\"\<GothicCapitalW\>\"", ",", "\"\<GothicCapitalX\>\"", ",", 
     "\"\<GothicCapitalY\>\"", ",", "\"\<GothicCapitalZ\>\"", ",", 
     "\"\<GothicD\>\"", ",", "\"\<GothicE\>\"", ",", "\n", "\t", "\t", 
     "\"\<GothicEight\>\"", ",", "\"\<GothicF\>\"", ",", "\"\<GothicFive\>\"",
      ",", "\"\<GothicFour\>\"", ",", "\"\<GothicG\>\"", ",", 
     "\"\<GothicH\>\"", ",", "\n", "\t", "\t", "\"\<GothicI\>\"", ",", 
     "\"\<GothicJ\>\"", ",", "\"\<GothicK\>\"", ",", "\"\<GothicL\>\"", ",", 
     "\"\<GothicM\>\"", ",", "\"\<GothicN\>\"", ",", "\n", "\t", "\t", 
     "\"\<GothicNine\>\"", ",", "\"\<GothicO\>\"", ",", "\"\<GothicOne\>\"", 
     ",", "\"\<GothicP\>\"", ",", "\"\<GothicQ\>\"", ",", "\"\<GothicR\>\"", 
     ",", "\n", "\t", "\t", "\"\<GothicS\>\"", ",", "\"\<GothicSeven\>\"", 
     ",", "\"\<GothicSix\>\"", ",", "\"\<GothicT\>\"", ",", 
     "\"\<GothicThree\>\"", ",", "\"\<GothicTwo\>\"", ",", "\n", "\t", "\t", 
     "\"\<GothicU\>\"", ",", "\"\<GothicV\>\"", ",", "\"\<GothicW\>\"", ",", 
     "\"\<GothicX\>\"", ",", "\"\<GothicY\>\"", ",", "\"\<GothicZ\>\"", ",", 
     "\n", "\t", "\t", "\"\<GothicZero\>\"", ",", "\"\<GrayCircle\>\"", ",", 
     "\"\<GraySquare\>\"", ",", "\"\<Hacek\>\"", ",", 
     "\"\<HermitianConjugate\>\"", ",", "\"\<ImaginaryI\>\"", ",", "\n", "\t",
      "\t", "\"\<ImaginaryJ\>\"", ",", "\"\<Implies\>\"", ",", 
     "\"\<IndentingNewLine\>\"", ",", "\"\<Iota\>\"", ",", "\"\<Kappa\>\"", 
     ",", "\"\<KernelIcon\>\"", ",", "\n", "\t", "\t", "\"\<Koppa\>\"", ",", 
     "\"\<Lambda\>\"", ",", "\"\<LastPage\>\"", ",", "\"\<LeftArrow\>\"", 
     ",", "\"\<LeftArrowRightArrow\>\"", ",", "\"\<LeftAssociation\>\"", ",", 
     "\n", "\t", "\t", "\"\<LeftBracketingBar\>\"", ",", 
     "\"\<LeftDoubleBracket\>\"", ",", "\"\<LeftDoubleBracketingBar\>\"", 
     ",", "\"\<LeftDownTeeVector\>\"", ",", "\"\<LeftDownVectorBar\>\"", ",", 
     "\"\<LeftModified\>\"", ",", "\n", "\t", "\t", "\"\<LeftRightArrow\>\"", 
     ",", "\"\<LeftRightVector\>\"", ",", "\"\<LeftSkeleton\>\"", ",", 
     "\"\<LeftTeeArrow\>\"", ",", "\"\<LeftTeeVector\>\"", ",", 
     "\"\<LeftTriangleBar\>\"", ",", "\n", "\t", "\t", 
     "\"\<LeftTriangleEqual\>\"", ",", "\"\<LeftUpDownVector\>\"", ",", 
     "\"\<LeftUpTeeVector\>\"", ",", "\"\<LeftUpVectorBar\>\"", ",", 
     "\"\<LeftVector\>\"", ",", "\"\<LeftVectorBar\>\"", ",", "\n", "\t", 
     "\t", "\"\<LeoSign\>\"", ",", "\"\<LightBulb\>\"", ",", "\"\<Limit\>\"", 
     ",", "\"\<LineSeparator\>\"", ",", "\"\<LibraSign\>\"", ",", 
     "\"\<LongDash\>\"", ",", "\n", "\t", "\t", "\"\<LongEqual\>\"", ",", 
     "\"\<LongLeftArrow\>\"", ",", "\"\<LongLeftRightArrow\>\"", ",", 
     "\"\<LongRightArrow\>\"", ",", "\"\<LowerLeftArrow\>\"", ",", 
     "\"\<LowerRightArrow\>\"", ",", "\n", "\t", "\t", "\"\<Mars\>\"", ",", 
     "\"\<MathematicaIcon\>\"", ",", "\"\<MaxLimit\>\"", ",", 
     "\"\<MinLimit\>\"", ",", "\"\<Mu\>\"", ",", "\"\<Natural\>\"", ",", "\n",
      "\t", "\t", "\"\<Neptune\>\"", ",", "\"\<NestedGreaterGreater\>\"", 
     ",", "\"\<NestedLessLess\>\"", ",", "\"\<NeutralSmiley\>\"", ",", 
     "\"\<NotElement\>\"", ",", "\n", "\t", "\t", "\"\<NotEqual\>\"", ",", 
     "\"\<NotEqualTilde\>\"", ",", "\"\<NotGreaterGreater\>\"", ",", 
     "\"\<NotGreaterSlantEqual\>\"", ",", "\"\<NotHumpDownHump\>\"", ",", 
     "\"\<NotHumpEqual\>\"", ",", "\n", "\t", "\t", 
     "\"\<NotLeftTriangleBar\>\"", ",", "\"\<NotLessEqual\>\"", ",", 
     "\"\<NotLessLess\>\"", ",", "\"\<NotLessSlantEqual\>\"", ",", 
     "\"\<NotNestedGreaterGreater\>\"", ",", "\"\<NotNestedLessLess\>\"", ",",
      "\n", "\t", "\t", "\"\<NotPrecedesEqual\>\"", ",", 
     "\"\<NotPrecedesTilde\>\"", ",", "\"\<NotRightTriangleBar\>\"", ",", 
     "\"\<NotSquareSubset\>\"", ",", "\"\<NotSquareSuperset\>\"", ",", 
     "\"\<NotSucceedsEqual\>\"", ",", "\n", "\t", "\t", 
     "\"\<NotSucceedsTilde\>\"", ",", "\"\<NotVerticalBar\>\"", ",", 
     "\"\<NumberSign\>\"", ",", "\"\<Omega\>\"", ",", "\"\<Omicron\>\"", ",", 
     "\"\<OptionKey\>\"", ",", "\n", "\t", "\t", "\"\<OverBracket\>\"", ",", 
     "\"\<ParagraphSeparator\>\"", ",", "\"\<PermutationProduct\>\"", ",", 
     "\"\<Phi\>\"", ",", "\"\<Pi\>\"", ",", "\"\<Piecewise\>\"", ",", "\n", 
     "\t", "\t", "\"\<PiscesSign\>\"", ",", "\"\<Placeholder\>\"", ",", 
     "\"\<Proportional\>\"", ",", "\"\<Psi\>\"", ",", "\n", "\t\t", 
     "\"\<ReturnKey\>\"", ",", "\"\<ReverseElement\>\"", ",", 
     "\"\<ReverseEquilibrium\>\"", ",", "\"\<ReverseUpEquilibrium\>\"", ",", 
     "\"\<Rho\>\"", ",", "\"\<RightAngle\>\"", ",", "\n", "\t", "\t", 
     "\"\<RightArrow\>\"", ",", "\"\<RightArrowBar\>\"", ",", 
     "\"\<RightArrowLeftArrow\>\"", ",", "\"\<RightAssociation\>\"", ",", 
     "\"\<RightBracketingBar\>\"", ",", "\"\<RightCeiling\>\"", ",", "\n", 
     "\t", "\t", "\"\<RightDoubleBracket\>\"", ",", 
     "\"\<RightDoubleBracketingBar\>\"", ",", "\"\<RightDownTeeVector\>\"", 
     ",", "\"\<RightDownVector\>\"", ",", "\"\<RightDownVectorBar\>\"", ",", 
     "\"\<RightModified\>\"", ",", "\n", "\t", "\t", "\"\<RightSkeleton\>\"", 
     ",", "\"\<RightTeeArrow\>\"", ",", "\"\<RightTeeVector\>\"", ",", 
     "\"\<RightTriangleBar\>\"", ",", "\"\<RightUpDownVector\>\"", ",", 
     "\"\<RightUpTeeVector\>\"", ",", "\n", "\t", "\t", 
     "\"\<RightUpVector\>\"", ",", "\"\<RightUpVectorBar\>\"", ",", 
     "\"\<RightVector\>\"", ",", "\"\<RightVectorBar\>\"", ",", 
     "\"\<RoundImplies\>\"", ",", "\"\<RoundSpaceIndicator\>\"", ",", "\n", 
     "\t", "\t", "\"\<Rule\>\"", ",", "\"\<RuleDelayed\>\"", ",", 
     "\"\<SagittariusSign\>\"", ",", "\"\<Sampi\>\"", ",", 
     "\"\<ScorpioSign\>\"", ",", "\"\<ScriptA\>\"", ",", "\n", "\t", "\t", 
     "\"\<ScriptB\>\"", ",", "\"\<ScriptC\>\"", ",", "\"\<ScriptCapitalA\>\"",
      ",", "\"\<ScriptCapitalB\>\"", ",", "\"\<ScriptCapitalC\>\"", ",", 
     "\"\<ScriptCapitalD\>\"", ",", "\n", "\t", "\t", 
     "\"\<ScriptCapitalE\>\"", ",", "\"\<ScriptCapitalF\>\"", ",", 
     "\"\<ScriptCapitalG\>\"", ",", "\"\<ScriptCapitalH\>\"", ",", 
     "\"\<ScriptCapitalI\>\"", ",", "\"\<ScriptCapitalJ\>\"", ",", "\n", "\t",
      "\t", "\"\<ScriptCapitalK\>\"", ",", "\"\<ScriptCapitalL\>\"", ",", 
     "\"\<ScriptCapitalM\>\"", ",", "\"\<ScriptCapitalN\>\"", ",", 
     "\"\<ScriptCapitalO\>\"", ",", "\"\<ScriptCapitalP\>\"", ",", "\n", "\t",
      "\t", "\"\<ScriptCapitalQ\>\"", ",", "\"\<ScriptCapitalR\>\"", ",", 
     "\"\<ScriptCapitalS\>\"", ",", "\"\<ScriptCapitalT\>\"", ",", 
     "\"\<ScriptCapitalU\>\"", ",", "\"\<ScriptCapitalV\>\"", ",", "\n", "\t",
      "\t", "\"\<ScriptCapitalW\>\"", ",", "\"\<ScriptCapitalX\>\"", ",", 
     "\"\<ScriptCapitalY\>\"", ",", "\"\<ScriptCapitalZ\>\"", ",", 
     "\"\<ScriptD\>\"", ",", "\"\<ScriptDotlessI\>\"", ",", "\n", "\t", "\t", 
     "\"\<ScriptDotlessJ\>\"", ",", "\"\<ScriptE\>\"", ",", 
     "\"\<ScriptEight\>\"", ",", "\"\<ScriptF\>\"", ",", "\"\<ScriptFive\>\"",
      ",", "\"\<ScriptFour\>\"", ",", "\n", "\t", "\t", "\"\<ScriptG\>\"", 
     ",", "\"\<ScriptH\>\"", ",", "\"\<ScriptI\>\"", ",", "\"\<ScriptJ\>\"", 
     ",", "\"\<ScriptK\>\"", ",", "\"\<ScriptL\>\"", ",", "\n", "\t", "\t", 
     "\"\<ScriptM\>\"", ",", "\"\<ScriptN\>\"", ",", "\"\<ScriptNine\>\"", 
     ",", "\"\<ScriptO\>\"", ",", "\"\<ScriptOne\>\"", ",", "\"\<ScriptP\>\"",
      ",", "\n", "\t", "\t", "\"\<ScriptQ\>\"", ",", "\"\<ScriptR\>\"", ",", 
     "\"\<ScriptS\>\"", ",", "\"\<ScriptSeven\>\"", ",", "\"\<ScriptSix\>\"", 
     ",", "\"\<ScriptT\>\"", ",", "\n", "\t", "\t", "\"\<ScriptThree\>\"", 
     ",", "\"\<ScriptTwo\>\"", ",", "\"\<ScriptU\>\"", ",", "\"\<ScriptV\>\"",
      ",", "\"\<ScriptW\>\"", ",", "\"\<ScriptX\>\"", ",", "\n", "\t", "\t", 
     "\"\<ScriptY\>\"", ",", "\"\<ScriptZ\>\"", ",", "\"\<ScriptZero\>\"", 
     ",", "\"\<SelectionPlaceholder\>\"", ",", "\"\<ShortLeftArrow\>\"", ",", 
     "\"\<ShortRightArrow\>\"", ",", "\n", "\t", "\t", "\"\<Sigma\>\"", ",", 
     "\"\<SpaceKey\>\"", ",", "\"\<SpanFromAbove\>\"", ",", 
     "\"\<SpanFromBoth\>\"", ",", "\"\<SpanFromLeft\>\"", ",", 
     "\"\<SphericalAngle\>\"", ",", "\n", "\t", "\t", "\"\<Sqrt\>\"", ",", 
     "\"\<Square\>\"", ",", "\"\<Sterling\>\"", ",", "\"\<Stigma\>\"", ",", 
     "\"\<SuchThat\>\"", ",", "\"\<Sum\>\"", ",", "\n", "\t", "\t", 
     "\"\<SystemEnterKey\>\"", ",", "\"\<SystemsModelDelay\>\"", ",", 
     "\"\<SZ\>\"", ",", "\"\<TabKey\>\"", ",", "\"\<Tau\>\"", ",", 
     "\"\<TaurusSign\>\"", ",", "\n", "\t", "\t", "\"\<TensorProduct\>\"", 
     ",", "\"\<TensorWedge\>\"", ",", "\"\<Theta\>\"", ",", "\"\<Thorn\>\"", 
     ",", "\"\<Transpose\>\"", ",", "\"\<TripleDot\>\"", ",", "\n", "\t", 
     "\t", "\"\<TwoWayRule\>\"", ",", "\"\<UnderBracket\>\"", ",", 
     "\"\<UndirectedEdge\>\"", ",", "\"\<UnionPlus\>\"", ",", 
     "\"\<UpArrowBar\>\"", ",", "\"\<UpArrowDownArrow\>\"", ",", "\n", "\t", 
     "\t", "\"\<UpEquilibrium\>\"", ",", "\"\<UpperLeftArrow\>\"", ",", 
     "\"\<UpperRightArrow\>\"", ",", "\"\<UpPointer\>\"", ",", 
     "\"\<Upsilon\>\"", ",", "\"\<UpTeeArrow\>\"", ",", "\n", "\t", "\t", 
     "\"\<Uranus\>\"", ",", "\"\<VerticalBar\>\"", ",", 
     "\"\<VerticalSeparator\>\"", ",", "\"\<VirgoSign\>\"", ",", 
     "\"\<WarningSign\>\"", ",", "\"\<WatchIcon\>\"", ",", "\n", "\t", "\t", 
     "\"\<WhiteBishop\>\"", ",", "\"\<WhiteKing\>\"", ",", 
     "\"\<WhiteKnight\>\"", ",", "\"\<WhitePawn\>\"", ",", 
     "\"\<WhiteQueen\>\"", ",", "\"\<WhiteRook\>\"", ",", "\n", "\t", "\t", 
     "\"\<Wolf\>\"", ",", "\"\<WolframLanguageLogo\>\"", ",", 
     "\"\<WolframLanguageLogoCircle\>\"", ",", "\"\<Xi\>\"", ",", 
     "\"\<Xnor\>\"", ",", "\"\<Yen\>\"", ",", "\n", "\t", "\t", 
     "\"\<Zeta\>\""}], "\n", "\t", "\t", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"$XMLFontPatchDumbSpecialCharListConv", "=", "\n", "\t", 
   RowBox[{"ToExpression", "@", "\n", "\t\t", 
    RowBox[{"Map", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"\"\<\\\"\\\\[\>\"", "<>", "#", "<>", "\"\<]\\\"\>\""}], "&"}],
       ",", "\n", "\t\t\t", "$XMLFontPatchDumbSpecialCharListLong"}], "\n", 
     "\t\t\t", "]"}]}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7232581633696337`*^9, 3.723258299326816*^9}, 
   3.7232584782700663`*^9, {3.723258525790472*^9, 3.723258538640119*^9}, {
   3.7232595701116743`*^9, 3.723259654447546*^9}, 3.7232597699983387`*^9, {
   3.7232599091135406`*^9, 3.723259922319975*^9}, {3.723260041404097*^9, 
   3.7232600812411833`*^9}, {3.723261298034605*^9, 3.7232613049516993`*^9}, {
   3.7232613507512417`*^9, 3.7232613514632874`*^9}, {3.723261592615275*^9, 
   3.723261600664452*^9}, {3.723489481175343*^9, 
   3.723489484439087*^9}},ExpressionUUID->"0a36944b-8c59-4975-988d-\
c627cfd822d3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$XMLFontPatchFlag", "=", "\n", "\t", 
   RowBox[{"\"\<-fake-attr-fonts-patched\>\"", "\[Rule]", "\"\<true\>\""}]}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.723489972755496*^9, 
  3.72348998372502*^9}},ExpressionUUID->"e4ef4e00-bbc5-43b7-a3f5-\
51b78b7e8f87"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$XMLFontPatchDumbSpecialCharListLong", "=", "\n", "\t", 
   RowBox[{"Alternatives", "@@", "$XMLFontPatchDumbSpecialCharListLong"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"$XMLFontPatchDumbSpecialCharListConv", "=", "\n", "\t", 
   RowBox[{"Alternatives", "@@", "$XMLFontPatchDumbSpecialCharListConv"}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.723258358010404*^9, 3.7232583671918163`*^9}, {
  3.723489459974172*^9, 
  3.723489486262783*^9}},ExpressionUUID->"43e26f5a-022b-4e80-8e25-\
450669e90f85"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$XMLFontPatchStringToXMLElementRules", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"\"\<\\\\[AltKey]\>\"", "|", "\"\<\[AltKey]\>\""}], "\[Rule]", 
      "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<ALT\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[CommandKey]\>\"", "|", "\"\<\[CommandKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<CMD\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[ControlKey]\>\"", "|", "\"\<\[ControlKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<CTRL\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[DeleteKey]\>\"", "|", "\"\<\[DeleteKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<DEL\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[EnterKey]\>\"", "|", "\"\<\[EnterKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<ENTER\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[EscapeKey]\>\"", "|", "\"\<\[EscapeKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<ESC\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[OptionKey]\>\"", "|", "\"\<\[OptionKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<OPTION\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[ReturnKey]\>\"", "|", "\"\<\[ReturnKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<RET\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[ShiftKey]\>\"", "|", "\"\<\[ShiftKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<SHIFT\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[SpaceKey]\>\"", "|", "\"\<\[SpaceKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<SPACE\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{
      "\"\<\\\\[SystemEnterKey]\>\"", "|", "\"\<\[SystemEnterKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<RET\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[TabKey]\>\"", "|", "\"\<\[TabKey]\>\""}], "\[Rule]", 
      "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "\"\<TAB\>\"", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[\>\"", "~~", 
       RowBox[{"s", ":", 
        RowBox[{"(", "$XMLFontPatchDumbSpecialCharListLong", ")"}]}], "~~", 
       "\"\<]\>\""}], ":>", "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<span\>\"", ",", "\n", "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"\"\<class\>\"", "\[Rule]", 
           RowBox[{"\"\<special-character \>\"", "<>", "s"}]}], ",", "\n", 
          "\t\t\t\t\t", "$XMLFontPatchFlag"}], "\n", "\t\t\t\t\t", "}"}], ",",
         "\n", "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{"ToExpression", "[", 
          RowBox[{"\"\<\\\"\\\\[\>\"", "<>", "s", "<>", "\"\<]\\\"\>\""}], 
          "]"}], "\n", "\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t", "]"}]}], ",", 
     "\n", "\t\t", 
     RowBox[{
      RowBox[{"char", ":", "$XMLFontPatchDumbSpecialCharListConv"}], ":>", 
      "\n", "\t\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<span\>\"", ",", "\n", "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"\"\<class\>\"", "\[Rule]", 
           RowBox[{"\"\<special-character \>\"", "<>", 
            RowBox[{"CharacterName", "[", "char", "]"}]}]}], ",", " ", "\n", 
          "\t\t\t\t\t", "$XMLFontPatchFlag"}], "\n", "\t\t\t\t\t", "}"}], ",",
         "\n", "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", "char", "\n", "\t\t\t\t\t", "}"}]}], 
       "\n", "\t\t\t\t", "]"}]}]}], "\n", "\t\t", "}"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.723256199032009*^9, 3.723256204326704*^9}, {
   3.7232562645777483`*^9, 3.723256272209765*^9}, {3.723256304943675*^9, 
   3.723256314638413*^9}, {3.7232565015251293`*^9, 3.723256567394794*^9}, {
   3.723256634405017*^9, 3.723256680804195*^9}, {3.7232569448929777`*^9, 
   3.723256949240799*^9}, {3.7232572229378242`*^9, 3.7232573132076483`*^9}, {
   3.723257370083354*^9, 3.723257375908923*^9}, {3.7232580770738*^9, 
   3.7232580859219093`*^9}, {3.723258215209025*^9, 3.7232582173494253`*^9}, {
   3.7232582493678513`*^9, 3.7232582538134317`*^9}, {3.723258305330114*^9, 
   3.723258378571213*^9}, 3.7232584755757627`*^9, 3.7232616289778423`*^9, 
   3.723341143219803*^9, {3.7234888197892637`*^9, 3.7234889915176353`*^9}, {
   3.7234894868269987`*^9, 3.723489488088566*^9}, 3.723489525255625*^9, {
   3.723489864916601*^9, 3.723489895988003*^9}, {3.723489991241427*^9, 
   3.723489991353057*^9}, {3.723493493114785*^9, 
   3.723493507494334*^9}},ExpressionUUID->"ecbc7746-c53a-4486-9c36-\
216f1e067078"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplatePreProcess\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712633214138015*^9, 3.712633223527268*^9}, 
   3.71268299564373*^9},ExpressionUUID->"5790e13e-94a3-485d-90c9-\
12e6dada52cb"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteTemplatePreProcess", "[", 
   RowBox[{"fileContent_", ",", "args_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"lang", "=", "\n", "\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"args", ",", " ", "\"\<CodeLanguage\>\""}], "]"}]}], ",", 
      "\n", "\t\t", 
      RowBox[{"prettyprint", "=", "\n", "\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"args", ",", " ", "\"\<PrettyPrint\>\""}], "]"}]}], ",", "\n",
       "\t\t", 
      RowBox[{"patchfonts", "=", "\n", "\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"args", ",", " ", "\"\<PatchFonts\>\""}], "]"}]}], ",", "\n", 
      "\t\t", 
      RowBox[{"srcbase", "=", "\n", "\t\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{
         RowBox[{"Lookup", "[", 
          RowBox[{"args", ",", " ", "\"\<SiteURL\>\""}], "]"}], ",", " ", 
         RowBox[{
          RowBox[{"Except", "[", "_String", "]"}], "\[RuleDelayed]", 
          "\"\<\>\""}]}], "]"}]}]}], "\n", "\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"StringQ", "[", "srcbase", "]"}], ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"ReplaceAll", "[", "\n", "\t\t\t\t", 
         RowBox[{"#", ",", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"\"\<src\>\"", "\[Rule]", "f_"}], ")"}], "\[RuleDelayed]",
            "\n", "\t\t\t\t\t", 
           RowBox[{"(", 
            RowBox[{"\"\<src\>\"", "\[Rule]", 
             RowBox[{"StringReplace", "[", 
              RowBox[{"f", ",", " ", 
               RowBox[{"\"\<{filename}\>\"", "\[Rule]", "srcbase"}]}], 
              "]"}]}], ")"}]}]}], "\n", "\t\t\t\t", "]"}], "&"}], ",", "\n", 
       "\t\t\t", "Identity"}], "\n", "\t\t\t", "]"}], "@", "\n", "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"TrueQ", "[", "patchfonts", "]"}], ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"ReplaceRepeated", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"ReplaceRepeated", "[", "\n", "\t\t\t\t\t", 
            RowBox[{"#", ",", "\n", "\t", "\t\t\t\t", 
             RowBox[{
              RowBox[{"XMLElement", "[", 
               RowBox[{"a_", ",", " ", 
                RowBox[{"b_", "?", 
                 RowBox[{"(", 
                  RowBox[{"FreeQ", "[", "$XMLFontPatchFlag", "]"}], ")"}]}], 
                ",", " ", "d_"}], "]"}], ":>", "\n", "\t", "\t\t\t\t\t", 
              RowBox[{"XMLElement", "[", 
               RowBox[{"a", ",", "\n", "\t", "\t\t\t\t\t\t", 
                RowBox[{"Append", "[", 
                 RowBox[{"b", ",", " ", "$XMLFontPatchFlag"}], "]"}], ",", 
                "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"Replace", "[", 
                 RowBox[{"d", ",", "\n", "\t", "\t", "\t", "\t\t\t\t\t", 
                  RowBox[{
                  "s_String", ":>", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"Replace", "[", 
                    RowBox[{
                    RowBox[{"StringExpression", "[", "expr___", "]"}], 
                    "\[RuleDelayed]", "expr"}], "]"}], "@", "\n", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "StringReplace", "[", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "s", ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    "$XMLFontPatchStringToXMLElementRules"}], "\n", "\t", 
                    "\t", "\t\t\t\t\t\t\t\t", "]"}]}]}], ",", "\n", "\t", 
                  "\t", "\t\t\t\t\t\t", 
                  RowBox[{"{", "1", "}"}]}], "\n", "\t", "\t\t\t\t\t\t\t", 
                 "]"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
            "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"XMLElement", "[", 
             RowBox[{"a_", ",", " ", 
              RowBox[{"b_", "?", 
               RowBox[{"(", 
                RowBox[{"MemberQ", "[", "$XMLFontPatchFlag", "]"}], ")"}]}], 
              ",", " ", "c_"}], "]"}], ":>", "\n", "\t\t\t\t\t", 
            RowBox[{"XMLElement", "[", 
             RowBox[{"a", ",", " ", 
              RowBox[{"Most", "[", "b", "]"}], ",", " ", "c"}], "]"}]}]}], 
          "\n", "\t\t\t\t", "]"}], "&"}], ",", "\n", "\t\t\t", "Identity"}], 
       "\n", "\t\t\t", "]"}], "@", "\n", "\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"TrueQ", "[", "prettyprint", "]"}], ",", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{"ReplaceRepeated", "[", "\n", "\t\t\t\t", 
           RowBox[{"#", ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"XMLElement", "[", 
              RowBox[{"\"\<pre\>\"", ",", "\n", "\t\t\t\t\t", 
               RowBox[{"c_", "?", 
                RowBox[{"(", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"TrueQ", "[", "prettyprint", "]"}], "&&", "\n", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"StringFreeQ", "[", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{"#", ",", "\"\<class\>\"", ",", "\"\<\>\""}], 
                    "]"}], ",", " ", "\"\<prettyprint\>\""}], "]"}]}], "\n", 
                   "\t\t\t\t\t\t\t\t", ")"}], "\n", "\t\t\t\t\t\t\t", "&"}], 
                 ")"}]}], ",", "\n", "\t\t\t\t\t", 
               RowBox[{"e", ":", 
                RowBox[{"{", 
                 RowBox[{"XMLElement", "[", 
                  RowBox[{"\"\<code\>\"", ",", "___"}], "]"}], "}"}]}]}], 
              "\n", "\t\t\t\t\t", "]"}], ":>", "\n", "\t\t\t\t\t\t", 
             RowBox[{"XMLElement", "[", 
              RowBox[{"\"\<pre\>\"", ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"Append", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"Association", "@", "c"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"\"\<class\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "StringTrim", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{"c", ",", "\"\<class\>\"", ",", "\"\<\>\""}], 
                    "]"}], "<>", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    "\"\<prettyprint\>\""}], "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n",
                "\t\t\t\t\t\t\t", "e"}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}], 
           "\n", "\t\t\t\t", "]"}], "&"}], ",", "\n", "\t\t\t", "Identity"}], 
        "\n", "\t\t\t", "]"}], "@", "\n", "\t\t", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"StringQ", "[", "lang", "]"}], ",", "\n", "\t\t\t", 
          RowBox[{
           RowBox[{"ReplaceRepeated", "[", "\n", "\t\t\t\t", 
            RowBox[{"#", ",", "\n", "\t\t\t\t", 
             RowBox[{
              RowBox[{"XMLElement", "[", 
               RowBox[{"\"\<code\>\"", ",", "\n", "\t\t\t\t\t", 
                RowBox[{"c_", "?", 
                 RowBox[{"(", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"StringQ", "[", "lang", "]"}], "&&", "\n", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"StringFreeQ", "[", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{"#", ",", "\"\<class\>\"", ",", "\"\<\>\""}], 
                    "]"}], ",", "\"\<language-\>\""}], "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t", ")"}], "\n", "\t\t\t\t\t\t\t", "&"}], 
                  ")"}]}], ",", "\n", "\t\t\t\t\t", "e_"}], "]"}], ":>", "\n",
               "\t\t\t\t\t", 
              RowBox[{"XMLElement", "[", 
               RowBox[{"\"\<code\>\"", ",", "\n", "\t\t\t\t\t\t", 
                RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{"Append", "[", "\n", "\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"Association", "@", "c"}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<class\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"StringTrim", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{"c", ",", "\"\<class\>\"", ",", "\"\<\>\""}], 
                    "]"}], "<>", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    "\"\< language-\>\"", "<>", 
                    RowBox[{"ToLowerCase", "@", "lang"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                  "\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
                "e"}], "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", 
            "]"}], "&"}], ",", "\n", "\t\t\t", "Identity"}], "\n", "\t\t\t", 
         "]"}], "@", "\n", "\t\t\t", 
        RowBox[{"FirstCase", "[", "\n", "\t\t\t\t", 
         RowBox[{"fileContent", ",", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"XMLElement", "[", 
            RowBox[{"\"\<body\>\"", ",", "_", ",", "b_"}], "]"}], 
           "\[RuleDelayed]", "\n", "\t\t\t\t\t", "b"}], ",", "\n", "\t\t\t\t",
           "fileContent", ",", "\n", "\t\t\t\t", "\[Infinity]"}], "\n", 
         "\t\t\t\t", "]"}]}]}]}]}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"833b78ee-1c86-42e6-991f-4fcdaded7366"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplateGatherArgs\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712633290823132*^9, 
  3.712633317606709*^9}},ExpressionUUID->"a239289f-a0d2-44d7-a2d2-\
fbb4585dc31f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$WebSiteSummaryBaseUnits", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
    "\"\<Characters\>\"", ",", "\"\<Words\>\"", ",", "\"\<Characters\>\"", 
     ",", "\n", "\t\t", "\"\<Sentences\>\"", ",", "\"\<Paragraphs\>\"", ",", 
     "\"\<Lines\>\""}], "\n", "\t\t", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"$WebSiteSummaryIndependentUnits", ":=", "\n", "\t", 
   RowBox[{"$WebSiteSummaryIndependentUnits", "=", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Quantity", "/@", "$WebSiteSummaryBaseUnits"}], "//", 
     "QuantityUnit"}]}]}], ";"}], "\n", 
 RowBox[{"$WebSiteSummaryUnits", ":=", "\n", "\t", 
  RowBox[{"$WebSiteSummaryUnits", "=", "\n", "\t\t", 
   RowBox[{"Alternatives", "@@", "\n", "\t\t\t", 
    RowBox[{"Join", "[", 
     RowBox[{
     "$WebSiteSummaryBaseUnits", ",", "$WebSiteSummaryIndependentUnits"}], 
     "]"}]}]}]}]}], "CodeInput",
 CellChangeTimes->{{3.7127158706712427`*^9, 
  3.712716038089436*^9}},ExpressionUUID->"f31bd88e-826d-48ae-ac78-\
e903262d55cc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteTemplateGatherArgs", "[", 
   RowBox[{"fileContent_", ",", " ", "args_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{"content", "=", "\n", "\t\t\t\t", 
      RowBox[{"Replace", "[", 
       RowBox[{"fileContent", ",", "\n", "\t\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"l", ":", 
            RowBox[{"{", "__XMLElement", "}"}]}], "\[RuleDelayed]", "\n", 
           "\t\t\t\t\t\t\t\t", 
           RowBox[{"StringRiffle", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"WebSiteBuildSafeExportXML", "/@", "l"}], ",", "\n", 
             "\t\t\t\t\t\t\t\t\t", "\"\<\\n\>\""}], "\n", "\t", "\t", 
            "\t\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t\t\t\t", 
          RowBox[{"x_XMLElement", ":>", "\n", "\t\t\t\t\t\t\t\t", 
           RowBox[{"WebSiteBuildSafeExportXML", "[", "x", "]"}]}], ",", "\n", 
          "\t\t\t\t\t\t\t", 
          RowBox[{
          "None", "->", "\n", "\t", "\t", "\t\t\t\t\t\t", "\"\<\>\""}], ",", 
          "\n", "\t", "\t", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"e", ":", 
            RowBox[{"Except", "[", "_String", "]"}]}], ":>", "\n", "\t", "\t",
            "\t\t\t\t\t\t", 
           RowBox[{"(", 
            RowBox[{"Message", "[", 
             RowBox[{
              RowBox[{"WebSiteBuild", "::", "nocnt"}], ",", 
              RowBox[{"Short", "[", "e", "]"}]}], "]"}], ")"}]}]}], "\n", 
         "\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
     "\t\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{"Merge", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t", 
         RowBox[{
          RowBox[{"FirstCase", "[", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"StringQ", "[", "fileContent", "]"}], ",", "\n", "\t", 
              "\t\t\t\t\t\t", 
              RowBox[{"ImportString", "[", 
               RowBox[{"fileContent", ",", "\"\<HTML\>\""}], "]"}], ",", "\n",
               "\t", "\t\t\t\t\t\t", "fileContent"}], "\n", "\t", 
             "\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"t", ":", 
              RowBox[{"XMLElement", "[", 
               RowBox[{"\"\<title\>\"", ",", "_", ",", "_"}], "]"}]}], 
             "\[RuleDelayed]", "\n", "\t", "\t\t\t\t\t\t", 
             RowBox[{
             "System`Convert`XMLDump`getSymbolicXMLPlaintext", "@", "\n", 
              "\t", "\t\t\t\t\t\t\t", 
              RowBox[{"XMLElement", "[", 
               RowBox[{"\"\<body\>\"", ",", 
                RowBox[{"{", "}"}], ",", "t"}], "]"}]}]}], ",", "\n", "\t", 
            "\t\t\t\t\t", "None", ",", "\n", "\t", "\t\t\t\t\t", 
            "\[Infinity]"}], "\n", "\t", "\t\t\t\t\t", "]"}], ",", "\n", "\t",
           "\t\t\t\t", 
          RowBox[{"{", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{"Except", "[", "_String", "]"}], "\[Rule]", "\n", "\t", 
             "\t\t\t\t\t\t", "Nothing"}], ",", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{
            "s_String", "\[RuleDelayed]", "\n", "\t", "\t\t\t\t\t\t", 
             RowBox[{"(", 
              RowBox[{"\"\<Title\>\"", "->", "s"}], ")"}]}]}], "\n", "\t", 
           "\t\t\t\t\t", "}"}]}], "\n", "\t", "\t\t\t\t", "]"}], ",", "\n", 
        "\t", "\t\t\t", 
        RowBox[{"\"\<Summary\>\"", "->", "\n", "\t", "\t\t\t\t", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{"sl", "=", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"Lookup", "[", 
                RowBox[{"args", ",", "\"\<SummaryLength\>\""}], "]"}], ",", 
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{"i_Integer", "?", "Positive"}], ":>", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"{", 
                   RowBox[{"i", ",", " ", "\"\<Characters\>\""}], "}"}]}], 
                 ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"_", "[", 
                   RowBox[{
                    RowBox[{"i_Integer", "?", "Positive"}], ",", " ", 
                    RowBox[{"u", ":", 
                    RowBox[{
                    "Alternatives", "@@", "$WebSiteSummaryBaseUnits"}]}]}], 
                   "]"}], ":>", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"{", 
                   RowBox[{"i", ",", " ", "u"}], "}"}]}], ",", "\n", 
                 "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"_", "[", 
                   RowBox[{
                    RowBox[{"i_Integer", "?", "Positive"}], ",", " ", 
                    RowBox[{"u_String", "?", 
                    RowBox[{"(", 
                    RowBox[{"MatchQ", "[", 
                    RowBox[{"u", ",", " ", "$WebSiteSummaryBaseUnits"}], 
                    "]"}], ")"}]}]}], "]"}], ":>", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"{", 
                   RowBox[{"i", ",", " ", "u"}], "}"}]}], ",", "\n", 
                 "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"_", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"{", 
                   RowBox[{"1", ",", "\"\<Paragraph\>\""}], "}"}]}]}], "\n", 
                "\t\t\t\t\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t\t\t\t\t\t", 
            "}"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"With", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"cont", "=", 
               RowBox[{"ImportString", "[", 
                RowBox[{"content", ",", "\"\<HTML\>\""}], "]"}]}], "\n", 
              "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"Replace", "[", 
              RowBox[{"sl", ",", 
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"i_", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Characters\>\"", "|", 
                    RowBox[{
                    "IndependentUnit", "[", "\"\<characters\>\"", "]"}]}]}], 
                   "\n", "\t\t\t\t\t\t\t\t\t", "}"}], ":>", "\n", 
                  "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"Function", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"StringLength", "[", "#", "]"}], ">", "i"}], ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"StringTake", "[", 
                    RowBox[{"#", ",", 
                    RowBox[{"i", "-", "3"}]}], "]"}], "<>", "\"\<...\>\""}], 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", "#"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}], "@", "\n", 
                   "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"StringReplace", "[", 
                    RowBox[{"cont", ",", 
                    RowBox[{"Whitespace", "\[Rule]", "\"\< \>\""}]}], 
                    "]"}]}]}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"i_", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Lines\>\"", "|", 
                    RowBox[{"IndependentUnit", "[", 
                    RowBox[{"\"\<lines\>\"", "|", "\"\<lines of code\>\""}], 
                    "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t\t", "}"}], ":>", "\n", 
                  "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"StringRiffle", "@", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"Take", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"StringSplit", "[", 
                    RowBox[{"cont", ",", "\"\<\\n\>\""}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"UpTo", "[", "i", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], ",", "\n", 
                 "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"i_", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"IndependentUnit", "[", "t_", "]"}], "|", 
                    "t_String"}]}], "\n", "\t\t\t\t\t\t\t\t\t", "}"}], ":>", 
                  "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"StringRiffle", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"TextCases", "[", 
                    RowBox[{"cont", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"ToUpperCase", "[", 
                    RowBox[{"StringTake", "[", 
                    RowBox[{"#", ",", "1"}], "]"}], "]"}], "<>", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"StringDrop", "[", 
                    RowBox[{"#", ",", "1"}], "]"}]}], "&"}], "@", "t"}], ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t\t", "i"}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "\"\< \>\""}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                "\t\t\t\t\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t\t\t\t\t\t\t", 
            "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{"\"\<Date\>\"", "->", "\n", "\t", "\t\t\t\t", 
         RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Lookup", "[", 
            RowBox[{"args", ",", "\"\<Date\>\"", ",", "Now"}], "]"}], ",", 
           "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"s_String", "\[RuleDelayed]", 
            RowBox[{"DateObject", "[", "s", "]"}]}]}], "\n", "\t\t\t\t\t\t", 
          "]"}]}], ",", "\n", "\t\t\t\t", "args", ",", "\n", "\t\t\t\t", 
        RowBox[{"\"\<SiteName\>\"", "->", "\n", "\t", "\t\t\t\t", 
         RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Lookup", "[", 
            RowBox[{"args", ",", "\"\<SiteName\>\"", ",", "Automatic"}], 
            "]"}], ",", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"s_String", ":>", "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"URLParse", "[", 
                RowBox[{"s", ",", "\"\<Path\>\""}], "]"}], "[", 
               RowBox[{"[", 
                RowBox[{"-", "1"}], "]"}], "]"}]}], ",", "\n", "\t", 
             "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Except", "[", "_String", "]"}], ":>", "\n", "\t", "\t",
               "\t\t\t\t\t\t", 
              RowBox[{"Replace", "[", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Lookup", "[", 
                 RowBox[{"args", ",", "\"\<SiteURL\>\""}], "]"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"s_String", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"URLParse", "[", 
                    RowBox[{"s", ",", "\"\<Path\>\""}], "]"}], "[", 
                    RowBox[{"[", 
                    RowBox[{"-", "1"}], "]"}], "]"}]}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"Except", "[", "_String", "]"}], ":>", "\n", 
                   "\t\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"Replace", "[", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{"args", ",", " ", "\"\<SiteDirectory\>\""}], 
                    "]"}], ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Except", "[", "_String", "]"}], ":>", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Replace", "[", 
                    RowBox[{"$WolframID", ",", 
                    RowBox[{
                    "{", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "s_String", ":>", "\n", "\t", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"StringSplit", "[", 
                    RowBox[{"s", ",", "\"\<@\>\""}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ",", "\n", "\t", "\t", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"_", "\[Rule]", "$UserName"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t\t\t\t", 
               "]"}]}]}], "\n", "\t\t\t\t\t\t\t", "}"}]}], "\n", 
          "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t", "\t\t\t", 
        RowBox[{"\"\<SiteURL\>\"", "\[Rule]", "\n", "\t\t\t\t\t", 
         RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Lookup", "[", 
            RowBox[{
            "args", ",", " ", "\"\<SiteURL\>\"", ",", " ", "Automatic"}], 
            "]"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Automatic", ":>", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t", 
               RowBox[{"bit", "=", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                RowBox[{"Length", "@", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"Lookup", "[", 
                    RowBox[{
                    "args", ",", "\"\<URL\>\"", ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "FileNameSplit", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    "args", ",", " ", "\"\<FilePath\>\"", ",", " ", 
                    "\"\<??\>\""}], "]"}]}]}], "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "s_String", ":>", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"URLParse", "[", 
                    RowBox[{"s", ",", "\"\<Path\>\""}], "]"}]}]}], "\n", "\t",
                   "\t", "\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t", 
               "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t\t\t\t\t", 
               RowBox[{"bit", ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"1", "\[Rule]", "\"\<.\>\""}], ",", "\n", "\t", 
                  "\t", "\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "n_", ":>", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"URLBuild", "@", 
                    RowBox[{"ConstantArray", "[", 
                    RowBox[{"\"\<..\>\"", ",", 
                    RowBox[{"n", "-", "1"}]}], "]"}]}]}]}], "\n", "\t", "\t", 
                 "\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t", "\t", 
               "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t", "\t\t\t\t\t\t", 
             "]"}]}]}], "\n", "\t", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t", 
        "\t\t\t", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"url", "=", 
             RowBox[{"Lookup", "[", 
              RowBox[{"args", ",", " ", "\"\<URL\>\""}], "]"}]}], ",", "\n", 
            "\t\t\t\t\t", 
            RowBox[{"slug", "=", 
             RowBox[{"Lookup", "[", 
              RowBox[{"args", ",", " ", "\"\<Slug\>\""}], "]"}]}], ",", "\n", 
            "\t\t\t\t\t", 
            RowBox[{"fp", "=", 
             RowBox[{"Lookup", "[", 
              RowBox[{"args", ",", " ", "\"\<FilePath\>\""}], "]"}]}]}], "\n",
            "\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Which", "[", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"StringQ", "@", "url"}], ",", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"\"\<URL\>\"", "->", "url"}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"StringQ", "@", "slug"}], ",", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"\"\<URL\>\"", "->", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"StringQ", "[", "fp", "]"}], ",", "\n", "\t", "\t", 
               "\t\t\t\t\t\t\t", 
               RowBox[{
               "URLBuild", "@", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                RowBox[{"Append", "[", 
                 RowBox[{
                  RowBox[{"Most", "@", 
                   RowBox[{"FileNameSplit", "[", "fp", "]"}]}], ",", 
                  RowBox[{"slug", "<>", "\"\<.html\>\""}]}], "]"}]}], ",", 
               "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
               RowBox[{"slug", "<>", "\"\<.html\>\""}]}], "\n", "\t", "\t", 
              "\t\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t", "\t\t\t\t\t", 
            "True", ",", "\t", "\n", "\t", "\t\t\t\t\t\t", "Nothing"}], "\n", 
           "\t", "\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t", "]"}], ",", 
        "\n", "\t", "\t\t\t", 
        RowBox[{
        "\"\<Content\>\"", "->", "\n", "\t", "\t\t\t\t", "content"}]}], "\n", 
       "\t", "\t\t\t", "}"}], ",", "\n", "\t", "\t\t", "Last"}], "\n", "\t", 
     "\t\t", "]"}]}], "\n", "\t", "\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.7126332965532084`*^9, 3.7126333553301497`*^9}, {
   3.7126647687190657`*^9, 3.712664805057066*^9}, {3.712664840103307*^9, 
   3.7126649075690804`*^9}, {3.712670284041668*^9, 3.7126702904057426`*^9}, {
   3.712670322777718*^9, 3.7126704756622753`*^9}, {3.712670535989779*^9, 
   3.712670613246312*^9}, {3.7126750982836657`*^9, 3.7126751670877743`*^9}, {
   3.712677352548314*^9, 3.712677444390108*^9}, {3.712677639278244*^9, 
   3.712677647279975*^9}, {3.712677750714823*^9, 3.712677762525666*^9}, 
   3.712677918355638*^9, {3.7126803077086153`*^9, 3.712680309259251*^9}, {
   3.71268034239165*^9, 3.7126805399891768`*^9}, {3.712683494910301*^9, 
   3.712683498644772*^9}, {3.7126852933792143`*^9, 3.712685316781497*^9}, 
   3.7126858673958597`*^9, {3.712687604251656*^9, 3.712687741545494*^9}, {
   3.7126883531418533`*^9, 3.712688434253456*^9}, {3.712688480737731*^9, 
   3.712688483006893*^9}, {3.712688655842527*^9, 3.71268865719849*^9}, {
   3.712690723538073*^9, 3.712690724447562*^9}, 3.712690790748062*^9, 
   3.7126960098241453`*^9, {3.712696867769413*^9, 3.712696908110366*^9}, {
   3.7126969533816547`*^9, 3.7126970009210052`*^9}, {3.712697069541092*^9, 
   3.712697079405286*^9}, {3.712697147843923*^9, 3.712697165803804*^9}, {
   3.712697235245181*^9, 3.712697330241743*^9}, {3.712697402150231*^9, 
   3.7126976627360907`*^9}, {3.712697726388793*^9, 3.712697805574719*^9}, {
   3.7126978665651817`*^9, 3.7126979097584133`*^9}, {3.712698072413415*^9, 
   3.7126980781891327`*^9}, {3.712706151944581*^9, 3.712706191170679*^9}, {
   3.712715797405905*^9, 3.712715859158052*^9}, {3.712716068834153*^9, 
   3.7127161282398863`*^9}, {3.712764020658456*^9, 3.712764084304076*^9}, {
   3.712797685719932*^9, 3.712797687543836*^9}, {3.712797725821556*^9, 
   3.7127977314468317`*^9}, {3.7128377990237093`*^9, 3.712837804814466*^9}, {
   3.717520431674285*^9, 3.717520431839299*^9}, 3.723325153902631*^9, {
   3.723343986774576*^9, 3.723343995333849*^9}, {3.7234284787268457`*^9, 
   3.7234284799158707`*^9}, {3.723428580933484*^9, 3.723428599046064*^9}, {
   3.726337994892749*^9, 3.726338043667096*^9}, {3.726338134424713*^9, 
   3.726338346745955*^9}, {3.7328516796353893`*^9, 3.732851679677581*^9}, {
   3.7328517201699553`*^9, 3.73285172020665*^9}, {3.733155634219965*^9, 
   3.7331556389427633`*^9}, {3.733155842951047*^9, 3.7331558463057747`*^9}, 
   3.733156014474636*^9, {3.733156474912693*^9, 3.733156478093687*^9}, {
   3.733156525160934*^9, 3.733156542105036*^9}, {3.734890569034758*^9, 
   3.734890575437365*^9}},ExpressionUUID->"17b78b98-9484-4a98-800f-\
2bbd2202e38f"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplateApply\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712538068908094*^9, 3.712538071089961*^9}, {
  3.712682964322591*^9, 
  3.7126829648491917`*^9}},ExpressionUUID->"a510ab9f-da42-4727-819d-\
b2d01bb4b969"],

Cell[BoxData[
 RowBox[{"WebSiteTemplateApply", "//", "ClearAll"}]], "CodeInput",
 CellChangeTimes->{{3.712597244415457*^9, 3.712597249303433*^9}, 
   3.712674844639879*^9},ExpressionUUID->"f8a010e6-b68e-42a8-b384-\
2ef96c68d37d"],

Cell["\<\
\[LeftCeiling]
\tIteratively apply templates to the provided content, unwrapping from or \
reexporting to XML as necessary. Generally only one template will be used and \
imports will be handled within the template.
\[RightFloor]\
\>", "Text",
 Evaluatable->True,
 CellChangeTimes->{{3.712626047703267*^9, 3.71262609854807*^9}, {
  3.723039315773836*^9, 
  3.723039322445921*^9}},ExpressionUUID->"f37a2712-891f-4765-97df-\
68730b2fb5ef"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "nocnt"}], "=", "\n", "\t", 
   "\"\<Can't export content `` to string\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteTemplateApply", "[", "\n", "\t", 
   RowBox[{
    RowBox[{"root", ":", 
     RowBox[{
      RowBox[{"_String", "?", "DirectoryQ"}], "|", 
      RowBox[{"{", 
       RowBox[{"__String", "?", "DirectoryQ"}], "}"}]}]}], ",", "\n", "\t", 
    RowBox[{"content", ":", 
     RowBox[{"_String", "|", "_File", "|", "None"}]}], ",", "\n", "\t", 
    RowBox[{"templates", ":", 
     RowBox[{
      RowBox[{"{", "__String", "}"}], "|", "_String"}]}], ",", "\n", "\t", 
    RowBox[{"info", ":", "_Association", ":", 
     RowBox[{"<|", "|>"}]}]}], "\n", "\t", "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"AssociationQ", "@", "$WebSiteBuildContentStack"}], ",", "\n", 
    "\t\t", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"fils", "=", "\n", "\t\t\t\t", 
         RowBox[{"Select", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"First", "@", 
                 RowBox[{"Flatten", "@", 
                  RowBox[{"List", "@", "root"}]}]}], ",", "\n", 
                "\t\t\t\t\t\t", "#"}], "}"}]}], "&"}], "/@", 
            RowBox[{"Flatten", "@", 
             RowBox[{"List", "@", "templates"}]}]}], ",", "\n", "\t\t\t\t\t", 
           "FileExistsQ"}], "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
        
        RowBox[{"args", "=", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"MemberQ", "[", 
              RowBox[{
               RowBox[{"Lookup", "[", 
                RowBox[{"#", ",", "\"\<Templates\>\"", ",", 
                 RowBox[{"{", "}"}]}], "]"}], ",", " ", 
               "\"\<article.html\>\""}], "]"}], ",", "\n", "\t\t\t\t\t", 
             RowBox[{"Merge", "[", 
              RowBox[{
               RowBox[{"{", "\n", "\t\t\t\t\t\t", 
                RowBox[{"#", ",", "\n", "\t\t\t\t\t\t", 
                 RowBox[{"\"\<Categories\>\"", "\[Rule]", 
                  RowBox[{"{", "\"\<misc\>\"", "}"}]}]}], "\n", 
                "\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"Replace", "[", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"l_List", ",", "l2_List"}], "}"}], ":>", "\n", 
                   "\t\t\t\t\t\t\t\t", 
                   RowBox[{"DeleteDuplicates", "@", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"{", 
                    RowBox[{"l", ",", "l2"}], "}"}]}]}]}], ",", "\n", 
                  "\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"{", "e_", "}"}], "\[RuleDelayed]", "e"}]}], "\n", 
                 "\t\t\t\t\t\t\t", "}"}], "]"}]}], "\n", "\t\t\t\t\t\t", 
              "]"}], ",", "\n", "\t\t\t\t\t", "#"}], "\n", "\t\t\t\t\t", 
            "]"}], "&"}], "@", "\n", "\t\t\t\t", 
          RowBox[{"Merge", "[", 
           RowBox[{"(*", " ", 
            RowBox[{
            "Collect", " ", "the", " ", "arguments", " ", "to", " ", "pass", 
             " ", "to", " ", "the", " ", "template"}], " ", "*)"}], "\n", 
           "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"{", "\n", "\t\t\t\t\t\t", 
             RowBox[{
             "$WebSiteBuildAggStack", ",", "\n", "\t\t\t\t\t\t", "info", ",", 
              "\n", "\t\t\t\t\t\t", 
              RowBox[{"(*", " ", 
               RowBox[{"Include", " ", "extracted", " ", "attributes"}], " ", 
               "*)"}], "\n", "\t\t\t\t\t\t", 
              RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Lookup", "[", 
                 RowBox[{
                 "$WebSiteBuildContentStack", ",", " ", "content", ",", " ", 
                  RowBox[{"<|", "|>"}]}], "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
                "\"\<Attributes\>\"", ",", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", 
             "\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t", "Last"}], "\n", 
           "\t\t\t\t\t", "]"}]}]}]}], "\n", "\t\t\t\t", "}"}], ",", "\n", 
      "\t\t\t\t", 
      RowBox[{"(*", " ", 
       RowBox[{"Allows", " ", "for", " ", "custom", " ", "slugs"}], " ", 
       "*)"}], "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"Fold", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"Lookup", "[", 
             RowBox[{"#", ",", "#2", ",", 
              RowBox[{"<|", "|>"}]}], "]"}], "&"}], ",", "\n", "\t\t\t\t\t\t",
            "$WebSiteBuildContentStack", ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"{", 
            RowBox[{"content", ",", " ", "\"\<Attributes\>\""}], "}"}]}], 
          "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
         "\"\<Slug\>\"", ",", "\n", "\t\t\t\t\t", "Automatic"}], "\n", 
        "\t\t\t\t\t", "]"}], "->", "\n", "\t\t\t\t\t\t", 
       RowBox[{"Fold", "[", "\n", "\t\t\t\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{
          "WebSiteXMLTemplateApply", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
           RowBox[{
           "root", ",", "\n", "\t", "\t\t\t\t\t\t\t", "#2", ",", "\n", "\t", 
            "\t\t\t\t\t\t\t", "True", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
            RowBox[{
            "WebSiteTemplateGatherArgs", "[", "\n", "\t", "\t\t\t\t\t\t\t\t", 
             
             RowBox[{"#", ",", "\n", "\t", "\t\t\t\t\t\t\t\t", "args"}], "\n",
              "\t", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t\t\t",
            "]"}], "&"}], ",", "\n", "\t", "\t\t\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"content", "=!=", "None"}], ",", "\n", "\t", 
           "\t\t\t\t\t\t\t", 
           RowBox[{"$WebSiteBuildContentStack", "[", 
            RowBox[{"content", ",", " ", "\"\<Content\>\""}], "]"}], ",", 
           "\n", "\t", "\t", "\t\t\t\t\t\t", "None"}], "\n", "\t", "\t", 
          "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t", "fils"}], "\n", 
        "\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", 
    "\t\t", 
    RowBox[{
     RowBox[{"Message", "[", 
      RowBox[{"WebSiteBuild", "::", "nost"}], "]"}], ";", "\n", "\t\t", 
     "$Failed"}]}], "\n", "\t\t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"1c73590a-13c0-48f6-bb83-ffafae910f6a"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplateExport\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712670842106091*^9, 3.712670846513043*^9}, 
   3.7126708936052*^9, 3.712674875135192*^9, 
   3.712682960715745*^9},ExpressionUUID->"f7154cc7-51f5-4b3d-9ebb-\
961b525925c0"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteTemplateExport", "[", "\n", "\t", 
    RowBox[{
    "failinput_", ",", "\n", "\t", "fout_", ",", "\n", "\t", "root_", ",", 
     "\n", "\t", "content_", ",", "\n", "\t", "templates_", ",", "\n", "\t", 
     "config_"}], "\n", "\t", "]"}], ":=", "\t", "\n", "\t", 
   RowBox[{"Replace", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"WebSiteTemplateApply", "[", "\n", "\t\t\t", 
      RowBox[{
      "root", ",", "\n", "\t\t\t", "content", ",", "\n", "\t\t\t", 
       "templates", ",", "\n", "\t\t\t", "config"}], "\n", "\t\t\t", "]"}], 
     ",", "\n", "\t\t", 
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"f_", "->", "html_String"}], ")"}], ":>", "\n", "\t\t\t\t", 
        RowBox[{"With", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"{", "\n", "\t\t\t\t\t\t", 
           RowBox[{"fil", "=", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"Replace", "[", 
             RowBox[{"f", ",", "\n", "\t", "\t", "\t\t\t\t\t\t", 
              RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Automatic", ":>", "fout"}], ",", "\n", "\t", "\t", 
                "\t", "\t\t\t\t\t\t", 
                RowBox[{
                "s_String", ":>", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t\t", 
                 RowBox[{
                 "FileNameJoin", "@", "\n", "\t", "\t", "\t", 
                  "\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "Append", "[", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"Most", "@", 
                    RowBox[{"FileNameSplit", "[", "fout", "]"}]}], ",", "\n", 
                    "\t", "\t", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FileBaseName", "@", "s"}], "<>", 
                    "\"\<.html\>\""}]}], "\n", "\t", "\t", "\t", 
                   "\t\t\t\t\t\t\t\t\t", "]"}]}]}]}], "\n", "\t", 
               "\t\t\t\t\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t", 
           "\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"!", 
              RowBox[{"FileExistsQ", "[", "fil", "]"}]}], "||", 
             RowBox[{"(", 
              RowBox[{"html", "=!=", 
               RowBox[{"Import", "[", 
                RowBox[{"fil", ",", " ", "\"\<Text\>\""}], "]"}]}], ")"}]}], 
            ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"!", 
                RowBox[{"DirectoryQ", "@", 
                 RowBox[{"DirectoryName", "[", "fil", "]"}]}]}], ",", "\n", 
               "\t\t\t\t\t\t\t", 
               RowBox[{"CreateDirectory", "[", 
                RowBox[{
                 RowBox[{"DirectoryName", "[", "fil", "]"}], ",", " ", "\n", 
                 "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                 "CreateIntermediateDirectories", "\[Rule]", "True"}]}], "\n",
                 "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t", "]"}], 
             ";", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Export", "[", 
              RowBox[{"fil", ",", " ", "html", ",", " ", "\"\<Text\>\""}], 
              "]"}]}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", 
         "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"e_", ":>", "\n", "\t\t\t\t", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Message", "[", 
           RowBox[{
            RowBox[{"WebSiteBuild", "::", "genfl"}], ",", "failinput"}], 
           "]"}], ";", "$Failed"}], ")"}]}]}], "\n", "\t\t\t", "}"}]}], "\n", 
    "\t\t", "]"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.712670848858005*^9, 3.712670906272148*^9}, {
   3.71267097018931*^9, 3.7126709946190166`*^9}, {3.712671033223197*^9, 
   3.712671046290805*^9}, 3.71267484463177*^9, 3.7126748751490183`*^9, {
   3.7126755108766737`*^9, 3.712675533533452*^9}, 3.71267683853513*^9, {
   3.712683053080881*^9, 3.7126830540390167`*^9}, {3.712683150889543*^9, 
   3.712683165677867*^9}, 3.712683607185816*^9, {3.7127084971989737`*^9, 
   3.7127085515867023`*^9}, {3.7206477414721107`*^9, 
   3.7206477901722116`*^9}, {3.720647937811531*^9, 3.720647970536694*^9}, 
   3.7206503678599377`*^9, {3.732849136355671*^9, 3.732849137929325*^9}, 
   3.732849652025607*^9, {3.733710610701436*^9, 
   3.733710630182125*^9}},ExpressionUUID->"a4acfcfa-a2aa-4e40-bf79-\
a25ab7cf40d6"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplateExportPaginated\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.723297611292035*^9, 
  3.7232976176106663`*^9}},ExpressionUUID->"af70628b-c990-4a6b-ada1-\
655618cce021"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteTemplateExportPaginated", "]"}], "=", "\n",
    "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<PageSize\>\"", "\[Rule]", "0"}], ",", "\n", "\t\t", 
     RowBox[{"Monitor", "\[Rule]", "True"}]}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteTemplateExportPaginated", "[", "\n", "\t", 
    RowBox[{
    "failInput_", ",", "\n", "\t", "baseName_", ",", "\n", "\t", "dir_", ",", 
     " ", "outDir_", ",", "\n", "\t", "root_", ",", "\n", "\t", "content_", 
     ",", "\n", "\t", "templates_", ",", "\n", "\t", "config_", ",", "\n", 
     "\t", "articles_", ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Block", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"pageSize", "=", "\n", "\t\t\t\t", 
        RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}]}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"page", "=", "\"\<\>\""}]}], "\n", "\t\t\t", "}"}], ",", "\n", 
     "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"TrueQ", "@", 
          RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", " ", "Monitor",
          ",", " ", 
         RowBox[{"#", "&"}]}], "]"}], "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"IntegerQ", "[", "pageSize", "]"}], "&&", 
            RowBox[{"pageSize", ">", "0"}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"Table", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"WebSiteTemplateExport", "[", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"failInput", "<>", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"i", ">", "1"}], ",", " ", 
                  RowBox[{"\"\<, page \>\"", "<>", 
                   RowBox[{"ToString", "[", "i", "]"}]}], ",", " ", 
                  "\"\<\>\""}], "]"}]}], ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{"dir", ",", " ", "\n", "\t\t\t\t\t\t\t\t", 
                  RowBox[{"baseName", "<>", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"i", ">", "1"}], ",", " ", 
                    RowBox[{"ToString", "[", "i", "]"}], ",", " ", 
                    "\"\<\>\""}], "]"}], "<>", "\"\<.html\>\""}]}], "\n", 
                 "\t\t\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t\t\t\t\t\t\t", 
               "root", ",", "\n", "\t\t\t\t\t\t\t", "None", ",", "\n", 
               "\t\t\t\t\t\t\t", "templates", ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"config", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<URL\>\"", "\[Rule]", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Set", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"page", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{
                    "FileNameDrop", "[", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "dir", ",", " ", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"baseName", "<>", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"i", ">", "1"}], ",", " ", 
                    RowBox[{"ToString", "[", "i", "]"}], ",", " ", 
                    "\"\<\>\""}], "]"}], "<>", "\"\<.html\>\""}]}], "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], ",", 
                    "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDepth", "[", "outDir", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<IndexListing\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Take", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "articles", ",", " ", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"1", "+", 
                    RowBox[{"pageSize", "*", 
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}]}]}], ",", " ", 
                    RowBox[{"UpTo", "[", 
                    RowBox[{"pageSize", "*", "i"}], "]"}]}], "}"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"\"\<PageNumber\>\"", "\[Rule]", "i"}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<PageNumberTotal\>\"", "\[Rule]", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Ceiling", "[", 
                    RowBox[{
                    RowBox[{"Length", "[", "articles", "]"}], "/", 
                    "pageSize"}], "]"}]}], ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"\"\<PageSize\>\"", "\[Rule]", "pageSize"}], ",", 
                   "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<PreviousPageURL\>\"", "->", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"i", ">", "1"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{
                    "FileNameDrop", "[", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "dir", ",", " ", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"baseName", "<>", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"i", "-", "1"}], ">", "1"}], ",", " ", 
                    RowBox[{"ToString", "[", 
                    RowBox[{"i", "-", "1"}], "]"}], ",", " ", "\"\<\>\""}], 
                    "]"}], "<>", "\"\<.html\>\""}]}], "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t", 
                    "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDepth", "[", "outDir", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "None"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<NextPageURL\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"i", "<", 
                    RowBox[{"Ceiling", "[", 
                    RowBox[{
                    RowBox[{"Length", "[", "articles", "]"}], "/", 
                    "pageSize"}], "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{
                    "FileNameDrop", "[", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "dir", ",", " ", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"baseName", "<>", 
                    RowBox[{"ToString", "[", 
                    RowBox[{"i", "+", "1"}], "]"}], "<>", "\"\<.html\>\""}]}],
                     "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDepth", "[", "outDir", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "None"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                  "\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                 "Last"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
              "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"{", 
              RowBox[{"i", ",", " ", 
               RowBox[{"Ceiling", "[", 
                RowBox[{
                 RowBox[{"Length", "[", "articles", "]"}], "/", "pageSize"}], 
                "]"}]}], "}"}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"WebSiteTemplateExport", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{"failInput", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"dir", ",", " ", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"baseName", "<>", "\"\<.html\>\""}]}], "\n", 
               "\t\t\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t\t\t\t\t\t", "root",
              ",", "\n", "\t\t\t\t\t\t", "None", ",", "\n", "\t\t\t\t\t\t", 
             "templates", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Merge", "[", "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"config", ",", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                 "\"\<IndexListing\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t", 
                  "articles"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{"\"\<URL\>\"", "\[Rule]", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Set", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"page", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "FileNameDrop", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "dir", ",", " ", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"baseName", "<>", "\"\<.html\>\""}]}], "\n", "\t",
                     "\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDepth", "[", "outDir", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
               "Last"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
            "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";"}], ",", 
        "\n", "\t\t\t\t", 
        RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t\t", 
         RowBox[{"TemplateApply", "[", 
          RowBox[{"\"\<Generating ``\>\"", ",", " ", "page"}], "]"}]}]}], 
       "\n", "\t\t\t\t", "]"}], ";"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7232976245161963`*^9, 3.723297836821352*^9}, {
   3.72329801491896*^9, 3.723298021353963*^9}, {3.723298115700985*^9, 
   3.723298135811398*^9}, {3.723298260086986*^9, 3.7232983404629803`*^9}, {
   3.723298613242051*^9, 3.723298642540955*^9}, {3.72329869659059*^9, 
   3.7232987393071012`*^9}, {3.7232990830312757`*^9, 3.723299190441107*^9}, {
   3.723299314691143*^9, 3.723299324126218*^9}, {3.7233005988617496`*^9, 
   3.7233005999422283`*^9}, {3.7233025012048693`*^9, 3.723302513189663*^9}, {
   3.7233027710131197`*^9, 3.723302785531945*^9}, {3.723303109750435*^9, 
   3.723303186664168*^9}, {3.723303256488222*^9, 3.723303267144464*^9}, {
   3.723319276556786*^9, 3.723319295628599*^9}, {3.723320572899105*^9, 
   3.72332057810596*^9}, 3.7233210067359753`*^9, {3.7233211158240767`*^9, 
   3.723321122767871*^9}, 3.723321154448605*^9, {3.723323838354128*^9, 
   3.723323843519799*^9}, {3.7233241602788563`*^9, 3.723324170814777*^9}, 
   3.723324902637026*^9, {3.723324941260425*^9, 3.7233250785096893`*^9}, 
   3.723325116038075*^9, {3.7233257157339373`*^9, 3.7233257226532393`*^9}, {
   3.723325768563693*^9, 3.723325774883443*^9}, 3.723325813858433*^9, {
   3.723326037709483*^9, 3.7233260386033173`*^9}, {3.723326080268475*^9, 
   3.7233261471432247`*^9}, {3.723326212047688*^9, 3.723326213938843*^9}, {
   3.723326872115881*^9, 3.723326950988269*^9}, {3.732851679700984*^9, 
   3.732851679710577*^9}, {3.732851720233486*^9, 
   3.732851720243381*^9}},ExpressionUUID->"03db8ccf-9122-4b23-9fdc-\
6634afb3da88"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]ImportMeta\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712582203353249*^9, 
  3.712582212388088*^9}},ExpressionUUID->"7ca76f4e-1777-40ff-9b2e-\
b9207af3dc6e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteImportMeta", "[", 
    RowBox[{"xml", ":", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"XMLObject", "[", "___", "]"}], "[", "___", "]"}], "|", 
       RowBox[{"XMLElement", "[", 
        RowBox[{"\"\<html\>\"", ",", "___"}], "]"}]}], ")"}]}], "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"WebSiteImportMeta", "/@", "\n", "\t\t", 
    RowBox[{"Cases", "[", 
     RowBox[{"xml", ",", "\n", "\t", "\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<meta\>\"", ",", "__"}], "]"}], ",", "\n", "\t\t\t", 
      "\[Infinity]"}], "\n", "\t\t\t", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteImportMeta", "[", "\n", "\t", 
    RowBox[{"XMLElement", "[", 
     RowBox[{"\"\<meta\>\"", ",", "info_", ",", "_"}], "]"}], "\n", "\t", 
    "]"}], ":=", "\n", "\t", 
   RowBox[{"Replace", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Lookup", "[", "\n", "\t\t\t", 
      RowBox[{"info", ",", "\n", "\t", "\t\t", 
       RowBox[{"{", 
        RowBox[{"\"\<name\>\"", ",", "\"\<content\>\""}], "}"}], ",", "\n", 
       "\t\t\t", "Nothing"}], "\n", "\t\t\t", "]"}], ",", 
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"n_", ",", "c_"}], "}"}], "\[RuleDelayed]", "\n", "\t\t\t", 
        RowBox[{"n", "\[Rule]", "\n", "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"MemberQ", "[", 
             RowBox[{"$DefaultWebSiteAggregationTypes", ",", " ", "n"}], 
             "]"}], "||", "\n", "\t\t\t\t\t", 
            RowBox[{"StringContainsQ", "[", 
             RowBox[{"c", ",", " ", "\n", "\t\t\t\t\t\t", 
              RowBox[{"Repeated", "[", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"__", "~~", 
                 RowBox[{"Except", "[", 
                  RowBox[{"WhitespaceCharacter", "|", "\"\<,\>\""}], "]"}], 
                 "~~", "\"\<,\>\"", "~~", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{"Except", "[", 
                  RowBox[{"WhitespaceCharacter", "|", "\"\<,\>\""}], "]"}]}], 
                ",", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"{", "2", "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], 
             "\n", "\t\t\t\t\t\t", "]"}], "||", "\n", "\t\t\t\t\t", 
            RowBox[{"StringMatchQ", "[", 
             RowBox[{"c", ",", " ", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"WordCharacter", ".."}], "~~", 
               RowBox[{"Except", "[", 
                RowBox[{"WhitespaceCharacter", "|", "\"\<,\>\""}], "]"}], 
               "~~", "\"\<,\>\"", "~~", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"Except", "[", 
                RowBox[{"WhitespaceCharacter", "|", "\"\<,\>\""}], "]"}], "~~", 
               RowBox[{"WordCharacter", ".."}]}]}], "\n", "\t\t\t\t\t\t", 
             "]"}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"StringTrim", "@", 
            RowBox[{"StringSplit", "[", 
             RowBox[{"c", ",", "\"\<,\>\""}], "]"}]}], ",", "\n", 
           "\t\t\t\t\t", "c"}], "\n", "\t\t\t\t\t", "]"}]}]}], ",", "\n", 
       "\t\t", 
       RowBox[{"_", "\[Rule]", "Nothing"}]}], "\n", "\t\t", "}"}]}], "]"}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.712582216717609*^9, 3.712582267028067*^9}, {
   3.712582400121758*^9, 3.712582403617485*^9}, {3.7125825309888363`*^9, 
   3.712582615484497*^9}, {3.712582646507328*^9, 3.7125826465157843`*^9}, {
   3.712583494325547*^9, 3.7125835186602697`*^9}, {3.71258379808671*^9, 
   3.712583799103097*^9}, {3.7126181919933367`*^9, 3.712618216914606*^9}, {
   3.712705795228579*^9, 3.712705962455721*^9}, 3.7127062250654078`*^9, {
   3.712707834064138*^9, 3.7127078350457487`*^9}, 3.712707910440377*^9, {
   3.733717673345149*^9, 3.7337176997916517`*^9}, {3.733717889680519*^9, 
   3.733717891316145*^9}, 3.7337179247761583`*^9, {3.733719405960149*^9, 
   3.733719584716179*^9}},ExpressionUUID->"e3aca857-e027-499a-ab12-\
0c55d97791da"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]ContentStackPrep\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.723325303136363*^9, 
  3.723325305307074*^9}},ExpressionUUID->"a44eb5c3-072c-4e51-8577-\
ee22a0b46476"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteContentStackPrep", "[", "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"AssociationQ", "@", "$WebSiteBuildContentStack"}], ",", "\n", 
    "\t\t", 
    RowBox[{
     RowBox[{"$WebSiteBuildContentDataStack", "=", "\n", "\t\t\t", 
      RowBox[{"Association", "@", "\n", "\t\t\t\t", 
       RowBox[{"Map", "[", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"\"\<Attributes\>\"", ",", " ", "\"\<URL\>\""}], "]"}], "->",
            "#"}], "&"}], ",", "\n", "\t\t\t\t\t", 
         RowBox[{"Values", "@", "$WebSiteBuildContentStack"}]}], "\n", 
        "\t\t\t\t\t", "]"}]}]}], ";", "\n", "\t\t", 
     RowBox[{"$WebSiteBuildAggStack", "=", "\n", "\t\t\t", 
      RowBox[{"<|", "\n", "\t\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{
        "A", " ", "function", " ", "for", " ", "getting", " ", "object", " ", 
         "attributes", " ", "by", " ", "file", " ", "name"}], " ", "*)"}], 
       "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"\"\<ContentStack\>\"", "->", "\n", "\t\t\t\t\t", 
         RowBox[{"Function", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{"Lookup", "[", 
           RowBox[{
           "$WebSiteBuildContentStack", ",", " ", "#", ",", "\n", 
            "\t\t\t\t\t\t\t", 
            RowBox[{"Lookup", "[", 
             RowBox[{
             "$WebSiteBuildContentDataStack", ",", " ", "#", ",", " ", 
              "None"}], "]"}]}], "\n", "\t\t\t\t\t\t\t", "]"}], "\n", 
          "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{"(*", " ", 
         RowBox[{
         "A", " ", "function", " ", "for", " ", "getting", " ", "object", " ",
           "attributes", " ", "by", " ", "file", " ", "name"}], " ", "*)"}], 
        "\n", "\t", "\t", "\t", "\t", 
        RowBox[{"\"\<ContentData\>\"", "->", "\n", "\t\t\t\t\t", 
         RowBox[{"Function", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{
             "$WebSiteBuildContentDataStack", ",", " ", "#", ",", "\n", 
              "\t\t\t\t\t\t\t\t", 
              RowBox[{"Lookup", "[", 
               RowBox[{"$WebSiteBuildContentStack", ",", " ", "#", ",", " ", 
                RowBox[{"<|", "|>"}]}], "]"}]}], "\n", "\t\t\t\t\t\t\t\t", 
             "]"}], ",", "\n", "\t\t\t\t\t\t\t", "\"\<Attributes\>\"", ",", 
            "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"<|", "|>"}]}], "\n", "\t\t\t\t\t\t\t", "]"}], "\n", 
          "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{"(*", " ", 
         RowBox[{
         "A", " ", "function", " ", "for", " ", "choosing", " ", "objects", 
          " ", "by", " ", "the", " ", "template", " ", "used"}], " ", "*)"}], 
        "\n", "\t\t\t\t", 
        RowBox[{"\"\<SelectObjects\>\"", "->", "\n", "\t", "\t\t\t\t", 
         RowBox[{"Function", "[", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"With", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"type", "=", 
              RowBox[{
               RowBox[{"StringTrim", "[", 
                RowBox[{
                 RowBox[{"ToLowerCase", "[", "#", "]"}], ",", " ", 
                 "\"\<.html\>\""}], "]"}], "<>", "\"\<.html\>\""}]}], "}"}], 
            ",", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"Select", "[", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Values", "@", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{"$WebSiteBuildContentStack", "[", 
                RowBox[{"[", 
                 RowBox[{"All", ",", " ", "\"\<Attributes\>\""}], "]"}], 
                "]"}]}], ",", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"MemberQ", "[", 
                RowBox[{
                 RowBox[{"#", "[", "\"\<Templates\>\"", "]"}], ",", " ", 
                 "type"}], "]"}], "&"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], 
           "\n", "\t", "\t", "\t", "\t\t\t\t", "]"}], "\n", "\t\t\t\t\t\t", 
          "]"}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{"(*", " ", 
         RowBox[{
         "A", " ", "function", " ", "for", " ", "getting", " ", "the", " ", 
          "next", " ", "object", " ", "by", " ", "some", " ", "function"}], 
         " ", "*)"}], "\n", "\t\t\t\t", 
        RowBox[{"\"\<NextObjectBy\>\"", "->", "\n", "\t\t\t\t\t", 
         RowBox[{"Function", "[", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"With", "[", 
           RowBox[{
            RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"self", "=", "#"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"order", "=", "#2"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"pageType", "=", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Length", "@", 
                   RowBox[{"{", "##", "}"}]}], ">", "2"}], ",", " ", 
                 RowBox[{
                  RowBox[{"{", "##", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], ",", " ", 
                 "\"\<article\>\""}], "]"}]}]}], "\n", "\t\t\t\t\t\t\t", 
             "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"With", "[", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{"sorted", "=", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"SortBy", "[", "order", "]"}], "@", "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                  "$WebSiteBuildAggStack", "[", "\"\<SelectObjects\>\"", 
                   "]"}], "[", "pageType", "]"}]}]}], "\n", 
               "\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"With", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"pos", "=", 
                  RowBox[{"1", "+", 
                   RowBox[{
                    RowBox[{"FirstPosition", "[", 
                    RowBox[{"sorted", ",", " ", "self"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}]}], "}"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"pos", "\[LessEqual]", 
                   RowBox[{"Length", "@", "sorted"}]}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"sorted", "[", 
                   RowBox[{"[", "pos", "]"}], "]"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", "None"}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t\t\t", 
               "]"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
           "\t\t\t\t\t\t\t", "]"}], "\n", "\t\t\t\t\t\t", "]"}]}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"(*", " ", 
         RowBox[{
         "A", " ", "function", " ", "for", " ", "getting", " ", "the", " ", 
          "previous", " ", "object", " ", "by", " ", "some", " ", 
          "function"}], " ", "*)"}], "\n", "\t\t\t\t", 
        RowBox[{"\"\<PreviousObjectBy\>\"", "->", "\n", "\t\t\t\t\t", 
         RowBox[{"Function", "[", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"With", "[", 
           RowBox[{
            RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"self", "=", "#"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"order", "=", "#2"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"pageType", "=", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Length", "@", 
                   RowBox[{"{", "##", "}"}]}], ">", "2"}], ",", " ", 
                 RowBox[{
                  RowBox[{"{", "##", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], ",", " ", 
                 "\"\<article\>\""}], "]"}]}]}], "\n", "\t\t\t\t\t\t\t", 
             "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"With", "[", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{"sorted", "=", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"SortBy", "[", "order", "]"}], "@", "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                  "$WebSiteBuildAggStack", "[", "\"\<SelectObjects\>\"", 
                   "]"}], "[", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                  "pageType", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                  "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", 
              "\t\t\t\t\t\t\t\t", 
              RowBox[{"With", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"pos", "=", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"FirstPosition", "[", 
                    RowBox[{"sorted", ",", " ", "self"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "}"}], ",", 
                "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"pos", ">", "0"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"sorted", "[", 
                   RowBox[{"[", "pos", "]"}], "]"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", "None"}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t\t\t", 
               "]"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
           "\t\t\t\t\t\t\t", "]"}], "\n", "\t\t\t\t\t\t", "]"}]}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"(*", " ", 
         RowBox[{"The", " ", "pages"}], " ", "*)"}], "\n", "\t", "\t", "\t", 
        "\t", 
        RowBox[{"\"\<Pages\>\"", ":>", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
          "$WebSiteBuildAggStack", "[", "\"\<SelectObjects\>\"", "]"}], "[", 
          "\"\<page.html\>\"", "]"}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{"(*", " ", 
         RowBox[{"The", " ", "articles"}], " ", "*)"}], "\n", "\t", "\t", 
        "\t", "\t", 
        RowBox[{"\"\<Articles\>\"", ":>", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
          "$WebSiteBuildAggStack", "[", "\"\<SelectObjects\>\"", "]"}], "[", 
          "\"\<article.html\>\"", "]"}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{"(*", " ", 
         RowBox[{"The", " ", "archives"}], " ", "*)"}], "\n", "\t", "\t", 
        "\t", "\t", 
        RowBox[{"\"\<Archives\>\"", ":>", "\n", "\t\t\t\t\t", 
         RowBox[{"Reverse", "@", "\n", "\t\t\t\t\t\t", 
          RowBox[{"GatherBy", "[", "\n", "\t", "\t", "\t", "\t\t\t\t", 
           RowBox[{
            RowBox[{"Values", "@", "\n", "\t", "\t", "\t", "\t\t\t\t\t", 
             RowBox[{"$WebSiteBuildContentStack", "[", 
              RowBox[{"[", 
               RowBox[{"All", ",", "\"\<Attributes\>\""}], "]"}], "]"}]}], 
            ",", "\n", "\t", "\t", "\t", "\t\t\t\t", 
            RowBox[{
             RowBox[{"#", "[", "\"\<Date\>\"", "]"}], "&"}]}], "\n", 
           "\t\t\t\t\t\t\t", "]"}]}]}]}], "\n", "\t\t\t\t", "|>"}]}], ";"}]}],
    "\n", "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.723325235859498*^9, 3.7233252934054193`*^9}, {
   3.723325341307877*^9, 3.723325351274563*^9}, {3.723325384908905*^9, 
   3.723325471821707*^9}, {3.7233256321552353`*^9, 3.723325633174762*^9}, {
   3.7233258261059103`*^9, 3.7233258417828083`*^9}, {3.7233277636926107`*^9, 
   3.723327967494228*^9}, {3.72332805723253*^9, 3.7233280868329153`*^9}, {
   3.723328229188534*^9, 3.723328278835495*^9}, {3.723328417335932*^9, 
   3.723328440382389*^9}, {3.723328480345517*^9, 3.7233284944404783`*^9}, {
   3.723328796937896*^9, 3.723328874075967*^9}, {3.7233375826350403`*^9, 
   3.723337597154245*^9}, {3.723337627810762*^9, 3.723337670369561*^9}, {
   3.723337751086863*^9, 3.723337920275117*^9}, {3.723342948198847*^9, 
   3.723343029907303*^9}, {3.723343461344198*^9, 3.723343495695936*^9}, {
   3.723344273307578*^9, 3.723344279069964*^9}, {3.723344479532467*^9, 
   3.72334455787886*^9}, 3.723344679106636*^9, {3.7233449112330914`*^9, 
   3.7233449116026707`*^9}, 3.7328516797343893`*^9, 
   3.732851720268214*^9},ExpressionUUID->"67e92e48-6057-4852-a32a-\
19a7e853202f"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]ExtractPageData\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712671619319853*^9, 
  3.712671623070841*^9}},ExpressionUUID->"229cb5b0-4509-46d8-81e2-\
a2909e9e8748"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "nost"}], "=", 
   "\"\<$WebSiteBuildContentStack not initialzed\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteExtractFileData", "[", 
    RowBox[{"content_", ",", " ", "config_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"AssociationQ", "@", "$WebSiteBuildContentStack"}], ",", "\n", 
     "\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t", 
        RowBox[{"fileContent", "=", "\n", "\t\t\t\t", 
         RowBox[{"Replace", "[", 
          RowBox[{"content", ",", 
           RowBox[{"{", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{"_File", "|", "_String"}], ")"}], "?", "FileExistsQ"}],
              "\[RuleDelayed]", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Switch", "[", 
              RowBox[{
               RowBox[{"FileExtension", "[", "content", "]"}], ",", "\n", 
               "\t\t\t\t\t\t\t", "\"\<md\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
               
               RowBox[{"MarkdownToXML", "[", 
                RowBox[{"Import", "[", 
                 RowBox[{"content", ",", "\"\<Text\>\""}], "]"}], "]"}], ",", 
               "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"\"\<html\>\"", "|", "\"\<xml\>\""}], ",", "\n", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{"Import", "[", 
                RowBox[{"content", ",", " ", 
                 RowBox[{"{", 
                  RowBox[{"\"\<HTML\>\"", ",", "\"\<XMLObject\>\""}], "}"}]}],
                 "]"}]}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
            "\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t", "\t\t", "}"}], ",", 
       "\n", "\t", "\t\t", 
       RowBox[{"With", "[", 
        RowBox[{
         RowBox[{"{", "\n", "\t\t\t\t", 
          RowBox[{"args", "=", "\n", "\t\t\t\t\t", 
           RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"config", ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"Replace", "[", 
                RowBox[{"fileContent", ",", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"XMLObject", "[", "___", "]"}], "[", "___", "]"}],
                     "|", 
                    RowBox[{"XMLElement", "[", 
                    RowBox[{"\"\<html\>\"", ",", "___"}], "]"}]}], ")"}], 
                    "\[RuleDelayed]", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"KeyDrop", "[", 
                    RowBox[{
                    RowBox[{"WebSiteImportMeta", "[", "fileContent", "]"}], 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", "\"\<URL\>\""}], 
                    "\n", "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"_", "\[Rule]", 
                    RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t\t\t\t\t\t", 
                  "}"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
               "\t\t\t\t\t\t\t", 
               RowBox[{"\"\<SourceFile\>\"", "\[Rule]", "content"}]}], "\n", 
              "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t", "Last"}], 
            "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "}"}], ",", "\n",
          "\t\t\t\t", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"content", "=!=", "None"}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"$WebSiteBuildContentStack", "[", "content", "]"}], "=",
               "\n", "\t\t\t\t\t\t", 
              RowBox[{"<|", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"\"\<Attributes\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"WebSiteTemplateGatherArgs", "[", 
                 RowBox[{"fileContent", ",", " ", "args"}], "]"}]}], "\n", 
               "\t\t\t\t\t\t\t", "|>"}]}], ";", "\n", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"$WebSiteBuildContentStack", "[", 
               RowBox[{"content", ",", "\"\<Content\>\""}], "]"}], "=", "\n", 
              "\t\t\t\t\t\t", 
              RowBox[{"WebSiteTemplatePreProcess", "[", 
               RowBox[{"fileContent", ",", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"$WebSiteBuildContentStack", "[", 
                 RowBox[{"content", ",", "\"\<Attributes\>\""}], "]"}]}], 
               "\n", "\t\t\t\t\t\t\t", "]"}]}], ";"}]}], "\n", "\t\t\t\t\t", 
           "]"}], ";"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], 
     ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Message", "[", 
       RowBox[{"WebSiteBuild", "::", "nost"}], "]"}], ";", "\n", "\t\t", 
      "$Failed"}]}], "\n", "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7126726462566433`*^9, 3.712672756609375*^9}, {
   3.712672788042385*^9, 3.712672794198331*^9}, {3.712672856991226*^9, 
   3.7126728789432983`*^9}, {3.712673914174666*^9, 3.712673914870051*^9}, {
   3.71267461314052*^9, 3.7126746627878733`*^9}, {3.712674967469634*^9, 
   3.712674968726761*^9}, {3.712675047087281*^9, 3.7126750496530457`*^9}, {
   3.712675225303419*^9, 3.71267533224512*^9}, {3.712675403637588*^9, 
   3.712675432739211*^9}, {3.7127000320870237`*^9, 3.7127001126513453`*^9}, {
   3.720649611203614*^9, 3.720649641107863*^9}, {3.723038914500732*^9, 
   3.723038914531074*^9}, 3.723343053833802*^9, {3.723344016476408*^9, 
   3.723344084374866*^9}, {3.732851764599328*^9, 
   3.7328518040326653`*^9}},ExpressionUUID->"17b9a487-d09f-4da2-a795-\
74f7f49e1260"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteExtractPageData", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{"Monitor", "\[Rule]", "True"}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteExtractPageData", "[", 
    RowBox[{"rootDir_", ",", "files_", ",", "config_", ",", " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t", "extractfile", "\n", "\t\t", "}"}], ",", "\n",
      "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"TrueQ", "@", 
         RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", " ", "Monitor", 
        ",", " ", 
        RowBox[{"#", "&"}]}], "]"}], "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"fname", "=", "\n", "\t", "\t\t\t\t", 
              RowBox[{"Replace", "[", 
               RowBox[{"#", ",", "\n", "\t", "\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"f", ":", 
                  RowBox[{"Except", "[", 
                   RowBox[{"_String", "|", "_File"}], "]"}]}], 
                 "\[RuleDelayed]", "\n", "\t", "\t", "\t\t\t\t\t", 
                 RowBox[{"ExpandFileName", "@", 
                  RowBox[{"First", "[", "f", "]"}]}]}]}], "\n", 
               "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t", 
             RowBox[{"templates", "=", "\n", "\t\t\t\t\t", 
              RowBox[{"Flatten", "@", 
               RowBox[{"List", "@", "\n", "\t\t\t\t\t", 
                RowBox[{"Replace", "[", 
                 RowBox[{"#", ",", 
                  RowBox[{"{", "\n", "\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"r", ":", 
                    RowBox[{"Except", "[", 
                    RowBox[{"_String", "|", "_File"}], "]"}]}], 
                    "\[RuleDelayed]", "\n", "\t\t\t\t\t\t\t", 
                    RowBox[{"Last", "[", "r", "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t", 
                    RowBox[{"_", "\[Rule]", "\"\<base.html\>\""}]}], "\n", 
                   "\t\t\t\t\t\t", "}"}]}], "]"}]}]}]}]}], "\n", "\t\t\t\t", 
            "}"}], ",", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"extractfile", "=", "fname"}], ";", "\n", "\t\t\t\t", 
            RowBox[{"WebSiteExtractFileData", "[", 
             RowBox[{"fname", ",", "\n", "\t\t\t\t\t", 
              RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{"config", ",", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{
                  "\"\<Templates\>\"", "->", "\n", "\t\t\t\t\t\t\t\t", 
                   "templates"}], ",", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{
                  "\"\<FilePath\>\"", "->", "\n", "\t\t\t\t\t\t\t\t", 
                   RowBox[{"WebSiteBuildFilePath", "[", 
                    RowBox[{"fname", ",", " ", "rootDir"}], "]"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t", "Last"}],
                "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}]}], 
          "\n", "\t\t\t\t", "]"}], "&"}], "/@", "files"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t", 
        RowBox[{"TemplateApply", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
         "\"\<Extracting data from ``\>\"", ",", "\n", "\t\t\t\t\t", 
          "extractfile"}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", 
      "]"}]}], "\n", "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7126764906863213`*^9, 3.712676498001296*^9}, {
   3.712676530506991*^9, 3.712676538458233*^9}, {3.712677330394384*^9, 
   3.7126773439462357`*^9}, {3.71267749134941*^9, 3.7126775203824167`*^9}, {
   3.712677724426058*^9, 3.712677737394659*^9}, {3.712685722879718*^9, 
   3.7126857605009336`*^9}, {3.712685816706142*^9, 3.712685844718535*^9}, {
   3.712696208453623*^9, 3.712696228900462*^9}, {3.712696383354348*^9, 
   3.712696399718772*^9}, {3.72064964442083*^9, 3.720649676250782*^9}, 
   3.723343065739634*^9},ExpressionUUID->"9b5d4437-c058-4b6a-bbb6-\
5c639823803d"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]GenerateAggregationPages\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712664403157797*^9, 3.7126644060687113`*^9}, {
   3.7126644483009977`*^9, 3.712664450555676*^9}, 3.7126658795980988`*^9, 
   3.7126809235504093`*^9},ExpressionUUID->"e66fd583-700a-4816-8572-\
ebac246a4f61"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteGenerateAggregationPages", "//", "ClearAll"}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.712666323483973*^9, 
  3.712666343287422*^9}},ExpressionUUID->"f8b7319d-0795-4426-bb60-\
72abe943a96e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$DefaultWebSiteAggregationTypes", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t\t", 
    RowBox[{
    "\"\<Authors\>\"", ",", "\n", "\t\t\t", "\"\<Categories\>\"", ",", "\n", 
     "\t\t\t", "\"\<Tags\>\""}], "\n", "\t\t\t", "}"}]}], ";"}]], "CodeInput",
 
 CellChangeTimes->{{3.712705943659857*^9, 3.712705952957896*^9}, 
   3.733680714076387*^9},ExpressionUUID->"48a70de4-788c-42a8-9bdf-\
39689f52625c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteGenerateAggregationPages", ":=", "\n", "\t", 
   RowBox[{"AssociationMap", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{"singular", "=", "\n", "\t\t\t\t", 
           RowBox[{"ToLowerCase", "@", 
            RowBox[{"Switch", "[", 
             RowBox[{
             "#", ",", "\n", "\t\t\t\t\t", "\"\<Categories\>\"", ",", "\n", 
              "\t\t\t\t\t\t", "\"\<Category\>\"", ",", "\n", "\t\t\t\t\t", 
              "_", ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"StringTrim", "[", 
               RowBox[{"#", ",", "\"\<s\>\""}], "]"}]}], "\n", "\t\t\t\t\t", 
             "]"}]}]}], ",", "\n", "\t\t\t", 
          RowBox[{"plural", "=", 
           RowBox[{"ToLowerCase", "[", "#", "]"}]}]}], "\n", "\t\t\t", "}"}], 
        ",", "\n", "\t\t\t", 
        RowBox[{"<|", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"\"\<AggregationTemplates\>\"", "\[Rule]", 
           RowBox[{"plural", "<>", "\"\<.html\>\""}]}], ",", "\n", "\t", 
          "\t\t\t", 
          RowBox[{"\"\<AggregationFile\>\"", "\[Rule]", 
           RowBox[{"plural", "<>", "\"\<.html\>\""}]}], ",", "\n", "\t\t\t\t", 
          RowBox[{"\"\<Templates\>\"", "->", 
           RowBox[{"singular", "<>", "\"\<.html\>\""}]}], ",", "\n", "\t", 
          "\t\t\t", 
          RowBox[{"\"\<File\>\"", "\[Rule]", 
           RowBox[{"Function", "@", 
            RowBox[{"{", 
             RowBox[{"plural", ",", " ", 
              RowBox[{
               RowBox[{"ToLowerCase", "[", "#", "]"}], "<>", 
               "\"\<.html\>\""}]}], "}"}]}]}]}], "\n", "\t\t\t\t", "|>"}]}], 
       "\n", "\t\t\t", "]"}], "&"}], ",", "\n", "\t\t", 
     "$WebSiteAggregationTypes"}], "\n", "\t\t", "]"}]}], ";"}]], "CodeInput",
 
 CellChangeTimes->{{3.71266514945728*^9, 3.7126651860668383`*^9}, {
   3.712665217439394*^9, 3.7126652341440487`*^9}, {3.712665304813098*^9, 
   3.712665428035041*^9}, {3.712665820160141*^9, 3.712665997496722*^9}, {
   3.712666029859069*^9, 3.712666072930785*^9}, 3.712666106464913*^9, {
   3.712666344321274*^9, 3.71266635599087*^9}, {3.712666433920295*^9, 
   3.7126664953914213`*^9}, {3.712666527956365*^9, 3.7126666573618298`*^9}, {
   3.712666718700697*^9, 3.712666844960993*^9}, {3.7126668754405527`*^9, 
   3.712666928789379*^9}, {3.712667120971504*^9, 3.712667127604598*^9}, {
   3.712667218115181*^9, 3.712667240576004*^9}, {3.71266727175488*^9, 
   3.712667284035528*^9}, {3.712667338725422*^9, 3.7126674668569603`*^9}, {
   3.712667540498931*^9, 3.712667723958869*^9}, {3.7126678308875837`*^9, 
   3.712667974003702*^9}, {3.7126680713811483`*^9, 3.712668090906543*^9}, {
   3.712668122843464*^9, 3.7126681342228823`*^9}, {3.712670116674231*^9, 
   3.712670132930787*^9}, {3.7126701995660133`*^9, 3.712670215441181*^9}, {
   3.7126702552547092`*^9, 3.7126702562391033`*^9}, {3.712670727512183*^9, 
   3.712670801565055*^9}, 3.712670833219757*^9, {3.712670922503469*^9, 
   3.712670956287449*^9}, {3.7126710571253643`*^9, 3.712671088301495*^9}, {
   3.712671148908391*^9, 3.7126712578300858`*^9}, 3.7126715967553673`*^9, {
   3.712674875166005*^9, 3.712674875173706*^9}, {3.7126810289175043`*^9, 
   3.712681035579097*^9}, {3.712702414645706*^9, 3.712702416467229*^9}, {
   3.712702795080298*^9, 3.712702796916643*^9}, {3.71270286078234*^9, 
   3.712702861684805*^9}, 3.712703141508515*^9, {3.712703232060111*^9, 
   3.712703236673512*^9}, {3.712703305842944*^9, 3.712703318983124*^9}, {
   3.712703354391477*^9, 3.712703369105493*^9}, {3.7127035916567993`*^9, 
   3.7127035984471207`*^9}, {3.7127041854870777`*^9, 
   3.7127042196636753`*^9}, {3.712704270845909*^9, 3.712704329291606*^9}, {
   3.712704361760964*^9, 3.712704363693431*^9}, {3.712704415708521*^9, 
   3.712704433747364*^9}, {3.712704509184999*^9, 3.712704598835371*^9}, {
   3.7127046727669764`*^9, 3.7127046906090593`*^9}, {3.712704721687557*^9, 
   3.712704813152484*^9}, {3.712704876106822*^9, 3.712704918979272*^9}, 
   3.712704956613119*^9, {3.712705543757841*^9, 3.7127055510485983`*^9}, {
   3.712705599726549*^9, 3.712705620908826*^9}, {3.712705665729251*^9, 
   3.712705677020603*^9}, {3.7127057192498703`*^9, 3.712705743660692*^9}, 
   3.712705942219935*^9, 3.712705978452525*^9, {3.712706253572679*^9, 
   3.712706322942292*^9}, {3.712706358611857*^9, 3.712706411080462*^9}, {
   3.712707117106607*^9, 3.7127071781295147`*^9}, {3.7127074323146772`*^9, 
   3.712707506300933*^9}, 3.712707773204713*^9, {3.712708420610333*^9, 
   3.712708421044088*^9}, 3.7127085364888983`*^9, {3.712708576528717*^9, 
   3.7127086082550297`*^9}, {3.712708658709816*^9, 3.712708660341799*^9}, {
   3.71270871738135*^9, 3.712708731028211*^9}, {3.712708790548338*^9, 
   3.712708846797104*^9}, 3.712708881601253*^9, {3.712708954540971*^9, 
   3.712708966018165*^9}, {3.712709440863057*^9, 3.712709498349432*^9}, {
   3.712709531329755*^9, 3.71270956485249*^9}, {3.71270960498212*^9, 
   3.712709629997939*^9}, {3.7127096903116007`*^9, 3.712709753268268*^9}, {
   3.712709876179242*^9, 3.712709877687233*^9}, {3.712709932969009*^9, 
   3.712710062043097*^9}, {3.712710094952511*^9, 3.712710153113101*^9}, {
   3.712710194604219*^9, 3.712710203574037*^9}, {3.71271023532255*^9, 
   3.71271026069308*^9}, {3.712710317351536*^9, 3.712710335970428*^9}, 
   3.712710383790448*^9, {3.7127104242309113`*^9, 3.712710451576961*^9}, {
   3.712710717817768*^9, 3.7127107382210093`*^9}, {3.720649260973762*^9, 
   3.720649265321301*^9}, 3.723298935982943*^9, 3.733673939702389*^9, 
   3.733680813480165*^9},ExpressionUUID->"9f3e70f3-23cb-4d60-aa6b-\
848af4d8c3df"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteCollectAggPages\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.733680862336738*^9, 
  3.733680881736965*^9}},ExpressionUUID->"10b4c494-03ea-4d70-8836-\
c1e016c3ea77"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteCollectAggPages", "[", "aggthing_", "]"}], ":=", "\n", "\t", 
  RowBox[{"KeySort", "@", 
   RowBox[{
    RowBox[{"Map", "[", 
     RowBox[{"Flatten", "@*", "List"}], "]"}], "@", "\n", "\t\t", 
    RowBox[{
     RowBox[{"GroupBy", "[", 
      RowBox[{"First", "\[Rule]", "Last"}], "]"}], "@", "\n", "\t\t\t", 
     RowBox[{"Flatten", "[", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{"Thread", "@*", "Reverse"}], "/@", "\n", "\t\t\t\t\t", 
       RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t", 
        RowBox[{"DeleteCases", "[", "\n", "\t\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Lookup", "[", 
               RowBox[{"#", ",", " ", "\"\<Attributes\>\"", ",", " ", 
                RowBox[{"<|", "|>"}]}], "]"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
              "aggthing", ",", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}], "&"}], "/@",
            "$WebSiteBuildContentStack"}], ",", "\n", "\t\t\t\t\t\t\t", 
          RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
      "\t\t\t\t", "]"}]}]}]}]}]], "CodeInput",
 CellChangeTimes->{{3.7336808675733967`*^9, 3.7336808773060503`*^9}, 
   3.733706902345438*^9},ExpressionUUID->"19112d96-c958-43a1-b561-\
d690f8f28430"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteGenerateAggregationPages\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.733680862336738*^9, 
  3.733680886994101*^9}},ExpressionUUID->"cb3fc59b-6ef3-4bc9-85dc-\
f6c90204d787"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "badagg"}], "=", 
   "\"\<Can't deal with aggregation type ``\>\""}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.733704808046063*^9, 
  3.7337048146851892`*^9}},ExpressionUUID->"3d0c8a0c-9009-45f7-9e2e-\
abb696985662"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Options", "[", "WebSiteGenerateAggregationPages", "]"}], "=", "\n",
   "\t", 
  RowBox[{"{", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Monitor", "\[Rule]", "True"}], ",", "\n", "\t\t", 
    RowBox[{"\"\<PageSize\>\"", "\[Rule]", "0"}]}], "\n", "\t\t", 
   "}"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteGenerateAggregationPages", "[", "\n", "\t", 
    RowBox[{
    "dir_", ",", "\n", "\t", "aggpages_", ",", "\n", "\t", "outDir_", ",", 
     "\n", "\t", "theme_", ",", "\n", "\t", "config_", ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"With", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"longDir", "=", 
        RowBox[{"ExpandFileName", "@", "dir"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"thm", "=", 
        RowBox[{"WebSiteFindTheme", "[", 
         RowBox[{"dir", ",", "theme", ",", " ", 
          RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "True"}]}], "]"}]}]}], 
      "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Block", "[", 
       RowBox[{
        RowBox[{"{", "\n", "\t\t\t", 
         RowBox[{
         "aggbit", ",", "\n", "\t\t\t", "outfile", ",", "\n", "\t\t\t", 
          RowBox[{"$WebSiteAggregationTypes", "=", "\n", "\t\t\t\t", 
           RowBox[{"Join", "[", "\n", "\t\t\t\t\t", 
            RowBox[{
            "$DefaultWebSiteAggregationTypes", ",", " ", "\n", "\t\t\t\t\t", 
             RowBox[{"(*", "\n", "\t\t\t\t", 
              RowBox[{
              "Include", " ", "custom", " ", "aggregation", " ", "types", " ",
                "from", " ", "templates", " ", 
               RowBox[{"dir", ":", "\n", "\t\t\t\t\t", "TODO", ":", " ", 
                RowBox[{
                "link", " ", "to", " ", "custom", " ", "agg", " ", "pages", 
                 " ", "in", " ", "later", " ", "bit", " ", "and", " ", 
                 "check", " ", "metainfo", " ", "for", " ", "key"}]}]}], 
              "\t\t", "\n", "\t\t\t\t", "*)"}], "\n", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"{", 
                 RowBox[{"\"\<aggregations\>\"", ",", " ", 
                  RowBox[{"FileBaseName", "[", "#", "]"}]}], "}"}]}], "&"}], "/@",
               "\n", "\t\t\t\t\t\t", 
              RowBox[{"FileNames", "[", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"\"\<*.html\>\"", ",", "\n", "\t", "\t\t\t\t\t\t", 
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{
                  "thm", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                   "\"\<templates\>\"", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                   "\"\<aggregations\>\""}], "\n", "\t\t\t\t\t\t\t\t", 
                  "}"}]}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
            "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", 
        "\t\t\t", 
        RowBox[{
         RowBox[{"KeyValueMap", "[", 
          RowBox[{"(*", 
           RowBox[{
           "Map", " ", "over", " ", "aggregation", " ", "types", " ", "and", 
            " ", "templates"}], "*)"}], "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", "\n", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{"aggthing", "=", "#"}], ",", "\n", "\t\t\t\t\t", 
                RowBox[{"aggdata", "=", "#2"}], ",", "\n", "\t\t\t\t\t", 
                RowBox[{"aggsingular", "=", "\n", "\t\t\t\t\t\t", 
                 RowBox[{"Switch", "[", 
                  RowBox[{
                  "#", ",", "\n", "\t\t\t\t\t\t\t", "\"\<Categories\>\"", ",",
                    "\n", "\t\t\t\t\t\t\t\t", "\"\<Category\>\"", ",", "\n", 
                   "\t\t\t\t\t\t\t", 
                   RowBox[{
                   "Alternatives", "@@", "\n", "\t\t\t\t\t\t\t\t", 
                    "$DefaultWebSiteAggregationTypes"}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t", 
                   RowBox[{"StringTrim", "[", 
                    RowBox[{"#", ",", "\"\<s\>\""}], "]"}], ",", "\n", 
                   "\t\t\t\t\t\t\t", "_", ",", "\n", "\t\t\t\t\t\t\t\t", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"MemberQ", "[", 
                    RowBox[{"$WebSiteAggregationTypes", ",", " ", 
                    RowBox[{"StringTrim", "[", 
                    RowBox[{"#", ",", "\"\<s\>\""}], "]"}]}], "]"}], ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"StringTrim", "[", 
                    RowBox[{"#", ",", "\"\<s\>\""}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t", "None"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t", 
                  "]"}]}]}], "\n", "\t\t\t\t\t", "}"}], ",", "\n", 
              "\t\t\t\t\t", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"aggsingular", "===", "None"}], ",", "\n", 
                "\t\t\t\t\t\t", 
                RowBox[{"(*", " ", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                   "Dunno", " ", "what", " ", "to", " ", "do", " ", "here"}], 
                   " ", "..."}], ".."}], " ", "*)"}], "\n", "\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"Message", "[", 
                  RowBox[{
                   RowBox[{"WebSiteBuild", "::", "badagg"}], ",", " ", 
                   "aggthing"}], "]"}], ";"}], ",", "\n", "\t\t\t\t\t\t", 
                RowBox[{"Block", "[", 
                 RowBox[{
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                   RowBox[{"(*", " ", 
                    RowBox[{
                    "Files", " ", "to", " ", "be", " ", "collected", " ", 
                    "and", " ", "passed", " ", "to", " ", "combined", " ", 
                    "aggregation"}], " ", "*)"}], "\n", "\t", "\t\t\t\t\t\t", 
                   
                   RowBox[{
                    RowBox[{"$aggregationFiles", "=", 
                    RowBox[{"<|", "|>"}]}], ",", "\n", "\t", "\t\t\t\t\t\t", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Collect", " ", "type", " ", "name", " ", "and", " ", 
                    "templates"}], "*)"}], "\n", "\t", "\t\t\t\t\t\t", 
                    RowBox[{"agglist", "=", "\n", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteCollectAggPages", "[", "aggthing", "]"}]}]}], 
                   "\n", "\t", "\t\t\t\t\t\t", 
                   RowBox[{"(*", 
                    RowBox[{
                    "Gather", " ", "elements", " ", "in", " ", "the", " ", 
                    "content", " ", "stack", "  ", "by", " ", "type", " ", 
                    "in", " ", "the", " ", "aggregation"}], "*)"}], "\n", 
                   "\t", "\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
                  "\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"KeyValueMap", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "Map", " ", "over", " ", "aggregated", " ", "elements"}], 
                    ",", " ", 
                    RowBox[{"e", ".", "g", "."}], ",", " ", 
                    RowBox[{
                    "over", " ", "each", " ", "tag", " ", "or", " ", 
                    "category"}]}], "*)"}], "\n", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"With", "[", 
                    RowBox[{
                    RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"fout", "=", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"(*", 
                    RowBox[{
                    "The", " ", "file", " ", "to", " ", "export", " ", "the", 
                    " ", "aggregation", " ", "file", " ", "to"}], "*)"}], 
                    "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildSlug", "@", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "outDir", ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"aggdata", "[", "\"\<File\>\"", "]"}], "@", 
                    "#"}]}], "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    "}"}]}]}]}]}], ",", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "templates", "=", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"(*", 
                    RowBox[{
                    "The", " ", "template", " ", "file", " ", "to", " ", 
                    "use"}], "*)"}], "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"List", "@", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "aggdata", "[", "\"\<Templates\>\"", "]"}]}]}]}]}], "\n", 
                    "\t", "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"$aggregationFiles", "[", "#", "]"}], "=", "\n", 
                    "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"<|", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"aggsingular", "\[Rule]", "#"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<File\>\"", "->", "fout"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Articles\>\"", "\[Rule]", "#2"}], ",", "\n", 
                    "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<URL\>\"", "->", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDrop", "[", 
                    RowBox[{"fout", ",", " ", 
                    RowBox[{"FileNameDepth", "@", "outDir"}]}], "]"}]}]}]}], 
                    "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", "|>"}]}], ";", "\n", 
                    "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"aggbit", "=", 
                    RowBox[{"ToLowerCase", "[", 
                    RowBox[{"aggthing", "<>", "\"\</\>\"", "<>", "#"}], 
                    "]"}]}], ";", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"(*", " ", 
                    RowBox[{
                    "Make", " ", "sure", " ", "directory", " ", "exists"}], 
                    " ", "*)"}], "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"!", 
                    RowBox[{"DirectoryQ", "@", 
                    RowBox[{"DirectoryName", "@", "fout"}]}]}], ",", "\n", 
                    "\t", "\t", "\t", "\t", "\t", "\t\t\t\t\t", 
                    RowBox[{"CreateDirectory", "@", 
                    RowBox[{"DirectoryName", "@", "fout"}]}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", "]"}], ";", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"(*", " ", "\n", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Export", " ", "aggregation", " ", "file"}], ",", 
                    " ", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"e", ".", "g", ".", " ", "tags"}], "/", 
                    RowBox[{"mathematica", ".", "html"}]}], " ", "passing", 
                    " ", "the", " ", "\n", "\t", "\t\t\t\t\t\t\t", "list", 
                    " ", "of", " ", "file", " ", "URLs", " ", "as", " ", 
                    "the", " ", "aggregation", " ", "name"}], ",", " ", 
                    RowBox[{"e", ".", "g", ".", " ", "Tags"}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t", "*)"}], "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{
                    "WebSiteTemplateExportPaginated", "[", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"aggbit", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileBaseName", "[", "fout", "]"}], ",", "\n", 
                    "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameTake", "[", 
                    RowBox[{"fout", ",", " ", 
                    RowBox[{"{", 
                    RowBox[{"1", ",", " ", 
                    RowBox[{"-", "2"}]}], "}"}]}], "]"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", "outDir", ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"thm", ",", "\"\<templates\>\""}], "}"}]}], ",", 
                    "longDir"}], "}"}], ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t",
                     "None", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    "templates", ",", " ", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Append", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"config", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"aggsingular", "\[Rule]", "#"}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Lookup", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{"$WebSiteBuildContentStack", ",", "#2", ",", 
                    RowBox[{"<|", "|>"}]}], "]"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", "\"\<Attributes\>\"", ",", "\n", 
                    "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"<|", "|>"}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FilterRules", "[", 
                    RowBox[{
                    RowBox[{"{", "ops", "}"}], ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "Options", "@", "WebSiteTemplateExportPaginated"}]}], 
                    "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", "]"}], ";", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"aggbit", "=."}], ";"}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t", "]"}], "&"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t", "agglist"}], "\n", "\t", 
                    "\t\t\t\t\t\t\t", "]"}], ";", "\n", "\t\t\t\t\t\t\t", 
                   RowBox[{"If", "[", 
                    RowBox[{"(*", " ", 
                    RowBox[{
                    RowBox[{"If", " ", 
                    RowBox[{"there", "'"}], "s", " ", "a", " ", "overall", 
                    " ", "aggregation", " ", "to", " ", "use"}], ",", " ", 
                    RowBox[{
                    RowBox[{"e", ".", "g", ".", " ", "all"}], " ", "tags", 
                    " ", "or", " ", "categories"}]}], "*)"}], "\n", "\t", 
                    "\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"AllTrue", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    "\"\<AggregationFile\>\"", ",", 
                    "\"\<AggregationTemplates\>\""}], "}"}], ",", "\n", "\t", 
                    "\t", "\t", "\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"KeyMemberQ", "[", 
                    RowBox[{"aggdata", ",", "#"}], "]"}], "&"}]}], "\n", "\t",
                     "\t", "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t", 
                    RowBox[{"With", "[", 
                    RowBox[{
                    RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"fout", "=", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildSlug", "@", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "outDir", ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "aggdata", "[", "\"\<AggregationFile\>\"", "]"}]}], "\n", 
                    "\t", "\t\t\t\t\t\t\t\t\t\t", "}"}]}]}]}]}], ",", "\n", 
                    "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "templates", "=", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"List", "@", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "aggdata", "[", "\"\<AggregationTemplates\>\"", 
                    "]"}]}]}]}]}], "\n", "\t", "\t\t\t\t\t\t\t\t", "}"}], ",",
                     "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"aggbit", "=", 
                    RowBox[{"ToLowerCase", "@", "aggthing"}]}], ";", "\n", 
                    "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"!", 
                    RowBox[{"DirectoryQ", "@", 
                    RowBox[{"DirectoryName", "@", "fout"}]}]}], ",", "\n", 
                    "\t", "\t", "\t", "\t", "\t", "\t\t\t\t\t", 
                    RowBox[{"CreateDirectory", "@", 
                    RowBox[{"DirectoryName", "@", "fout"}]}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", "]"}], ";", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"TrueQ", "@", 
                    RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", "\n",
                     "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Function", "[", 
                    RowBox[{"Null", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Monitor", "[", 
                    RowBox[{
                    "#", ",", " ", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "Internal`LoadingPanel", "@", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "TemplateApply", "[", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<Generating ``\>\"", ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDrop", "[", 
                    RowBox[{"fout", ",", 
                    RowBox[{"FileNameDepth", "@", "outDir"}]}], "]"}]}]}], 
                    "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n",
                     "\t", "\t\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", "HoldAllComplete"}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", "Identity"}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", "]"}], "@", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteTemplateExport", "[", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "aggbit", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t", "fout", 
                    ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"thm", ",", "\"\<templates\>\""}], "}"}]}], ",", 
                    "longDir"}], "}"}], ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t",
                     "None", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    "templates", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "Merge", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "config", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"aggthing", "->", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Values", "@", "$aggregationFiles"}]}], ",", "\n",
                     "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<URL\>\"", "->", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "Set", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "aggbit", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDrop", "[", 
                    RowBox[{"fout", ",", 
                    RowBox[{"FileNameDepth", "@", "outDir"}]}], "]"}]}]}], 
                    "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n",
                     "\t", "\t\t\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", "Last"}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", "]"}]}], ";", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"aggbit", "=."}], ";"}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t\t\t",
                     "]"}]}]}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}], "\n", 
               "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], "&"}], ",",
            "\n", "\t\t\t\t", 
           RowBox[{"Replace", "[", 
            RowBox[{"aggpages", ",", 
             RowBox[{
             "Automatic", "\[RuleDelayed]", 
              "$WebSiteGenerateAggregationPages"}]}], "]"}]}], "\n", 
          "\t\t\t\t", "]"}], ";"}]}], "\n", "\t\t\t", "]"}], ";"}]}], "\n", 
    "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.71266514945728*^9, 3.7126651860668383`*^9}, {
   3.712665217439394*^9, 3.7126652341440487`*^9}, {3.712665304813098*^9, 
   3.712665428035041*^9}, {3.712665820160141*^9, 3.712665997496722*^9}, {
   3.712666029859069*^9, 3.712666072930785*^9}, 3.712666106464913*^9, {
   3.712666344321274*^9, 3.71266635599087*^9}, {3.712666433920295*^9, 
   3.7126664953914213`*^9}, {3.712666527956365*^9, 3.7126666573618298`*^9}, {
   3.712666718700697*^9, 3.712666844960993*^9}, {3.7126668754405527`*^9, 
   3.712666928789379*^9}, {3.712667120971504*^9, 3.712667127604598*^9}, {
   3.712667218115181*^9, 3.712667240576004*^9}, {3.71266727175488*^9, 
   3.712667284035528*^9}, {3.712667338725422*^9, 3.7126674668569603`*^9}, {
   3.712667540498931*^9, 3.712667723958869*^9}, {3.7126678308875837`*^9, 
   3.712667974003702*^9}, {3.7126680713811483`*^9, 3.712668090906543*^9}, {
   3.712668122843464*^9, 3.7126681342228823`*^9}, {3.712670116674231*^9, 
   3.712670132930787*^9}, {3.7126701995660133`*^9, 3.712670215441181*^9}, {
   3.7126702552547092`*^9, 3.7126702562391033`*^9}, {3.712670727512183*^9, 
   3.712670801565055*^9}, 3.712670833219757*^9, {3.712670922503469*^9, 
   3.712670956287449*^9}, {3.7126710571253643`*^9, 3.712671088301495*^9}, {
   3.712671148908391*^9, 3.7126712578300858`*^9}, 3.7126715967553673`*^9, {
   3.712674875166005*^9, 3.712674875173706*^9}, {3.7126810289175043`*^9, 
   3.712681035579097*^9}, {3.712702414645706*^9, 3.712702416467229*^9}, {
   3.712702795080298*^9, 3.712702796916643*^9}, {3.71270286078234*^9, 
   3.712702861684805*^9}, 3.712703141508515*^9, {3.712703232060111*^9, 
   3.712703236673512*^9}, {3.712703305842944*^9, 3.712703318983124*^9}, {
   3.712703354391477*^9, 3.712703369105493*^9}, {3.7127035916567993`*^9, 
   3.7127035984471207`*^9}, {3.7127041854870777`*^9, 
   3.7127042196636753`*^9}, {3.712704270845909*^9, 3.712704329291606*^9}, {
   3.712704361760964*^9, 3.712704363693431*^9}, {3.712704415708521*^9, 
   3.712704433747364*^9}, {3.712704509184999*^9, 3.712704598835371*^9}, {
   3.7127046727669764`*^9, 3.7127046906090593`*^9}, {3.712704721687557*^9, 
   3.712704813152484*^9}, {3.712704876106822*^9, 3.712704918979272*^9}, 
   3.712704956613119*^9, {3.712705543757841*^9, 3.7127055510485983`*^9}, {
   3.712705599726549*^9, 3.712705620908826*^9}, {3.712705665729251*^9, 
   3.712705677020603*^9}, {3.7127057192498703`*^9, 3.712705743660692*^9}, 
   3.712705942219935*^9, 3.712705978452525*^9, {3.712706253572679*^9, 
   3.712706322942292*^9}, {3.712706358611857*^9, 3.712706411080462*^9}, {
   3.712707117106607*^9, 3.7127071781295147`*^9}, {3.7127074323146772`*^9, 
   3.712707506300933*^9}, 3.712707773204713*^9, {3.712708420610333*^9, 
   3.712708421044088*^9}, 3.7127085364888983`*^9, {3.712708576528717*^9, 
   3.7127086082550297`*^9}, {3.712708658709816*^9, 3.712708660341799*^9}, {
   3.71270871738135*^9, 3.712708731028211*^9}, {3.712708790548338*^9, 
   3.712708846797104*^9}, 3.712708881601253*^9, {3.712708954540971*^9, 
   3.712708966018165*^9}, {3.712709440863057*^9, 3.712709498349432*^9}, {
   3.712709531329755*^9, 3.71270956485249*^9}, {3.71270960498212*^9, 
   3.712709629997939*^9}, {3.7127096903116007`*^9, 3.712709753268268*^9}, {
   3.712709876179242*^9, 3.712709877687233*^9}, {3.712709932969009*^9, 
   3.712710062043097*^9}, {3.712710094952511*^9, 3.712710153113101*^9}, {
   3.712710194604219*^9, 3.712710203574037*^9}, {3.71271023532255*^9, 
   3.71271026069308*^9}, {3.712710317351536*^9, 3.712710335970428*^9}, 
   3.712710383790448*^9, {3.7127104242309113`*^9, 3.712710451576961*^9}, {
   3.712710717817768*^9, 3.7127107382210093`*^9}, {3.720649260973762*^9, 
   3.720649289042824*^9}, {3.721011559246564*^9, 3.721011576798703*^9}, {
   3.723038914318453*^9, 3.72303891433115*^9}, {3.723297594816287*^9, 
   3.723297597612516*^9}, 3.723297972737179*^9, {3.7232980667267227`*^9, 
   3.723298068761238*^9}, {3.723298274236224*^9, 3.723298278934979*^9}, {
   3.72329837302389*^9, 3.723298425323106*^9}, {3.7232984754180717`*^9, 
   3.7232984949869127`*^9}, {3.723298825764942*^9, 3.723298878789935*^9}, {
   3.723298972251193*^9, 3.7232990318447523`*^9}, {3.723299067388994*^9, 
   3.723299100211876*^9}, {3.723299209240819*^9, 3.723299234177698*^9}, {
   3.723299264634337*^9, 3.723299301214229*^9}, {3.723299571319377*^9, 
   3.72329960609617*^9}, {3.723326998580038*^9, 3.7233270186835318`*^9}, {
   3.7233270767685127`*^9, 3.7233270939032507`*^9}, {3.7233273091261587`*^9, 
   3.7233273810740747`*^9}, {3.723327430613796*^9, 3.723327586465575*^9}, 
   3.723426302363752*^9, {3.7289679100370007`*^9, 3.7289679145091877`*^9}, {
   3.7328516797690163`*^9, 3.732851679783307*^9}, {3.7328517203041363`*^9, 
   3.732851720318602*^9}, {3.733673966277335*^9, 3.733674012981148*^9}, {
   3.733674059790948*^9, 3.7336741537977877`*^9}, {3.733678789438239*^9, 
   3.733678792247168*^9}, {3.7336806380074463`*^9, 3.7336806448917303`*^9}, {
   3.733680695121237*^9, 3.7336807777026653`*^9}, {3.733680854510017*^9, 
   3.733680856233066*^9}, {3.733680892516808*^9, 3.733680896361034*^9}, {
   3.733680993473287*^9, 3.733681001924981*^9}, {3.733681096176085*^9, 
   3.733681175588434*^9}, {3.733704756033568*^9, 
   3.7337048016725597`*^9}},ExpressionUUID->"517ea520-000a-4346-98e0-\
dd6d1c19b1d6"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]GenerateIndexPages\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7126809292195377`*^9, 3.712680932106715*^9}, 
   3.733711198323041*^9},ExpressionUUID->"d9a264c4-0a3e-439b-bf63-\
5c8cec640759"],

Cell[BoxData[
 RowBox[{"WebSiteGenerateIndexPages", "//", "ClearAll"}]], "CodeInput",
 CellChangeTimes->{{3.712687458977841*^9, 3.7126874598570538`*^9}, 
   3.733704533727862*^9},ExpressionUUID->"2765d003-6349-4aba-9e67-\
4385ec95fa5d"],

Cell["\<\
\[LeftCeiling]
\tNeed support for multiple indexes, rather than just the global one
\[RightFloor]\
\>", "Text",
 Evaluatable->True,
 CellChangeTimes->{{3.733681198341611*^9, 
  3.733681214099086*^9}},ExpressionUUID->"2b26da17-6c03-4cca-b5b6-\
12f3004724b1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteGatherIndexTemplates", "[", "thm_", "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{
    RowBox[{"FileNameDrop", "[", 
     RowBox[{"#", ",", " ", 
      RowBox[{"1", "+", 
       RowBox[{"FileNameDepth", "[", "thm", "]"}]}]}], "]"}], "&"}], "/@", 
   "\n", "\t\t", 
   RowBox[{"Join", "[", "\n", "\t\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t\t", 
      RowBox[{"FileNameJoin", "[", 
       RowBox[{"{", 
        RowBox[{
        "thm", ",", " ", "\"\<templates\>\"", ",", " ", 
         "\"\<index.html\>\""}], "}"}], "]"}], "\n", "\t\t\t\t", "}"}], ",", 
     "\n", "\t\t\t", 
     RowBox[{"FileNames", "[", 
      RowBox[{"\"\<*.html\>\"", ",", " ", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{
         "thm", ",", " ", "\"\<templates\>\"", ",", " ", "\"\<indexes\>\""}], 
         "}"}]}]}], "]"}]}], "\n", "\t\t\t", "]"}]}]}]], "CodeInput",
 CellChangeTimes->{{3.733681237222197*^9, 3.733681307926702*^9}, {
   3.733704575881134*^9, 3.73370458640169*^9}, {3.733706974769043*^9, 
   3.733706975463348*^9}, {3.7337073979477882`*^9, 3.733707407564473*^9}, 
   3.733707573846867*^9, {3.73370974109237*^9, 3.733709743219952*^9}, {
   3.733709918155841*^9, 
   3.733709920380866*^9}},ExpressionUUID->"3914f1c0-21ac-46a1-b01d-\
09407de773b1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteGenerateIndexPages", "]"}], "=", "\n", 
   "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<PageSize\>\"", "\[Rule]", "0"}], ",", "\n", "\t\t", 
     RowBox[{"Monitor", "\[Rule]", "True"}]}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteGenerateIndexPages", "[", 
    RowBox[{"dir_", ",", "outDir_", ",", "theme_", ",", "config_", ",", " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"longDir", "=", 
        RowBox[{"ExpandFileName", "@", "dir"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"thm", "=", 
        RowBox[{"WebSiteFindTheme", "[", 
         RowBox[{"dir", ",", " ", "theme", ",", " ", 
          RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "True"}]}], "]"}]}]}], 
      "\n", "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"WebSiteTemplateExportPaginated", "[", "\n", "\t\t\t\t", 
        RowBox[{"#", ",", "\n", "\t\t\t\t", 
         RowBox[{"StringReplace", "[", 
          RowBox[{
           RowBox[{"StringTrim", "[", 
            RowBox[{"#", ",", " ", "\"\<.html\>\""}], "]"}], ",", " ", 
           RowBox[{"\"\<indexes\>\"", "\[Rule]", "\"\<index\>\""}]}], "]"}], 
         ",", "\n", "\t\t\t\t", "outDir", ",", " ", "outDir", ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{"thm", ",", " ", "\"\<templates\>\""}], "}"}]}], ",", 
           " ", "longDir"}], "}"}], ",", "\n", "\t\t\t\t", "None", ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"{", "#", "}"}], ",", " ", "\n", "\t\t\t\t", "config", ",", 
         "\n", "\t\t\t\t", 
         RowBox[{"$WebSiteBuildAggStack", "[", "\"\<Articles\>\"", "]"}], ",",
          "\n", "\t\t\t\t", 
         RowBox[{"FilterRules", "[", 
          RowBox[{
           RowBox[{"{", "ops", "}"}], ",", " ", "\n", "\t\t\t\t\t", 
           RowBox[{"Options", "@", "WebSiteTemplateExportPaginated"}]}], "\n",
           "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}], "&"}], "/@", 
      RowBox[{"WebSiteGatherIndexTemplates", "[", "thm", "]"}]}]}], "\n", 
    "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.71266514945728*^9, 3.7126651860668383`*^9}, {
   3.712665217439394*^9, 3.7126652341440487`*^9}, {3.712665304813098*^9, 
   3.712665428035041*^9}, {3.712665820160141*^9, 3.712665997496722*^9}, {
   3.712666029859069*^9, 3.712666072930785*^9}, 3.712666106464913*^9, {
   3.712666344321274*^9, 3.71266635599087*^9}, {3.712666433920295*^9, 
   3.7126664953914213`*^9}, {3.712666527956365*^9, 3.7126666573618298`*^9}, {
   3.712666718700697*^9, 3.712666844960993*^9}, {3.7126668754405527`*^9, 
   3.712666928789379*^9}, {3.712667120971504*^9, 3.712667127604598*^9}, {
   3.712667218115181*^9, 3.712667240576004*^9}, {3.71266727175488*^9, 
   3.712667284035528*^9}, {3.712667338725422*^9, 3.7126674668569603`*^9}, {
   3.712667540498931*^9, 3.712667723958869*^9}, {3.7126678308875837`*^9, 
   3.712667974003702*^9}, {3.7126680713811483`*^9, 3.712668090906543*^9}, {
   3.712668122843464*^9, 3.7126681342228823`*^9}, {3.712670116674231*^9, 
   3.712670132930787*^9}, {3.7126701995660133`*^9, 3.712670215441181*^9}, {
   3.7126702552547092`*^9, 3.7126702562391033`*^9}, {3.712670727512183*^9, 
   3.712670801565055*^9}, 3.712670833219757*^9, {3.712670922503469*^9, 
   3.712670956287449*^9}, {3.7126710571253643`*^9, 3.712671088301495*^9}, {
   3.712671148908391*^9, 3.7126712578300858`*^9}, 3.7126715967553673`*^9, {
   3.712674875166005*^9, 3.712674875173706*^9}, {3.712680943204462*^9, 
   3.712680994687307*^9}, {3.7126811143173437`*^9, 3.7126812027472267`*^9}, {
   3.7126829317607317`*^9, 3.712682937676252*^9}, {3.712683073141741*^9, 
   3.712683076357567*^9}, {3.712686889514639*^9, 3.712686894968828*^9}, {
   3.712687444101543*^9, 3.7126874442496347`*^9}, {3.712687513915893*^9, 
   3.712687515594174*^9}, 3.712688198059553*^9, {3.712690698974362*^9, 
   3.712690699952982*^9}, 3.712690786545639*^9, 3.7206492526648607`*^9, {
   3.720649301187003*^9, 3.720649326679307*^9}, {3.723296756266348*^9, 
   3.7232967637808313`*^9}, {3.7232973276209307`*^9, 3.723297427944875*^9}, {
   3.723297463822654*^9, 3.723297565777287*^9}, {3.723299422335484*^9, 
   3.7232995213190813`*^9}, {3.7233005759381647`*^9, 3.723300577123659*^9}, {
   3.723302352250992*^9, 3.723302401093543*^9}, 3.723302449734826*^9, {
   3.723321042077318*^9, 3.723321043196084*^9}, 3.7233210813423643`*^9, {
   3.723325866628519*^9, 3.723325869344421*^9}, {3.723326824410235*^9, 
   3.723326862718931*^9}, {3.7233270312543488`*^9, 3.723327039669228*^9}, {
   3.728967940005946*^9, 3.728967945234826*^9}, 3.733681254628356*^9, {
   3.733704515458592*^9, 3.7337045337481337`*^9}, {3.733704564077462*^9, 
   3.733704565869472*^9}, {3.7337046417524023`*^9, 3.733704683148929*^9}, {
   3.7337076016122828`*^9, 3.733707615054162*^9}, {3.733711275309285*^9, 
   3.733711282604619*^9}},ExpressionUUID->"f339f2ab-a4e8-46be-938a-\
c120fba97ac3"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]GenerateContent\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7125375899094353`*^9, 3.7125375944281054`*^9}, 
   3.71266444258748*^9},ExpressionUUID->"afd11aea-2cf0-480e-bc9f-\
20fdca7fad33"],

Cell[BoxData[
 RowBox[{"WebSiteGenerateContent", "//", "ClearAll"}]], "CodeInput",
 CellChangeTimes->{{3.712597235663507*^9, 3.712597236408803*^9}, 
   3.712664442599132*^9},ExpressionUUID->"ce08366d-004a-4e30-859e-\
747be703a36c"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "genfl"}], "=", 
   "\"\<Failed to generate HTML for file ``\>\""}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.712626329552887*^9, 
  3.712626343921582*^9}},ExpressionUUID->"c247d788-ac7b-4e31-83f1-\
6c2fa12a5d3d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteGenerateContent", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Monitor", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<LastBuild\>\"", "\[Rule]", "None"}]}], "\n", "\t\t", 
    "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteGenerateContent", "[", "\n", "\t", 
    RowBox[{
    "dir_", ",", "files_", ",", "\n", "\t", "outDir_", ",", "theme_", ",", 
     "config_", ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Module", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"longDir", "=", 
        RowBox[{"ExpandFileName", "@", "dir"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"thm", "=", 
        RowBox[{"WebSiteFindTheme", "[", 
         RowBox[{"dir", ",", " ", "theme", ",", " ", 
          RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "True"}]}], "]"}]}], 
       ",", "\n", "\t\t\t", 
       RowBox[{"lb", "=", 
        RowBox[{"OptionValue", "[", "\"\<LastBuild\>\"", "]"}]}], ",", "\n", 
       "\t\t\t", "fname", ",", "\n", "\t\t\t", "path", ",", "\n", "\t\t\t", 
       "fout", ",", "\n", "\t\t\t", "conf"}], "\n", "\t\t\t", "}"}], ",", 
     "\n", "\t\t", 
     RowBox[{
      RowBox[{"Block", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"{", "\n", "\t\t\t\t", 
         RowBox[{"genfile", ",", "\n", "\t\t\t\t", "outfile"}], "\n", "\t", 
         "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"TrueQ", "@", 
            RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", " ", 
           "Monitor", ",", " ", 
           RowBox[{"#", "&"}]}], "]"}], "[", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"With", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"f", "=", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], "}"}], ",", "\n", 
               "\t\t\t\t", 
               RowBox[{"Function", "[", "\n", "\t\t\t\t\t", 
                RowBox[{"Null", ",", "\n", "\t\t\t\t\t", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"!", 
                    RowBox[{"DateObjectQ", "@", "lb"}]}], "||", 
                    RowBox[{
                    RowBox[{"FileDate", "[", 
                    RowBox[{"f", ",", " ", "\"\<Modification\>\""}], "]"}], 
                    "\[GreaterEqual]", "lb"}]}], ",", "\n", "\t\t\t\t\t\t", 
                   "#", ",", "\n", "\t\t\t\t\t\t", "Nothing"}], "\n", 
                  "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
                 "HoldAllComplete"}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
              "\t\t\t\t", "]"}], "@", "\n", "\t\t\t\t", 
             RowBox[{"CompoundExpression", "[", "\n", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"fname", "=", "\n", "\t\t\t\t\t\t", 
                RowBox[{"(*", " ", 
                 RowBox[{
                 "In", " ", "case", " ", "the", " ", "file", " ", "had", " ", 
                  "a", " ", "path", " ", "already"}], " ", "*)"}], "\n", 
                "\t\t\t\t\t\t", 
                RowBox[{"ExpandFileName", "@", "\n", "\t", "\t\t\t\t\t\t", 
                 RowBox[{"Replace", "[", 
                  RowBox[{"#", ",", 
                   RowBox[{
                    RowBox[{"Except", "[", 
                    RowBox[{"_String", "|", "_File"}], "]"}], 
                    "\[RuleDelayed]", 
                    RowBox[{"First", "[", "#", "]"}]}]}], "]"}]}]}], ",", 
               "\n", "\t\t\t\t\t", 
               RowBox[{"path", "=", "\n", "\t\t\t\t\t\t", 
                RowBox[{"(*", " ", 
                 RowBox[{
                  RowBox[{"Use", " ", "path", " ", "if", " ", "provided"}], 
                  ",", " ", 
                  RowBox[{"else", " ", 
                   RowBox[{"base", ".", "html"}]}]}], " ", "*)"}], "\n", "\t",
                 "\t\t\t\t\t", 
                RowBox[{"Flatten", "@", 
                 RowBox[{"List", "@", "\n", "\t", "\t\t\t\t\t\t", 
                  RowBox[{"Replace", "[", 
                   RowBox[{"#", ",", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t", 
                    RowBox[{"{", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Except", "[", 
                    RowBox[{"_String", "|", "_File"}], "]"}], 
                    "\[RuleDelayed]", 
                    RowBox[{"Last", "[", "#", "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"_", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildGetTemplates", "[", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "ExpandFileName", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Replace", "[", 
                    RowBox[{"#", ",", 
                    RowBox[{
                    RowBox[{"Except", "[", 
                    RowBox[{"_String", "|", "_File"}], "]"}], 
                    "\[RuleDelayed]", 
                    RowBox[{"First", "[", "#", "]"}]}]}], "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "longDir"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t\t\t", 
                   "]"}]}]}]}], ",", "\n", "\t\t\t\t\t", 
               RowBox[{"fout", "=", "\n", "\t\t\t\t\t\t", 
                RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"Fold", "[", "\n", "\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{"#", ",", " ", "#2", ",", " ", 
                    RowBox[{"<|", "|>"}]}], "]"}], "&"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t", "$WebSiteBuildContentStack", ",", 
                    "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", 
                    RowBox[{
                    "fname", ",", " ", "\"\<Attributes\>\"", ",", " ", 
                    "\"\<URL\>\""}], "}"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}],
                   ",", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"u_String", ":>", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"outDir", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"URLParse", "[", 
                    RowBox[{"u", ",", " ", "\"\<Path\>\""}], "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "}"}]}]}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"_", ":>", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Function", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"FileExtension", "[", "#", "]"}], "=!=", 
                    "\"\<html\>\""}], ",", "\n", "\t", "\t", "\t", "\t", "\t",
                     "\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"DirectoryName", "[", "#", "]"}], "<>", "\n", 
                    "\t", "\t", "\t", "\t", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"FileBaseName", "[", "#", "]"}], "<>", 
                    "\"\<.html\>\""}], ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    "#"}], "\n", "\t\t\t\t\t\t\t\t\t\t\t", "]"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}], "@", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"outDir", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildSlug", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "Lookup", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    "$WebSiteBuildContentStack", ",", " ", "fname", ",", " ", 
                    
                    RowBox[{"<|", "|>"}]}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", "\"\<Attributes\>\"", ",",
                     "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"<|", "|>"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "\"\<FilePath\>\"", ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"WebSiteBuildFilePath", "[", 
                    RowBox[{"fname", ",", "outDir"}], "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "}"}]}]}]}]}], "\n", 
                   "\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t\t", 
                 "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"genfile", "=", "fname"}], ";", "\n", "\t\t\t\t\t\t", 
                
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"!", 
                   RowBox[{"DirectoryQ", "@", 
                    RowBox[{"DirectoryName", "@", "fout"}]}]}], ",", "\n", 
                  "\t", "\t", "\t\t\t\t\t", 
                  RowBox[{"CreateDirectory", "@", 
                   RowBox[{"DirectoryName", "@", "fout"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"conf", "=", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"config", ",", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<URL\>\"", "\[Rule]", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDrop", "[", 
                    RowBox[{"fout", ",", " ", 
                    RowBox[{"FileNameDepth", "@", "outDir"}]}], "]"}]}]}]}], 
                   "\n", "\t", "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t", "Last"}], "\n", "\t\t\t\t\t\t\t\t", 
                 "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{
               "WebSiteSetContentAttributes", "[", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"fname", ",", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{"\"\<URL\>\"", "->", 
                  RowBox[{"conf", "[", "\"\<URL\>\"", "]"}]}]}], "\n", 
                "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"WebSiteTemplateExport", "[", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{
                "genfile", ",", "\n", "\t\t\t\t\t\t\t", "fout", ",", "\n", 
                 "\t\t\t\t\t\t\t", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"thm", ",", " ", "\"\<templates\>\""}], "}"}]}], 
                   ",", "longDir"}], "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
                 "fname", ",", "\n", "\t\t\t\t\t\t\t", "path", ",", "\n", 
                 "\t\t\t\t\t\t\t", "conf"}], "\n", "\t\t\t\t\t\t\t", "]"}], 
               ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"outfile", "=."}], ";"}]}], "\n", "\t\t\t\t\t\t", 
              "]"}]}], "&"}], "/@", "files"}], ",", "\n", "\t\t\t\t", 
          RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t\t", 
           RowBox[{"TemplateApply", "[", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{"\"\<Exporting ``\>\"", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{
             "{", "\n", "\t\t\t\t\t\t\t", "genfile", "\n", "\t\t\t\t\t\t\t", 
              "}"}]}], "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", 
         "]"}]}], "\n", "\t\t\t", "]"}], ";"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"4714ac49-2708-42f0-bc76-5472c29420c7"]\

}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]CopyTheme\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712537745851767*^9, 
  3.712537747002632*^9}},ExpressionUUID->"dc9f4895-e809-4ab2-8980-\
6a8ea12bcf88"],

Cell[BoxData[
 RowBox[{"WebSiteCopyTheme", "//", "Clear"}]], "CodeInput",
 CellChangeTimes->{{3.7206493467372713`*^9, 
  3.720649347545315*^9}},ExpressionUUID->"dde324e7-82ba-43a6-919b-\
50b9fb032707"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteCopyTheme", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{"Monitor", "\[Rule]", "True"}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteCopyTheme", "[", 
   RowBox[{"dir_", ",", "outDir_", ",", " ", "theme_", ",", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{"thm", "=", "\n", "\t\t\t", 
      RowBox[{"FileNameJoin", "@", 
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteFindTheme", "[", 
          RowBox[{"dir", ",", " ", "theme", ",", " ", 
           RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "True"}]}], "]"}], ",",
          "\n", "\t", "\t\t\t", "\"\<static\>\""}], "\n", "\t", "\t\t\t", 
        "}"}]}]}], "\n", "\t\t", "}"}], ",", "\n", "\t", "\t", 
    RowBox[{
     RowBox[{"Quiet", "@", 
      RowBox[{"CreateDirectory", "[", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"outDir", ",", "\"\<theme\>\""}], "}"}]}], "]"}]}], ";", 
     "\n", "\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"fils", "=", 
         RowBox[{
          RowBox[{"Select", "[", 
           RowBox[{"Not", "@*", "DirectoryQ"}], "]"}], "@", 
          RowBox[{"FileNames", "[", 
           RowBox[{"\"\<*\>\"", ",", "thm", ",", "\[Infinity]"}], "]"}]}]}], 
        "}"}], ",", "\n", "\t\t\t", 
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", "\n", "\t\t\t\t", 
          RowBox[{"copyfile", ",", "\n", "\t\t\t\t", "newfile"}], "\n", 
          "\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"TrueQ", "@", 
             RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", " ", 
            "Monitor", ",", " ", 
            RowBox[{"#", "&"}]}], "]"}], "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"With", "[", 
              RowBox[{
               RowBox[{"{", "\n", "\t\t\t\t\t\t", 
                RowBox[{"newf", "=", "\n", "\t", "\t", "\t\t\t\t\t", 
                 RowBox[{"FileNameJoin", "@", 
                  RowBox[{"{", 
                   RowBox[{
                   "outDir", ",", "\"\<theme\>\"", ",", "\n", "\t", "\t", 
                    "\t", "\t\t\t\t\t", 
                    RowBox[{"FileNameDrop", "[", 
                    RowBox[{"#", ",", 
                    RowBox[{"FileNameDepth", "[", "thm", "]"}]}], "]"}]}], 
                   "\n", "\t", "\t", "\t", "\t\t\t\t\t", "}"}]}]}], "\n", 
                "\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"!", 
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"FileExistsQ", "[", "newf", "]"}], "&&", 
                    RowBox[{
                    RowBox[{"FileHash", "[", "#", "]"}], "==", 
                    RowBox[{"FileHash", "[", "newf", "]"}]}]}], ")"}]}], ",", 
                  "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"copyfile", "=", "#"}], ";", "\n", 
                   "\t\t\t\t\t\t\t", 
                   RowBox[{"newfile", "=", "newf"}], ";", "\n", 
                   "\t\t\t\t\t\t\t", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"!", 
                    RowBox[{"DirectoryQ", "@", 
                    RowBox[{"DirectoryName", "@", "newf"}]}]}], ",", "\n", 
                    "\t", "\t", "\t", "\t\t\t\t\t", 
                    RowBox[{"CreateDirectory", "[", 
                    RowBox[{
                    RowBox[{"DirectoryName", "@", "newf"}], ",", "\n", "\t", 
                    "\t", "\t", "\t\t\t\t\t\t", 
                    RowBox[{
                    "CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
                    "\n", "\t", "\t", "\t", "\t\t\t\t\t\t", "]"}]}], "\n", 
                    "\t", "\t", "\t", "\t\t\t\t\t", "]"}], ";", "\n", "\t", 
                   "\t", "\t", "\t\t\t\t", 
                   RowBox[{"CopyFile", "[", 
                    RowBox[{"#", ",", "newf", ",", 
                    RowBox[{"OverwriteTarget", "\[Rule]", "True"}]}], 
                    "]"}]}]}], "\n", "\t\t\t\t\t\t\t", "]"}], ";", "\n", 
                "\t\t\t\t\t\t", 
                RowBox[{"copyfile", "=."}], ";", "\n", "\t\t\t\t\t\t", 
                RowBox[{"newfile", "=."}], ";"}]}], "\n", "\t\t\t\t\t\t", 
              "]"}], "&"}], "/@", "fils"}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"AllTrue", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"copyfile", ",", "newfile"}], "}"}], ",", 
                "StringQ"}], "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"TemplateApply", "[", 
               RowBox[{
               "\"\<Copying `` to ``\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                 "copyfile", ",", "\n", "\t\t\t\t\t\t\t\t\t", "newfile"}], 
                 "\n", "\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", 
               "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"TemplateApply", "[", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
               "\"\<Copying theme ``\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                "thm"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
             "\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
        "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
     RowBox[{"FileNameJoin", "@", 
      RowBox[{"{", 
       RowBox[{"outDir", ",", "\"\<theme\>\""}], "}"}]}]}]}], "\n", "\t", 
   "\t", "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.712537748542274*^9, 3.71253788846673*^9}, {
   3.712539708453871*^9, 3.712539934269135*^9}, {3.712540032156478*^9, 
   3.712540033555831*^9}, {3.712540068396267*^9, 3.71254006979422*^9}, 
   3.712582646569483*^9, {3.712596842928956*^9, 3.712596885160915*^9}, {
   3.7126271602999477`*^9, 3.712627304083673*^9}, {3.712627425392969*^9, 
   3.712627448824065*^9}, {3.7126274829754877`*^9, 3.712627633807714*^9}, {
   3.712627739819523*^9, 3.712627763864496*^9}, {3.7126278755192213`*^9, 
   3.712627876530424*^9}, {3.712627921864443*^9, 3.7126279622929993`*^9}, {
   3.720648738483816*^9, 3.7206487550750103`*^9}, {3.7206488171243067`*^9, 
   3.720648886572679*^9}, {3.728967960824305*^9, 
   3.728967961598117*^9}},ExpressionUUID->"411a80a5-607e-4a3b-9559-\
95dc7392c6e3"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]CopyContent\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7125936627358007`*^9, 
  3.7125936645108232`*^9}},ExpressionUUID->"54b70327-6144-4a4e-892d-\
95d907aa5d3d"],

Cell[BoxData[
 RowBox[{"WebSiteCopyContent", "//", "Clear"}]], "CodeInput",
 CellChangeTimes->{{3.720649351986136*^9, 
  3.720649353136948*^9}},ExpressionUUID->"6ca97a4e-f4a1-4c26-a702-\
509836318988"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteCopyContent", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{"Monitor", "\[Rule]", "True"}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteCopyContent", "[", "\n", "\t", 
   RowBox[{"dir_", ",", "outDir_", ",", "\n", "\t", 
    RowBox[{"sel", ":", 
     RowBox[{"Except", "[", 
      RowBox[{"_", "?", "OptionQ"}], "]"}], ":", "Automatic"}], ",", "\n", 
    "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"selPat", "=", "\n", "\t\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{"sel", ",", "\n", "\t\t\t\t", 
         RowBox[{"Automatic", "\[RuleDelayed]", 
          RowBox[{"Except", "[", 
           RowBox[{"\"\<posts\>\"", "|", "\"\<pages\>\""}], "]"}]}]}], "\n", 
        "\t\t\t\t", "]"}]}], ",", "\n", "\t\t", 
      RowBox[{"contDir", "=", "\n", "\t\t\t", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"dir", ",", "\"\<content\>\""}], "}"}]}]}], ",", "\n", 
      "\t\t", 
      RowBox[{"monitor", "=", "\n", "\t\t\t", 
       RowBox[{"TrueQ", "@", 
        RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}]}], "\n", "\t\t", 
     "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t", 
        RowBox[{"fils", "=", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Select", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"MatchQ", "[", 
             RowBox[{
              RowBox[{"FileNameTake", "[", 
               RowBox[{"#", ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"FileNameDepth", "[", "contDir", "]"}], "+", "1"}], 
                 "}"}]}], "]"}], ",", "selPat"}], "]"}], "&"}], "\n", 
           "\t\t\t\t\t", "]"}], "@", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Select", "[", 
            RowBox[{"Not", "@*", "DirectoryQ"}], "]"}], "@", "\n", "\t", "\t",
            "\t\t\t\t", 
           RowBox[{"FileNames", "[", 
            RowBox[{"\"\<*\>\"", ",", "contDir", ",", "\[Infinity]"}], 
            "]"}]}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", "\n", "\t\t\t\t", 
          RowBox[{"copyfile", ",", "\n", "\t\t\t\t", "newfile"}], "\n", 
          "\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{"monitor", ",", " ", "Monitor", ",", " ", 
            RowBox[{"#", "&"}]}], "]"}], "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"With", "[", 
              RowBox[{
               RowBox[{"{", "\n", "\t\t\t\t\t\t", 
                RowBox[{"newf", "=", "\n", "\t", "\t", "\t\t\t\t\t", 
                 RowBox[{"FileNameJoin", "@", 
                  RowBox[{"{", 
                   RowBox[{"outDir", ",", "\n", "\t", "\t", "\t\t\t\t\t\t", 
                    RowBox[{"FileNameDrop", "[", 
                    RowBox[{"#", ",", 
                    RowBox[{"FileNameDepth", "[", "contDir", "]"}]}], "]"}]}],
                    "\n", "\t", "\t", "\t\t\t\t\t\t", "}"}]}]}], "\n", "\t", 
                "\t", "\t\t\t\t\t", "}"}], ",", "\n", "\t", "\t", "\t\t\t\t", 
               
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"!", 
                   RowBox[{"FileExistsQ", "[", "newf", "]"}]}], "||", 
                  RowBox[{
                   RowBox[{"FileHash", "[", "#", "]"}], "=!=", 
                   RowBox[{"FileHash", "[", "newf", "]"}]}]}], ",", "\n", 
                 "\t", "\t", "\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"!", 
                    RowBox[{"DirectoryQ", "@", 
                    RowBox[{"DirectoryName", "@", "newf"}]}]}], ",", "\n", 
                    "\t", "\t", "\t\t\t\t\t\t", 
                    RowBox[{"CreateDirectory", "[", 
                    RowBox[{
                    RowBox[{"DirectoryName", "@", "newf"}], ",", "\n", "\t", 
                    "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    "CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
                    "\n", "\t", "\t", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
                   "\t", "\t\t\t\t\t\t", "]"}], ";", "\n", "\t", "\t", 
                  "\t\t\t\t\t", 
                  RowBox[{"CopyFile", "[", 
                   RowBox[{"#", ",", "newf", ",", 
                    RowBox[{"OverwriteTarget", "\[Rule]", "True"}]}], 
                   "]"}]}]}], "\n", "\t", "\t", "\t\t\t\t\t", "]"}]}], "\n", 
              "\t", "\t", "\t\t\t\t", "]"}], "&"}], "/@", "fils"}], ",", "\n",
            "\t\t\t\t\t", 
           RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"AllTrue", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"copyfile", ",", "newfile"}], "}"}], ",", 
                "StringQ"}], "]"}], ",", "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{"TemplateApply", "[", 
               RowBox[{
               "\"\<Copying `` to ``\>\"", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                
                RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                 "copyfile", ",", "\n", "\t", "\t\t\t\t\t\t\t\t", "newfile"}],
                  "\n", "\t", "\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t", 
               "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{"TemplateApply", "[", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
               "\"\<Copying content from ``\>\"", ",", "\n", 
                "\t\t\t\t\t\t\t\t", "contDir"}], "\n", "\t\t\t\t\t\t\t\t", 
               "]"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t",
           "]"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ";", 
     "\n", "\t\t", "outDir"}]}], "\n", "\t\t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"921c6c3b-771f-45a2-ba78-a7a5411fe24a"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]GenerateSearchIndex\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"6d579557-8e44-4831-8c2b-ba126903325e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteGenerateSearchIndex", "]"}], "=", "\n", 
   "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{"\"\<SiteIndexContent\>\"", "\[Rule]", 
     RowBox[{"{", "\"\<Articles\>\"", "}"}]}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteGenerateSearchIndex", "[", "\n", "\t", 
   RowBox[{
   "dir_", ",", " ", "\n", "\t", "outDir_", ",", "\n", "\t", "config_", ",", 
    " ", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"Module", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"contentData", "=", "$WebSiteContentStack"}], ",", "\n", 
      "\t\t\t", "siteIndexedContent", ",", "\n", "\t\t\t", "selector", ",", 
      "\n", "\t\t\t", "pagesForReal"}], "\n", "\t\t\t", "}"}], ",", "\n", 
    "\t\t", 
    RowBox[{
     RowBox[{"siteIndexedContent", "=", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"Replace", "[", 
        RowBox[{
         RowBox[{"Except", "[", 
          RowBox[{"{", "__String", "}"}], "]"}], "\[Rule]", 
         RowBox[{"{", "\"\<Articles\>\"", "}"}]}], "]"}], "@", "\n", 
       "\t\t\t\t", 
       RowBox[{"OptionValue", "[", "\"\<SiteIndexContent\>\"", "]"}]}]}], ";",
      "\n", "\t\t", 
     RowBox[{"selector", "=", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"Evaluate", "[", "\n", "\t\t\t\t", 
         RowBox[{"And", "@@", "\n", "\t\t\t\t\t", 
          RowBox[{"Table", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"holdMemQ", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"#", "[", "\"\<Templates\>\"", "]"}], ",", " ", "\n", 
              "\t\t\t\t\t\t\t", 
              RowBox[{"Replace", "[", 
               RowBox[{"t", ",", " ", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                  "\"\<Articles\>\"", "\[Rule]", "\"\<article.html\>\""}], 
                  ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"\"\<Pages\>\"", "\[Rule]", "\"\<page.html\>\""}], 
                  ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"\"\<Images\>\"", "|", "\"\<Themes\>\""}], ":>", 
                   "Nothing"}], ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"s_String", "\[RuleDelayed]", 
                   RowBox[{
                    RowBox[{"StringTrim", "[", 
                    RowBox[{"s", ",", " ", "\"\<.html\>\""}], "]"}], "<>", 
                    "\"\<.html\>\""}]}]}], "\n", "\t\t\t\t\t\t\t\t\t", 
                 "}"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
             "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"{", 
             RowBox[{"t", ",", " ", "siteIndexedContent"}], "}"}]}], "\n", 
           "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], "&"}], "/.", 
       RowBox[{"holdMemQ", "\[Rule]", "MemberQ"}]}]}], ";", "\n", "\t\t", 
     RowBox[{"contentData", "=", "\n", "\t\t\t", 
      RowBox[{"Map", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"AssociationThread", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
            "\"\<title\>\"", ",", " ", "\"\<tags\>\"", ",", " ", 
             "\"\<url\>\"", ",", " ", "\"\<note\>\""}], "}"}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Lookup", "[", 
              RowBox[{
              "#", ",", " ", "\"\<Title\>\"", ",", " ", "\"\<Untitled\>\""}], 
              "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Lookup", "[", 
              RowBox[{"#", ",", " ", "\"\<Tags\>\"", ",", " ", 
               RowBox[{"{", "}"}]}], "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Lookup", "[", 
              RowBox[{
              "#", ",", " ", "\"\<URL\>\"", ",", " ", 
               "\"\<??_y_dough_??.html\>\""}], "]"}], ",", "\n", 
             "\t\t\t\t\t\t", 
             RowBox[{"Lookup", "[", 
              RowBox[{
              "#", ",", " ", "\"\<Summary\>\"", ",", " ", 
               "\"\<No summary...\>\""}], "]"}]}], "\n", "\t\t\t\t\t\t", 
            "}"}]}], "\n", "\t\t\t\t\t", "]"}], "&"}], ",", "\n", "\t\t\t\t", 
        
        RowBox[{"Select", "[", "\n", "\t\t\t\t\t", 
         RowBox[{"contentData", ",", "\n", "\t\t\t\t\t", "selector"}], "\n", 
         "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     
     RowBox[{"Export", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"outDir", ",", " ", "\"\<search_index.json\>\""}], "}"}]}], 
       ",", "\n", "\t\t\t", 
       RowBox[{"<|", 
        RowBox[{"\"\<pages\>\"", "->", "contentData"}], "|>"}]}], "\n", 
      "\t\t\t", "]"}]}]}], " ", "\n", "\t\t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"9edf5e2f-3cc1-4579-8a73-4ab78d56ff77"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Build\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7125377389844522`*^9, 3.712537740845558*^9}, 
   3.7125939399984217`*^9},ExpressionUUID->"13f3aada-54bd-4b37-85ea-\
dcf8cbdc384d"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]iWebSiteBuildGetFiles\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"86e50bd3-c0b0-48eb-ab43-8bdd305b54e4"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"iWebSiteBuildGetFiles", "[", 
   RowBox[{"dir_", ",", " ", "dirs_", ",", " ", "templates_"}], "]"}], ":=", 
  "\n", "\t", 
  RowBox[{"With", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{"temps", "=", "\n", "\t\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
       RowBox[{"templates", ",", "\n", "\t", "\t", "\t\t\t", 
        RowBox[{
         RowBox[{"Except", "[", 
          RowBox[{
           RowBox[{"_", "?", "AssociationQ"}], "|", 
           RowBox[{"_", "?", "OptionQ"}]}], "]"}], "->", "\n", "\t", "\t", 
         "\t\t\t\t", 
         RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"\"\<posts\>\"", "\[Rule]", "\"\<article.html\>\""}], ",", 
           "\n", "\t", "\t", "\t", "\t", "\t\t\t", 
           RowBox[{"_", "\[Rule]", "\"\<page.html\>\""}]}], "\n", "\t", "\t", 
          "\t\t\t\t\t", "}"}]}]}], "\n", "\t", "\t", "\t\t\t", "]"}]}], "\n", 
     "\t\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{"Join", "@@", "\n", "\t\t\t", 
     RowBox[{"Map", "[", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"Thread", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"FileNames", "[", 
           RowBox[{
            RowBox[{"\"\<*.html\>\"", "|", "\"\<*.md\>\""}], ",", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<content\>\"", ",", " ", "#"}], 
              "}"}]}], ",", "\n", "\t\t\t\t\t\t", "\[Infinity]"}], "\n", 
           "\t\t\t\t\t\t", "]"}], "\[Rule]", "\n", "\t\t\t\t\t\t", 
          RowBox[{"Lookup", "[", 
           RowBox[{"temps", ",", " ", "#", ",", " ", "\"\<page.html\>\""}], 
           "]"}]}], "\n", "\t\t\t\t\t", "]"}], "&"}], ",", "\n", "\t\t\t\t", 
       RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
        RowBox[{"dirs", ",", "\n", "\t\t\t\t\t", 
         RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
          RowBox[{"{", 
           RowBox[{"\"\<posts\>\"", ",", " ", "\"\<pages\>\""}], "}"}]}]}], 
        "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}]}], "\n", 
   "\t\t", "]"}]}], "\n", 
 RowBox[{"\t"}]}], \
"CodeInput",ExpressionUUID->"894dfd4f-31b9-442e-a48f-d7114f77ddf5"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]iWebSiteBuild\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"b334dcf7-ae72-4e73-b8d4-1a3744ad4b0d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "iWebSiteBuild", "]"}], "=", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", "\t\t", 
    RowBox[{"Join", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"\"\<GenerateContent\>\"", "\[Rule]", "True"}], ",", "\n", 
        "\t", "\t", "\t\t", 
        RowBox[{"\"\<GenerateIndex\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
        "\t", "\t", "\t", "\t", 
        RowBox[{"\"\<GenerateAggregations\>\"", "\[Rule]", "Automatic"}], ",",
         "\n", "\t", "\t", "\t\t", 
        RowBox[{"\"\<GenerateSiteIndex\>\"", "\[Rule]", "Automatic"}], ",", 
        "\n", "\t\t\t\t", 
        RowBox[{"\"\<PageSize\>\"", "\[Rule]", "0"}]}], "\n", "\t\t\t\t", 
       "}"}], ",", "\n", "\t\t\t", 
      RowBox[{"Options", "[", "WebSiteGenerateContent", "]"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"Options", "[", "WebSiteGenerateIndex", "]"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"Options", "[", "WebSiteGenerateAggregations", "]"}], ",", "\n",
       "\t\t\t", 
      RowBox[{"Options", "[", "WebSiteGenerateSiteIndex", "]"}]}], "\n", 
     "\t\t\t", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"iWebSiteBuild", "[", "\n", "\t", 
    RowBox[{
    "dir_", ",", "\n", "\t", "outDir_", ",", "\n", "\t", "thm_", ",", "\n", 
     "\t", "fileNames_", ",", "\n", "\t", "conf_", ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Block", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{"(*", " ", 
       RowBox[{
       "A", " ", "bunch", " ", "of", " ", "parameters", " ", "to", " ", 
        RowBox[{"protect", " ", "--"}], " ", "may", " ", "get", " ", 
        "rewritten", " ", "so", " ", "this", " ", "is", " ", "a", " ", 
        "safety", " ", "net"}], " ", "*)"}], "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"$TemplatePath", "=", "$TemplatePath"}], ",", "\n", "\t\t\t", 
       RowBox[{"$Path", "=", "$Path"}], ",", "\n", "\t\t\t", 
       RowBox[{"$Context", "=", "$Context"}], ",", "\n", "\t\t\t", 
       RowBox[{"$ContextPath", "=", "$ContextPath"}], ",", "\n", "\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{"The", " ", "stacks", " ", "to", " ", "populate"}], " ", 
        "*)"}], "\n", "\t\t\t", 
       RowBox[{"$WebSiteBuildContentStack", "=", "\n", "\t\t\t\t", 
        RowBox[{"<|", "|>"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"$WebSiteBuildContentDataStack", "=", "\n", "\t\t\t\t", 
        RowBox[{"<|", "|>"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{"Build", " ", "flags"}], " ", "*)"}], "\n", "\t\t\t", 
       RowBox[{"genCont", "=", "\n", "\t\t\t\t", 
        RowBox[{"OptionValue", "[", "\"\<GenerateContent\>\"", "]"}]}], ",", 
       "\n", "\t\t\t", 
       RowBox[{"genAggs", "=", "\n", "\t\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<GenerateAggregations\>\"", "]"}], 
          ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "[", "\"\<GenerateContent\>\"", "]"}]}]}], 
         "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"genInd", "=", "\n", "\t\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<GenerateIndex\>\"", "]"}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "[", "\"\<GenerateContent\>\"", "]"}]}]}], 
         "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"genSI", "=", "\n", "\t\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<GenerateSiteIndex\>\"", "]"}], ",",
           "\n", "\t\t\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "[", "\"\<GenerateContent\>\"", "]"}]}]}], 
         "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"newconf", "=", "\n", "\t\t\t\t", 
        RowBox[{"KeyDrop", "[", "\n", "\t\t\t\t\t", 
         RowBox[{"conf", ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Keys", "@", 
           RowBox[{"Options", "[", "iWebSiteBuild", "]"}]}]}], "\n", 
         "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
     
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"AnyTrue", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
           "genCont", ",", " ", "genAggs", ",", " ", "genInd", ",", " ", 
            "genSI"}], "}"}], ",", "TrueQ"}], "]"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"WebSiteExtractPageData", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"ExpandFileName", "@", "dir"}], ",", "\n", "\t\t\t\t\t", 
          "fileNames", ",", "\n", "\t\t\t\t\t", "newconf", ",", "\n", 
          "\t\t\t\t\t", 
          RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"ops", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"Monitor", "\[Rule]", 
                  RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
                "\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
               "First"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"Options", "[", "WebSiteExtractPageData", "]"}]}], "\n", 
           "\t", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
       "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
      RowBox[{"WebSiteContentStackPrep", "[", "]"}], ";", "\n", "\t\t\t", 
      RowBox[{"If", "[", 
       RowBox[{"genCont", ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteGenerateContent", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
          "dir", ",", "\n", "\t\t\t\t\t", "fileNames", ",", "\n", 
           "\t\t\t\t\t", "outDir", ",", "\n", "\t\t\t\t\t", "thm", ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"Join", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"<|", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"\"\<SiteDirectory\>\"", "\[Rule]", "dir"}], ",", "\n",
                "\t\t\t\t\t\t\t", 
               RowBox[{"\"\<OutputDirectory\>\"", "\[Rule]", "outDir"}]}], 
              "\n", "\t\t\t\t\t\t\t", "|>"}], ",", "\n", "\t\t\t\t\t\t", 
             "newconf"}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"OptionQ", "@", 
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}]}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<PageSize\>\"", "->", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}], 
                    ",", " ", "\"\<Content\>\"", ",", " ", "0"}], "]"}]}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", "Nothing"}], 
                   "\n", "\t", "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
                  "\t\t\t\t\t\t\t\t", "ops", ",", "\n", "\t", 
                  "\t\t\t\t\t\t\t\t", 
                  RowBox[{"Monitor", "\[Rule]", 
                   RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                "First"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
             "\t\t\t\t\t\t", 
             RowBox[{"Options", "[", "WebSiteGenerateContent", "]"}]}], "\n", 
            "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";", "\n", 
         "\t\t\t\t", 
         RowBox[{"Export", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{"dir", ",", " ", "\"\<BuildInfo.m\>\""}], "}"}]}], ",", 
           "\n", "\t\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{"\"\<LastBuild\>\"", "\[Rule]", "Now"}], "\n", 
            "\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", 
       "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
      RowBox[{"If", "[", 
       RowBox[{"genAggs", ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteGenerateAggregationPages", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
          "dir", ",", "\n", "\t\t\t\t\t", "Automatic", ",", "\n", 
           "\t\t\t\t\t", "outDir", ",", "\n", "\t\t\t\t\t", "thm", ",", "\n", 
           "\t\t\t\t\t", "newconf", ",", "\n", "\t\t\t\t\t", 
           RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"OptionQ", "@", 
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}]}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<PageSize\>\"", "->", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}], 
                    ",", " ", "\"\<Aggregations\>\"", ",", " ", "0"}], 
                    "]"}]}], ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    "Nothing"}], "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", "]"}], 
                  ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t", "ops", ",", "\n", 
                  "\t", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{"Monitor", "\[Rule]", 
                   RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
                 "\t", "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
                "\t\t\t\t\t\t\t", "First"}], "\n", "\t", "\t\t\t\t\t\t\t", 
               "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{
             "Options", "[", "WebSiteGenerateAggregationPages", "]"}]}], "\n",
             "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";"}]}], 
       "\n", "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
      RowBox[{"If", "[", 
       RowBox[{"genInd", ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteGenerateIndexPages", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
          "dir", ",", "\n", "\t\t\t\t\t", "outDir", ",", "\n", "\t\t\t\t\t", 
           "thm", ",", "\n", "\t\t\t\t\t", "newconf", ",", "\n", "\t\t\t\t\t", 
           RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"OptionQ", "@", 
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}]}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<PageSize\>\"", "->", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}], 
                    ",", " ", "\"\<Index\>\"", ",", " ", "0"}], "]"}]}], ",", 
                    "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", "Nothing"}], "\n", 
                   "\t", "\t", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
                  "\t", "\t\t\t\t\t\t\t", "ops", ",", "\n", "\t", "\t", 
                  "\t\t\t\t\t\t\t", 
                  RowBox[{"Monitor", "\[Rule]", 
                   RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
                 "\t", "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
                "\t\t\t\t\t\t\t", "First"}], "\n", "\t", "\t\t\t\t\t\t\t", 
               "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Options", "[", "WebSiteGenerateIndexPages", "]"}]}], 
            "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";"}]}],
        "\n", "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
      RowBox[{"If", "[", 
       RowBox[{"genSI", ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteGenerateSiteIndex", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
          "dir", ",", "\n", "\t\t\t\t\t", "outDir", ",", "\n", "\t\t\t\t\t", 
           "newconf", ",", "\n", "\t\t\t\t\t", 
           RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Options", "[", "WebSiteGenerateIndexPages", "]"}]}], 
            "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";"}]}],
        "\n", "\t\t\t\t", "]"}], ";"}]}], "\n", "\t\t\t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"b207c801-bd72-4899-b5b1-0589f6d9b138"]\

}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteBuild\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"efcc99dd-2e70-4bc7-bff1-082222b15964"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "ndcnt"}], "=", 
   "\"\<Can't generate `` without generating content first\>\""}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.7126662241888113`*^9, 3.7126662455222607`*^9}, {
  3.712680873415894*^9, 3.712680889884789*^9}, {3.721060951339415*^9, 
  3.721060954133233*^9}},ExpressionUUID->"8fec229b-371a-4eed-8c64-\
175399f9a3df"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteBuild", "]"}], "=", "\n", 
   RowBox[{"Join", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"Options", "[", "iWebSiteBuild", "]"}], ",", "\n", "\t", 
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{
       RowBox[{"\"\<CopyContent\>\"", "\[Rule]", "True"}], ",", "\n", "\t", 
       "\t", 
       RowBox[{"\"\<CopyTheme\>\"", "\[Rule]", "True"}], ",", "\n", "\t", 
       "\t", 
       RowBox[{"\"\<ConfigurationOptions\>\"", "\[Rule]", "Automatic"}], ",", 
       "\n", "\t", "\t", 
       RowBox[{"\"\<ConfigurationFile\>\"", "\[Rule]", "Automatic"}], ",", 
       "\n", "\t", "\t", 
       RowBox[{"\"\<OutputDirectory\>\"", "\[Rule]", "Automatic"}], ",", "\n",
        "\t", "\t", 
       RowBox[{"\"\<DefaultTheme\>\"", "->", "\"\<minimal\>\""}], ",", "\n", 
       "\t", "\t", 
       RowBox[{"\"\<AutoDeploy\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t", "\t", 
       RowBox[{"\"\<DeployOptions\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t", "\t", 
       RowBox[{"\"\<LastBuild\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t",
        "\t", 
       RowBox[{"\"\<ContentDirectories\>\"", "\[Rule]", "Automatic"}], ",", 
       "\n", "\t", "\t", 
       RowBox[{
       "\"\<ContentDirectoryTemplates\>\"", "\[Rule]", "Automatic"}]}], "\n", 
      "\t\t", "}"}]}], "\n", "\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
     RowBox[{"files", ":", "\n", "\t\t", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"_String", "?", "FileExistsQ"}], "|", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{"_String", "?", "FileExistsQ"}], ")"}], "\[Rule]", 
             "_List"}], ")"}]}], ")"}], ".."}], "}"}], "|", "\n", "\t", 
       "\t\t", 
       RowBox[{"s_", "?", 
        RowBox[{"(", "StringPattern`StringPatternQ", ")"}]}], "|", 
       "Automatic"}], ":", "Automatic"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Module", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
      "outDir", ",", "\n", "\t\t\t", "fileNames", ",", "\n", "\t\t\t", 
       "config", ",", "\n", "\t\t\t", "confOps", ",", "\n", "\t\t\t", 
       "buildOps"}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"config", "=", "\n", "\t\t\t", 
       RowBox[{"Join", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Replace", "[", 
            RowBox[{
             RowBox[{"OptionValue", "[", "\"\<ConfigurationFile\>\"", "]"}], 
             ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{
                RowBox[{"fname_String", "?", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"FileExistsQ", "[", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dir", ",", " ", "#"}], "}"}]}], "]"}], "&"}], 
                  ")"}]}], ":>", "\n", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{"{", 
                  RowBox[{"dir", ",", " ", "fname"}], "}"}]}]}], ",", "\n", 
               "\t", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Except", "[", 
                 RowBox[{"_String", "?", "FileExistsQ"}], "]"}], 
                "\[RuleDelayed]", "\n", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"FileExistsQ", "@", 
                   RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dir", ",", "\"\<SiteConfig.m\>\""}], "}"}]}]}], 
                  ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{"dir", ",", "\"\<SiteConfig.m\>\""}], "}"}]}], 
                  ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{"dir", ",", "\"\<SiteConfig.wl\>\""}], "}"}]}]}], 
                 "\n", "\t", "\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t", 
              "\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n",
            "\t\t\t\t\t", 
           RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"f_String", "?", "FileExistsQ"}], ":>", "\n", "\t", 
              "\t", "\t\t\t\t\t\t", 
              RowBox[{"Replace", "[", 
               RowBox[{
                RowBox[{"Import", "[", "f", "]"}], ",", " ", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"o_", "?", "OptionQ"}], "\[RuleDelayed]", 
                   RowBox[{"Association", "[", "o", "]"}]}], ",", 
                  RowBox[{"_", "\[Rule]", 
                   RowBox[{"<|", "|>"}]}]}], "}"}]}], "]"}]}], ",", "\n", 
             "\t\t\t\t\t\t\t", 
             RowBox[{"_", "\[Rule]", 
              RowBox[{"<|", "|>"}]}]}], "\n", "\t\t\t\t\t\t", "}"}]}], "]"}], 
         ",", "\n", "\t\t\t\t", 
         RowBox[{"Replace", "[", 
          RowBox[{
           RowBox[{"Normal", "@", 
            RowBox[{
            "OptionValue", "[", "\"\<ConfigurationOptions\>\"", "]"}]}], ",", 
           "\n", "\t\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"o_", "?", "OptionQ"}], "\[RuleDelayed]", 
              RowBox[{"Association", "@", "o"}]}], ",", "\n", "\t\t\t\t\t\t", 
             
             RowBox[{"_", "\[Rule]", 
              RowBox[{"<|", "|>"}]}]}], "\n", "\t\t\t\t\t\t", "}"}]}], "\n", 
          "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"confOps", "=", "\n", "\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"config", ",", " ", "\"\<BuildOptions\>\"", ",", " ", 
         RowBox[{"{", "}"}]}], "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"outDir", "=", "\n", "\t\t\t", 
       RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"Lookup", "[", 
          RowBox[{
          "confOps", ",", " ", "\n", "\t\t\t\t\t", "\"\<OutputDirectory\>\"", 
           ",", " ", "\n", "\t\t\t\t\t", 
           RowBox[{"OptionValue", "[", "\"\<OutputDirectory\>\"", "]"}]}], 
          "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<output\>\""}], "}"}]}]}], ",", 
           "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"p_String", "?", 
             RowBox[{"(", 
              RowBox[{"Not", "@*", "DirectoryQ"}], ")"}]}], ":>", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "p"}], "}"}]}]}]}], "\n", "\t\t\t\t\t",
           "}"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"fileNames", "=", "\n", "\t\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{"files", ",", "\n", "\t\t\t\t", 
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{"Automatic", "\[RuleDelayed]", "\n", "\t\t\t\t\t\t", 
           RowBox[{"iWebSiteBuildGetFiles", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"dir", ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"Lookup", "[", 
              RowBox[{
              "confOps", ",", " ", "\n", "\t\t\t\t\t\t\t\t", 
               "\"\<ContentDirectories\>\"", ",", " ", "\n", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{
               "OptionValue", "[", "\"\<ContentDirectories\>\"", "]"}]}], 
              "\n", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"Lookup", "[", 
              RowBox[{
              "confOps", ",", " ", "\n", "\t\t\t\t\t\t\t\t", 
               "\"\<ContentDirectoryTemplates\>\"", ",", " ", "\n", "\t", 
               "\t", "\t", "\t", "\t\t\t\t", 
               RowBox[{
               "OptionValue", "[", "\"\<ContentDirectoryTemplates\>\"", 
                "]"}]}], "\n", "\t", "\t", "\t", "\t", "\t\t\t\t", "]"}]}], 
            "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "}"}]}], 
        "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"buildOps", "=", "\n", "\t\t\t", 
       RowBox[{"Merge", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{
          "confOps", ",", "\n", "\t\t\t\t\t", "ops", ",", "\n", "\t\t\t\t\t", 
           
           RowBox[{
            RowBox[{"Replace", "[", 
             RowBox[{
              RowBox[{"Except", "[", 
               RowBox[{"_", "?", "OptionQ"}], "]"}], "\[Rule]", 
              RowBox[{"{", "}"}]}], "]"}], "@", "\n", "\t\t\t\t\t", 
            RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"{", 
                 RowBox[{"dir", ",", " ", "\"\<BuildInfo.m\>\""}], "}"}]}], 
               ",", "\n", "\t", "\t", "\t", "\t\t\t\t", 
               RowBox[{"{", "\n", "\t", "\t", "\t", "\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"f_String", "?", "FileExistsQ"}], ":>", "\n", "\t", 
                 "\t", "\t", "\t\t\t\t\t\t", 
                 RowBox[{"Import", "[", "f", "]"}]}], "\n", "\t", 
                "\t\t\t\t\t\t\t", "}"}]}], "\n", "\t", "\t\t\t\t\t\t", 
              "]"}]}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"Normal", "@", "config"}]}], "\n", "\t\t\t\t\t", "}"}], 
         ",", "\n", "\t\t\t\t", "First"}], "\n", "\t\t\t\t", "]"}]}], ";", 
      "\n", "\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"!", 
         RowBox[{"DirectoryQ", "[", "outDir", "]"}]}], ",", "\n", "\t\t\t", 
        RowBox[{"CreateDirectory", "@", "outDir"}]}], "\n", "\t\t\t", "]"}], 
      ";", "\n", "\t\t", 
      RowBox[{"If", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"Lookup", "[", 
         RowBox[{
         "confOps", ",", " ", "\n", "\t\t\t\t", "\"\<CopyTheme\>\"", ",", " ",
           "\n", "\t\t\t\t", 
          RowBox[{"OptionValue", "[", "\"\<CopyTheme\>\"", "]"}]}], "\n", 
         "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
        RowBox[{"WebSiteCopyTheme", "[", "\n", "\t\t\t\t", 
         RowBox[{
         "dir", ",", "\n", "\t\t\t\t", "outDir", ",", "\n", "\t\t\t\t", 
          RowBox[{"Lookup", "[", 
           RowBox[{
           "config", ",", " ", "\"\<Theme\>\"", ",", " ", "\n", "\t\t\t\t\t", 
            
            RowBox[{"Lookup", "[", 
             RowBox[{"confOps", ",", " ", "\"\<Theme\>\"", ",", " ", 
              RowBox[{"OptionValue", "[", "\"\<DefaultTheme\>\"", "]"}]}], 
             "]"}]}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
          RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"buildOps", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                 RowBox[{"Monitor", "\[Rule]", 
                  RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
                "\t", "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
               "\t\t\t\t\t\t", "First"}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}],
             ",", "\n", "\t\t\t\t\t", 
            RowBox[{"Options", "[", "WebSiteCopyTheme", "]"}]}], "\n", 
           "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", 
       "]"}], ";", "\n", "\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"Lookup", "[", 
         RowBox[{
         "confOps", ",", " ", "\n", "\t\t\t\t", "\"\<CopyContent\>\"", ",", 
          " ", "\n", "\t\t\t\t", 
          RowBox[{"OptionValue", "[", "\"\<CopyContent\>\"", "]"}]}], "\n", 
         "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"p", ":", 
           RowBox[{"Except", "[", 
            RowBox[{"False", "|", "None"}], "]"}]}], ":>", "\n", "\t\t\t\t\t", 
          RowBox[{"WebSiteCopyContent", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
           "dir", ",", "\n", "\t\t\t\t\t\t", "outDir", ",", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"Replace", "[", 
             RowBox[{"p", ",", " ", 
              RowBox[{"True", "->", "Automatic"}]}], "]"}], ",", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"buildOps", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"Monitor", "\[Rule]", 
                    RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
                  "\t", "\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
                 "\t\t\t\t\t\t\t\t", "First"}], "\n", "\t", 
                "\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"Options", "[", "WebSiteCopyContent", "]"}]}], "\n", 
             "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", 
         "\t\t\t\t", "}"}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
      RowBox[{"iWebSiteBuild", "[", "\n", "\t\t\t", 
       RowBox[{"dir", ",", "\n", "\t\t\t", "outDir", ",", "\n", "\t\t\t", 
        RowBox[{"Lookup", "[", 
         RowBox[{
         "config", ",", "\n", "\t\t\t\t", "\"\<Theme\>\"", ",", "\n", 
          "\t\t\t\t", 
          RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
           "confOps", ",", "\n", "\t\t\t\t\t", "\"\<DefaultTheme\>\"", ",", 
            " ", "\n", "\t", "\t\t\t\t", 
            RowBox[{"OptionValue", "[", "\"\<DefaultTheme\>\"", "]"}]}], "\n",
            "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", 
        "\t\t\t", "fileNames", ",", "\n", "\t\t\t", "config", ",", "\n", 
        "\t\t\t", 
        RowBox[{"FilterRules", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Normal", "@", "\n", "\t\t\t\t\t", 
           RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
              "confOps", ",", "\n", "\t\t\t\t\t\t\t", "config", ",", "\n", 
               "\t\t\t\t\t\t\t", "buildOps"}], "\n", "\t\t\t\t\t\t\t", "}"}], 
             ",", "\n", "\t\t\t\t\t\t", "First"}], "\n", "\t\t\t\t\t\t", 
            "]"}]}], ",", " ", "\n", "\t\t\t\t", 
          RowBox[{"Options", "@", "iWebSiteBuild"}]}], "\n", "\t\t\t\t", 
         "]"}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"TrueQ", "[", 
          RowBox[{"OptionValue", "[", "\"\<AutoDeploy\>\"", "]"}], "]"}], "||",
          "\n", "\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"OptionValue", "[", "\"\<AutoDeploy\>\"", "]"}], "===", 
           "Automatic"}], "&&", "\n", "\t\t\t\t", 
          RowBox[{"OptionQ", "@", 
           RowBox[{"OptionValue", "[", "\"\<DeployOptions\>\"", "]"}]}]}]}], 
        ",", "\n", "\t\t\t", 
        RowBox[{"WebSiteDeploy", "[", "\n", "\t\t\t\t", 
         RowBox[{"outDir", ",", "\n", "\t\t\t\t", 
          RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Lookup", "[", 
             RowBox[{"config", ",", " ", "\"\<SiteURL\>\""}], "]"}], ",", 
            "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Except", "[", "_String", "]"}], ":>", "\n", 
             "\t\t\t\t\t\t", 
             RowBox[{"Replace", "[", 
              RowBox[{
               RowBox[{"FileBaseName", "[", "dir", "]"}], ",", "\n", "\t", 
               "\t\t\t\t\t\t", 
               RowBox[{"\"\<output\>\"", ":>", "\n", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{"FileBaseName", "@", 
                 RowBox[{"DirectoryName", "[", "dir", "]"}]}]}]}], "\n", 
              "\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t", "]"}], ",", 
          "\n", "\t\t\t\t", 
          RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Replace", "[", 
             RowBox[{
              RowBox[{"OptionValue", "[", "\"\<DeployOptions\>\"", "]"}], ",",
               "\n", "\t\t\t\t\t\t", 
              RowBox[{"Automatic", ":>", 
               RowBox[{"Lookup", "[", 
                RowBox[{"config", ",", "\"\<DeployOptions\>\"", ",", 
                 RowBox[{"{", "}"}]}], "]"}]}]}], "\n", "\t\t\t\t\t\t", "]"}],
             ",", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Except", "[", 
              RowBox[{"_", "?", "OptionQ"}], "]"}], "\[Rule]", 
             RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
         "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", "outDir"}], "\n", "\t\t\t", 
       "]"}]}]}], "\n", "\t\t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"9d4353a9-dbe4-477d-b228-d70bbae52773"]\

}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Deploy\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{3.7125834819945183`*^9, 
  3.712810362769059*^9},ExpressionUUID->"f25a9a34-f66a-4c32-82ff-\
5e90d838bf32"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteDeploy", "::", "depfail"}], "=", 
   "\"\<Failed to deploy `` to ``\>\""}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.721060958694581*^9, 
  3.7210609713153553`*^9}},ExpressionUUID->"4487f30e-1743-414b-94a6-\
0d7995dbe50c"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteDeploySelectFiles\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{
  3.720636070143309*^9, {3.720636183092206*^9, 
   3.720636185234379*^9}},ExpressionUUID->"f1992140-89e1-4e63-ad24-\
274de62d6c9d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteDeploySelectFiles", "[", "\n", "\t", 
   RowBox[{
   "dir_", ",", "\n", "\t", "last_", ",", "\n", "\t", "select_", ",", "\n", 
    "\t", "fileForms_", ",", "\n", "\t", "alwaysDeployForms_", ",", "\n", 
    "\t", "includes_"}], "\n", "\t", "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{"Select", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"FileExistsQ", "[", "#", "]"}], "&&", "\n", "\t\t", 
      RowBox[{"!", 
       RowBox[{"DirectoryQ", "[", "#", "]"}]}], "&&", "\n", "\t\t\t", 
      RowBox[{"(", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"StringMatchQ", "[", "\n", "\t\t\t\t\t", 
         RowBox[{"#", ",", "\n", "\t\t\t\t\t", "alwaysDeployForms"}], "\n", 
         "\t\t\t\t\t", "]"}], "||", "\n", "\t\t\t\t", 
        RowBox[{"StringMatchQ", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"FileNameTake", "[", "#", "]"}], ",", "\n", "\t\t\t\t\t", 
          "alwaysDeployForms"}], "\n", "\t\t\t\t\t", "]"}], "||", "\n", 
        "\t\t\t\t", 
        RowBox[{"!", 
         RowBox[{"DateObjectQ", "[", "last", "]"}]}], "||", "\n", "\t\t\t\t", 
        
        RowBox[{"Quiet", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileDate", "[", "#", "]"}], ">", "last"}], ",", 
          RowBox[{"Greater", "::", "nordol"}]}], "]"}]}], "\n", "\t\t\t\t", 
       ")"}], "&&", "\n", "\t\t\t", 
      RowBox[{"select", "[", "#", "]"}]}], "&"}], "\n", "\t\t\t", "]"}], "@", 
   "\n", "\t\t", 
   RowBox[{
    RowBox[{"SortBy", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"FileBaseName", "[", "#", "]"}], "===", "\"\<index\>\""}], 
      "&"}], "]"}], "@", "\n", "\t\t", 
    RowBox[{"Join", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Sequence", "@@", "\n", "\t\t\t", 
       RowBox[{"Map", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"FileNames", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
           "fileForms", ",", "\n", "\t\t\t\t\t", "#", ",", "\n", "\t\t\t\t\t",
             "\[Infinity]"}], "]"}], "&"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"Select", "[", 
          RowBox[{
           RowBox[{"Flatten", "@", 
            RowBox[{"{", 
             RowBox[{"dir", ",", " ", "includes"}], "}"}]}], ",", " ", 
           "DirectoryQ"}], "]"}]}], "\n", "\t\t\t\t", "]"}]}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"Select", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Flatten", "@", 
         RowBox[{"List", "@", "includes"}]}], ",", " ", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"Not", "@", 
           RowBox[{"DirectoryQ", "[", "#", "]"}]}], "&&", "\n", "\t\t\t\t\t", 
          
          RowBox[{"StringMatchQ", "[", 
           RowBox[{"#", ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"___", "~~", "fileForms"}]}], "\n", "\t\t\t\t\t\t", 
           "]"}]}], "&"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", 
     "]"}]}]}]}]], "CodeInput",
 CellChangeTimes->{{3.720636187965932*^9, 3.7206363170031443`*^9}, {
  3.7206366275312977`*^9, 
  3.720636632691968*^9}},ExpressionUUID->"1fd05cfd-ebb5-4887-89bf-\
ecc23d0139cb"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteDeployFile\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{
  3.720636070143309*^9},ExpressionUUID->"1591f99d-1e14-4abf-a5f4-\
da16dc8a4a0f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteDeployFile", "[", 
   RowBox[{
   "f_", ",", " ", "uri_", ",", " ", "outDir_", ",", " ", "trueDir_", ",", 
    " ", "stripDirs_", ",", " ", 
    RowBox[{"ops___", "?", "OptionQ"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{"(*", " ", 
      RowBox[{"Build", " ", "export", " ", "URI"}], " ", "*)"}], "\n", "\t\t", 
     RowBox[{"url", "=", "\n", "\t\t\t", 
      RowBox[{"URLBuild", "@", "\n", "\t\t\t\t", 
       RowBox[{"Flatten", "@", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{"uri", ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"FileBaseName", "[", "trueDir", "]"}]}]}], "\n", 
           "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"FileNameSplit", "@", "\n", "\t\t\t\t\t\t", 
           RowBox[{"FileNameDrop", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"f", ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"FileNameDepth", "@", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"SelectFirst", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"SortBy", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Minus", "@*", "FileNameDepth"}], "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", "]"}], "@", "\n", 
                 "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"Flatten", "@", 
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "outDir", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", "trueDir", 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t", "stripDirs"}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t", "}"}]}]}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"StringStartsQ", "[", 
                  RowBox[{"f", ",", " ", "#"}], "]"}], "&"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", "outDir"}], "\n", "\t\t\t\t\t\t\t\t\t", 
               "]"}]}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
         "\t\t\t\t\t", "}"}]}]}]}], "\n", "\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"StringQ", "@", "url"}], "&&", 
         RowBox[{"StringEndsQ", "[", 
          RowBox[{"url", ",", "\"\</index.html\>\""}], "]"}]}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"(*", " ", 
         RowBox[{
          RowBox[{"since", " ", "/", 
           RowBox[{"index", ".", "html"}]}], " ", 
          RowBox[{"isn", "'"}], "t", " ", "supported", " ", "in", " ", "the", 
          " ", "cloud"}], " ", "*)"}], "\n", "\t\t\t", 
        RowBox[{"CopyFile", "[", "\n", "\t\t\t\t\t", 
         RowBox[{"f", ",", "\n", "\t\t\t\t\t", 
          RowBox[{"CloudObject", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{"StringTrim", "[", 
              RowBox[{"url", ",", " ", "\"\</index.html\>\""}], "]"}], "<>", 
             "\"\</main.html\>\""}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Flatten", "@", 
               RowBox[{"{", 
                RowBox[{"ops", ",", 
                 RowBox[{"Options", "[", "WebSiteDeploy", "]"}]}], "}"}]}], 
              ",", "\n", "\t", "\t", "\t\t\t\t\t", 
              RowBox[{"Options", "[", "CloudObject", "]"}]}], "\n", "\t", 
             "\t", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n",
          "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ";"}], "*)"}], "\n", 
    "\t\t", 
    RowBox[{
     RowBox[{"Replace", "[", "\n", "\t\t\t", 
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"CloudObject", "[", 
          RowBox[{"c_", ",", " ", "___"}], "]"}], "\[RuleDelayed]", 
         RowBox[{"CloudObject", "[", "c", "]"}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{"e_", "\[RuleDelayed]", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Message", "[", 
            RowBox[{
             RowBox[{"WebSiteDeploy", "::", "depfail"}], ",", " ", "f", ",", 
             " ", "url"}], "]"}], ";", "e"}], ")"}]}]}], "\n", "\t\t\t\t", 
       "}"}], "\n", "\t\t\t", "]"}], "@", "\n", "\t\t\t", 
     RowBox[{"CopyFile", "[", "\n", "\t\t\t\t", 
      RowBox[{"f", ",", "\n", "\t\t\t\t", 
       RowBox[{"CloudObject", "[", "\n", "\t\t\t\t\t", 
        RowBox[{"url", ",", "\n", "\t\t\t\t\t", 
         RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Flatten", "@", 
            RowBox[{"{", 
             RowBox[{"ops", ",", 
              RowBox[{"Options", "[", "WebSiteDeploy", "]"}]}], "}"}]}], ",", 
           "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Options", "[", "CloudObject", "]"}]}], "\n", "\t", 
          "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
      "\t\t\t\t", "]"}]}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"3469410f-8afb-4aed-83d5-0d7fd3261cc8"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteDeploy\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.720636070143309*^9, 
  3.720636079373775*^9}},ExpressionUUID->"248e5562-8918-4782-bf0f-\
7710737b1215"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebFileFormats", "=", "\n", "\t", 
   RowBox[{
   "\"\<html\>\"", "|", "\"\<css\>\"", "|", "\"\<js\>\"", "|", "\n", "\t", 
    "\"\<png\>\"", "|", "\"\<jpg\>\"", "|", "\"\<gif\>\"", "|", "\n", "\t", 
    "\"\<woff\>\"", "|", "\"\<tff\>\"", "|", "\"\<eot\>\"", "|", 
    "\"\<svg\>\""}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.709921207501466*^9, 3.709921218117272*^9}, 
   3.709921298818039*^9, {3.709924245458589*^9, 
   3.7099242893255653`*^9}},ExpressionUUID->"f28bee9c-269d-41b5-a11c-\
af6be094a7e3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteDeploy", "]"}], "=", "\n", "\t", 
   RowBox[{"Join", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"FileNameForms", "\[Rule]", 
        RowBox[{"\"\<*.\>\"", "~~", "$WebFileFormats"}]}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<ExtraFileNameForms\>\"", "\[Rule]", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"Select", "\[Rule]", 
        RowBox[{"(", 
         RowBox[{"True", "&"}], ")"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"CloudConnect", "\[Rule]", "False"}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<LastDeployment\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<AlwaysDeployForms\>\"", "\[Rule]", "\"\<\>\""}], ",", 
       "\n", "\t\t\t", 
       RowBox[{"\"\<OutputDirectory\>\"", "\[Rule]", "Automatic"}], ",", "\n",
        "\t\t\t", 
       RowBox[{"\"\<IncludeFiles\>\"", "\[Rule]", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<StripDirectories\>\"", "\[Rule]", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"Permissions", "\[Rule]", "\"\<Public\>\""}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"Monitor", "\[Rule]", "True"}]}], "\n", "\t\t\t", "}"}], ",", 
     "\n", "\t\t", 
     RowBox[{"Options", "[", "CloudObject", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteDeploy", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"outDir_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
     RowBox[{"uri", ":", 
      RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}], ",", "\n", 
     "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Module", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"trueDir", "=", "\n", "\t\t\t\t", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", "\n", "\t\t\t\t\t", 
           RowBox[{"ext", "=", "\n", "\t\t\t\t\t\t", 
            RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"OptionValue", "[", "\"\<OutputDirectory\>\"", "]"}], 
              ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                "Automatic", ":>", "\n", "\t\t\t\t\t\t\t\t\t", 
                 "\"\<output\>\""}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{"_String", "?", "DirectoryQ"}], "|", 
                  RowBox[{"Except", "[", "_String", "]"}]}], "\[Rule]", 
                 "\"\<\>\""}]}], "\n", "\t\t\t\t\t\t\t\t", "}"}]}], "\n", 
             "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "}"}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"StringEndsQ", "[", 
              RowBox[{"outDir", ",", " ", "ext"}], "]"}], "&&", 
             RowBox[{
              RowBox[{"FileNameDepth", "[", "ext", "]"}], ">", "0"}]}], ",", 
            "\n", "\t\t\t\t\t\t", 
            RowBox[{"FileNameDrop", "[", 
             RowBox[{"outDir", ",", " ", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"-", 
               RowBox[{"FileNameDepth", "[", "ext", "]"}]}]}], "\n", 
             "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", "outDir"}], 
           "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}], ",", 
       "\n", "\t\t\t", "info", ",", "\n", "\t\t\t", "select", ",", "\n", "\t",
        "\t\t", "last"}], "\n", "\t", "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"info", "=", "\n", "\t\t\t", 
       RowBox[{"If", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"FileExistsQ", "[", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"trueDir", ",", "\"\<DeploymentInfo.m\>\""}], "}"}]}], 
          "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"Import", "[", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"trueDir", ",", "\"\<DeploymentInfo.m\>\""}], "}"}]}], 
          "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"{", "}"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"Export", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"trueDir", ",", "\"\<DeploymentInfo.m\>\""}], "}"}]}], ",", 
        "\n", "\t\t\t", 
        RowBox[{"KeyDrop", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Association", "@", "\n", "\t\t\t\t\t", 
           RowBox[{"Flatten", "@", 
            RowBox[{"{", "\n", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Normal", "@", "info"}], ",", "\n", "\t\t\t\t\t\t", 
              "ops", ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"\"\<LastDeployment\>\"", "\[Rule]", "Now"}]}], "\n", 
             "\t\t\t\t\t\t", "}"}]}]}], ",", "\n", "\t\t\t\t", 
          RowBox[{"{", 
           RowBox[{"FileNameForms", ",", "\"\<ExtraFileNameForms\>\""}], 
           "}"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ";", 
      "\n", "\t\t", 
      RowBox[{"select", "=", 
       RowBox[{"OptionValue", "[", "Select", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"last", "=", 
       RowBox[{"First", "@", 
        RowBox[{"Flatten", "@", 
         RowBox[{"List", "@", "\n", "\t\t\t", 
          RowBox[{"Replace", "[", 
           RowBox[{
            RowBox[{"OptionValue", "[", "\"\<LastDeployment\>\"", "]"}], ",", 
            "\n", "\t\t\t\t", 
            RowBox[{"Automatic", ":>", 
             RowBox[{"Lookup", "[", 
              RowBox[{"info", ",", "\"\<LastDeployment\>\"", ",", "None"}], 
              "]"}]}]}], "\n", "\t\t\t\t", "]"}]}]}]}]}], ";", "\n", "\t\t", 
      RowBox[{"webSiteDeploy", "[", 
       RowBox[{
       "uri", ",", " ", "outDir", ",", " ", "trueDir", ",", " ", "\n", 
        "\t\t\t", "last", ",", " ", "select", ",", "\n", "\t\t\t", 
        RowBox[{"Flatten", "@", 
         RowBox[{"{", 
          RowBox[{"ops", ",", " ", "\n", "\t\t\t\t", 
           RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Replace", "[", 
              RowBox[{
               RowBox[{"Quiet", "@", 
                RowBox[{"Import", "[", 
                 RowBox[{"trueDir", ",", " ", "\"\<SiteConfig.wl\>\""}], 
                 "]"}]}], ",", "\n", "\t", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Except", "[", 
                 RowBox[{"_", "?", "OptionQ"}], "]"}], "\[RuleDelayed]", 
                RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", 
             "\n", "\t\t\t\t\t", "\"\<DeployOptions\>\"", ",", "\n", 
             "\t\t\t\t\t", 
             RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
          "\t\t\t\t", "}"}]}]}], "\n", "\t\t\t", "]"}]}]}], "\n", "\t\t", 
    "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7096768253374767`*^9, 3.7096769853285646`*^9}, {
   3.709910084687004*^9, 3.7099101002841597`*^9}, {3.709919812202929*^9, 
   3.709919946522272*^9}, {3.70992013561862*^9, 3.709920277201643*^9}, {
   3.709920377197274*^9, 3.7099203859729767`*^9}, {3.709920430757677*^9, 
   3.7099204314581823`*^9}, {3.70992116305995*^9, 3.709921220548025*^9}, {
   3.709921303423925*^9, 3.709921304816616*^9}, {3.709921760065763*^9, 
   3.7099218165425673`*^9}, {3.7099219898888197`*^9, 3.709921992599841*^9}, 
   3.709922513889379*^9, {3.7099226029339848`*^9, 3.709922604173501*^9}, {
   3.709922769770211*^9, 3.709922793728154*^9}, {3.709923106835494*^9, 
   3.709923107653737*^9}, 3.709923238836608*^9, 3.709923283097124*^9, {
   3.7099234597620163`*^9, 3.709923583489513*^9}, {3.7099241615156384`*^9, 
   3.709924175799796*^9}, {3.709928224065805*^9, 3.709928303132875*^9}, {
   3.709928336960786*^9, 3.7099284057416897`*^9}, {3.70992844384593*^9, 
   3.709928444796887*^9}, {3.7099284871277647`*^9, 3.709928487878736*^9}, {
   3.709928560424489*^9, 3.709928570783708*^9}, {3.709928600811283*^9, 
   3.709928609993326*^9}, {3.709928805914542*^9, 3.709928829030574*^9}, {
   3.709929361422654*^9, 3.709929406939357*^9}, {3.709930360113099*^9, 
   3.709930379010271*^9}, {3.709930876368669*^9, 3.709930949547202*^9}, {
   3.70993109204379*^9, 3.70993112051901*^9}, {3.7099312516862383`*^9, 
   3.709931252145052*^9}, {3.70993163222493*^9, 3.709931633263921*^9}, 
   3.70993257480053*^9, {3.7128121402123833`*^9, 3.712812214704557*^9}, {
   3.712812248463005*^9, 3.7128122831167717`*^9}, {3.712812736470331*^9, 
   3.712812738029152*^9}, {3.7128127946485167`*^9, 3.712812836867564*^9}, {
   3.712812878041031*^9, 3.7128129043058023`*^9}, {3.712812936451023*^9, 
   3.71281295942948*^9}, 3.712813435375024*^9, {3.712871978351963*^9, 
   3.712871989360393*^9}, {3.7128724283396597`*^9, 3.712872429679058*^9}, {
   3.71297601423328*^9, 3.712976023908977*^9}, {3.71297605804564*^9, 
   3.712976105858274*^9}, {3.7129763172406893`*^9, 3.712976335283812*^9}, {
   3.7131127255862494`*^9, 3.713112728280479*^9}, {3.7131131895734386`*^9, 
   3.713113191190209*^9}, 3.713113420328187*^9, {3.720592303609316*^9, 
   3.7205924141458063`*^9}, {3.7205926231435213`*^9, 
   3.7205926520955477`*^9}, {3.720631571895461*^9, 3.720631578359424*^9}, {
   3.720631654948929*^9, 3.7206316551221323`*^9}, {3.7206317165225973`*^9, 
   3.720631823675434*^9}, {3.720631872907344*^9, 3.720631919307727*^9}, {
   3.720632757120366*^9, 3.72063275993337*^9}, {3.720634199131653*^9, 
   3.720634200285007*^9}, {3.72063438619283*^9, 3.720634396590716*^9}, {
   3.7206345354563923`*^9, 3.720634638884191*^9}, {3.7206347930229063`*^9, 
   3.720634843475432*^9}, {3.72063501398034*^9, 3.720635015302669*^9}, {
   3.7206350691580563`*^9, 3.720635071000473*^9}, {3.720635105202828*^9, 
   3.720635115526483*^9}, {3.720635246677635*^9, 3.720635259123292*^9}, 
   3.7206353670714417`*^9, {3.720635406335195*^9, 3.720635435816701*^9}, {
   3.720635494646401*^9, 3.720635621381497*^9}, {3.720635652060328*^9, 
   3.72063570151698*^9}, {3.7206357507522697`*^9, 3.720635759122293*^9}, {
   3.720635792836965*^9, 3.720635846224057*^9}, {3.72063590848403*^9, 
   3.7206359132704268`*^9}, 3.720635986138438*^9, {3.720636092057996*^9, 
   3.7206361087009373`*^9}, {3.720636139537739*^9, 3.72063616281953*^9}, {
   3.720636645533512*^9, 3.720636861876574*^9}, {3.720932683237091*^9, 
   3.720932695696561*^9}, {3.720932799694355*^9, 3.720932986376149*^9}, {
   3.7210621748338757`*^9, 3.7210621973519363`*^9}, {3.723087708486045*^9, 
   3.723087710963029*^9}, {3.7230877451078243`*^9, 3.723087754304035*^9}, {
   3.7230877914184017`*^9, 3.723087908644339*^9}, {3.723088030682786*^9, 
   3.723088046976089*^9}, {3.723088092821155*^9, 3.723088094903583*^9}, {
   3.723525539591341*^9, 3.7235255662288523`*^9}, 3.723525611455661*^9, {
   3.723525690597156*^9, 3.7235257420522757`*^9}, {3.7235258921959133`*^9, 
   3.723525893305635*^9}},ExpressionUUID->"967ab656-4fa9-41d0-93a8-\
c47292ee5832"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteDeploy", "[", "\n", "\t", 
   RowBox[{
   "uri_", ",", " ", "outDir_", ",", " ", "trueDir_", ",", " ", "\n", "\t", 
    "last_", ",", " ", "select_", ",", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "WebSiteDeploy", "]"}]}]}], "]"}], ":=", 
  " ", "\n", "\t", 
  RowBox[{"(", "\n", "\t\t", 
   RowBox[{
    RowBox[{"KeychainConnect", "[", 
     RowBox[{"OptionValue", "[", "CloudConnect", "]"}], "]"}], ";", "\n", 
    "\t\t", 
    RowBox[{"Block", "[", 
     RowBox[{
      RowBox[{"{", "file", "}"}], ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"TrueQ", "@", 
          RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"Function", "[", 
          RowBox[{"Null", ",", " ", "\n", "\t", "\t\t\t\t", 
           RowBox[{"Monitor", "[", 
            RowBox[{"#", ",", " ", "\n", "\t", "\t\t\t\t\t", 
             RowBox[{"Internal`LoadingPanel", "[", "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{"TemplateApply", "[", 
               RowBox[{"\"\<Deploying ``\>\"", ",", "file"}], "]"}], "\n", 
              "\t", "\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t", "]"}], 
           ",", " ", "\n", "\t\t\t\t\t", "HoldAllComplete"}], "\n", 
          "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", "Identity"}], "\n", 
        "\t\t\t\t", "]"}], "@", "\n", "\t\t\t\t", 
       RowBox[{"Map", "[", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"Function", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"file", "=", "#"}], ";", "\n", "\t\t\t\t\t\t", 
           RowBox[{"webSiteDeployFile", "[", 
            RowBox[{
            "#", ",", "\n", "\t\t\t\t\t\t\t", "uri", ",", " ", "outDir", ",", 
             " ", "trueDir", ",", " ", 
             RowBox[{"OptionValue", "[", "\"\<StripDirectories\>\"", "]"}], 
             ",", " ", "\n", "\t\t\t\t\t\t\t", "ops"}], "\n", 
            "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n",
          "\t\t\t\t\t", 
         RowBox[{"webSiteDeploySelectFiles", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
          "outDir", ",", "\n", "\t\t\t\t\t\t", "last", ",", "\n", 
           "\t\t\t\t\t\t", "select", ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Alternatives", "@@", 
              RowBox[{"List", "@", 
               RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"OptionValue", "[", "FileNameForms", "]"}], ",", 
                 "\n", "\t", "\t\t\t\t\t\t\t", 
                 RowBox[{
                 "OptionValue", "[", "\"\<ExtraFileNameForms\>\"", "]"}]}], 
                "\n", "\t", "\t\t\t\t\t\t\t", "}"}]}]}], ",", "\n", "\t", 
             "\t\t\t\t\t\t", 
             RowBox[{"All", "\[Rule]", "\"\<*\>\""}]}], "\n", "\t", "\t", 
            "\t", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "@", "\"\<AlwaysDeployForms\>\""}], ",", 
           "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "@", "\"\<IncludeFiles\>\""}]}], "\n", 
          "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", 
     "\t\t\t", "]"}]}], "\n", "\t\t", ")"}]}]], "CodeInput",
 CellChangeTimes->{{3.723087917100692*^9, 3.72308795809083*^9}, {
   3.723088025132*^9, 3.723088028415613*^9}, {3.7230880968367643`*^9, 
   3.7230881032000237`*^9}, 
   3.733697337051263*^9},ExpressionUUID->"737c592b-3f6d-4b32-8e1a-\
eebb939a6ef5"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"End", "[", "]"}], 
  ";"}]], "InputSection",ExpressionUUID->"0f84f31e-20fb-4451-b29e-\
2ef5407501e1"]
}, Open  ]],

Cell["", "SectionSeparator",ExpressionUUID->"4900c668-e5de-468b-908d-\
3bbe427549a1"]
},
WindowSize->{808, 756},
WindowMargins->{{166, Automatic}, {Automatic, 0}},
FrontEndVersion->"11.3 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 5, \
2018)",
StyleDefinitions->FrontEnd`FileName[{"BTools"}, "CodePackage.nb", 
  CharacterEncoding -> "UTF-8"]
]

