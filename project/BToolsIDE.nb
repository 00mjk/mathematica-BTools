Notebook[{

Cell[CellGroupData[{
Cell["BuildSite", "CodeSection",
 CellChangeTimes->{{3.712582040881816*^9, 
  3.712582046912613*^9}},ExpressionUUID->"75840a17-faa0-44a1-abb3-\
75b1359a6e79"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "usage"}], "=", "\"\<Builds a website\>\""}],
   ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteDeploy", "::", "usage"}], "=", 
   "\"\<Deploys a website\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteGitHubDeploy", "::", "usage"}], "=", 
   "\"\<Deploys a directory to GitHub Pages\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteCloudDeploy", "::", "usage"}], "=", 
   "\"\<Deploys a directory to the Wolfram Cloud\>\""}], 
  ";"}]}], "CodeInput",ExpressionUUID->"c12fbe4c-e7d8-4c7f-b816-1e52b97d249e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSites", "::", "usage"}], "=", "\"\<Lists websites\>\""}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteOptions", "::", "usage"}], "=", 
   "\"\<Gets configuration options for a website\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteSetOptions", "::", "usage"}], "=", 
   "\"\<Sets configuration options for a website\>\""}], 
  ";"}]}], "CodeInput",ExpressionUUID->"15667432-a238-4ab8-8162-fee665cc20bb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteInitialize", "::", "usage"}], "=", 
   "\"\<Makes a new website in a directory\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteNewContent", "::", "usage"}], "=", 
   "\"\<Makes a new post notebook\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteNewTableOfContents", "::", "usage"}], "=", 
   "\"\<Makes a new Table fof Contents\>\""}], 
  ";"}]}], "CodeInput",ExpressionUUID->"9cf73bb1-046b-4021-8755-47dd1f362bc0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteThemes", "::", "usage"}], "=", "\"\<\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteFindTheme", "::", "usage"}], "=", 
   "\"\<Finds the theme for a website\>\""}], 
  ";"}]}], "CodeInput",ExpressionUUID->"ab157d1b-7dbf-4480-b78f-8ad4a30ee0ac"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteContent", "::", "usage"}], "=", 
   "\"\<Finds content in a site\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSitePages", "::", "usage"}], "=", 
   "\"\<Finds pages in a site\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSitePosts", "::", "usage"}], "=", 
   "\"\<Finds posts in a site\>\""}], 
  ";"}]}], "CodeInput",ExpressionUUID->"2f3ee993-b41b-4082-8e79-19edeb1548ac"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$WebSiteDirectory", "::", "usage"}], "=", "\n", "\t", 
   "\"\<The base directory for websites\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$WebSitePath", "::", "usage"}], "=", "\n", "\t", 
   "\"\<The path for finding websites\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$WebSiteThemePath", "::", "usage"}], "=", "\n", "\t", 
   "\"\<The path for website themes\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$WebSiteBuildErrors", "::", "usage"}], "=", "\n", "\t", 
   "\"\<A stack of errors encountered in the build process\>\""}], 
  ";"}]}], "CodeInput",ExpressionUUID->"9b730102-f2fc-488a-871f-7be7a273728b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}], 
  ";"}]], "InputSection",ExpressionUUID->"a3a06cf4-9e9c-4bef-a0f5-\
468e4bde027f"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Config\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.71278761272464*^9, 
  3.7127876133329*^9}},ExpressionUUID->"d43741c3-0afe-45da-a6b0-39a0f0c43db4"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSiteDirectory\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"c1dd215d-c4d6-4044-b632-fd5ff87607cd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteDirectory", "=", "\n", "\t", 
   RowBox[{"FileNameJoin", "@", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
     "$UserBaseDirectory", ",", "\n", "\t\t", "\"\<ApplicationData\>\"", ",", 
      "\n", "\t\t", "\"\<WebSites\>\""}], "\n", "\t\t", "}"}]}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"7e95c07c-66de-4ebe-b7cb-bf721b11f49b"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSitePath\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"bfcfa4fb-4a99-4305-8b69-574a6c4e4147"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSitePath", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", "$WebSiteDirectory", "\n", "\t\t", "}"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"6d2052c4-9787-4b39-9bb9-d612eb90aa22"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSiteThemePath\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"b6d10ef8-3741-4e8d-8ff0-6ca3d5b4cb0f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Length", "@", 
      RowBox[{"OwnValues", "[", "$WebThemesURLBase", "]"}]}], "===", "0"}], 
    ",", "\n", "\t", 
    RowBox[{"$WebThemesURLBase", ":=", "\n", "\t\t", 
     RowBox[{
     "$WebThemesURLBase", "=", "\n", "\t\t\t", 
      "\"\<https://github.com/mresources/themes/releases/download/v1.0.1/\>\"\
"}]}]}], "\n", "\t\t\t", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
     "CloudObject", "[", 
      "\"\<user:b3m2a1.paclets/PacletServer/Resources/SiteBuilder/Themes\>\"",
       "]"}], "[", 
     RowBox[{"[", "1", "]"}], "]"}], "*)"}], "\n", "\t", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"$WebSiteTempThemeDir", "=", "\n", "\t", 
   RowBox[{"FileNameJoin", "@", 
    RowBox[{"{", 
     RowBox[{
     "$TemporaryDirectory", ",", " ", "\"\<SiteBuilder_tmp\>\"", ",", " ", 
      "\"\<Themes\>\""}], "}"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"$WebSiteThemePath", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"PackageFilePath", "[", 
      RowBox[{"\"\<Resources\>\"", ",", " ", "\"\<Themes\>\""}], "]"}], ",", 
     "\n", "\t\t", 
     RowBox[{"FileNameJoin", "@", 
      RowBox[{"{", 
       RowBox[{"$WebSiteDirectory", ",", " ", "\"\<Themes\>\""}], "}"}]}], 
     ",", "\n", "\t\t", "$WebSiteTempThemeDir"}], "\n", "\t\t", "}"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"ca10cf48-11eb-45bb-93e3-5f9f6d5e3a3c"]\

}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteTemplateLibDirectory\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"b206346f-c8dd-4644-9a69-129ee16699fa"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteTemplateLibDirectory", "=", "\n", "\t", 
   RowBox[{"PackageFilePath", "[", 
    RowBox[{
    "\"\<Resources\>\"", ",", "\"\<Themes\>\"", ",", "\"\<template_lib\>\""}],
     "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"9e465eff-d84c-4c0f-9537-5d0e72e3892f"]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Site Config\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7128335669161673`*^9, 
  3.712833571196659*^9}},ExpressionUUID->"65402806-ece2-438b-b097-\
beef85b3bf25"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSites\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"52f0191a-29fa-4ca3-8210-8a27478f21b9"],

Cell[BoxData[
 RowBox[{"WebSites", "//", "Clear"}]], "CodeInput",
 CellChangeTimes->{{3.723055464968233*^9, 
  3.723055465782651*^9}},ExpressionUUID->"611dd34d-cb61-4046-9b26-\
0980127318d9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSites", "[", 
    RowBox[{"site_:", "\"\<*\>\""}], "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"Select", "[", 
     RowBox[{
      RowBox[{"FileExistsQ", "@", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"#", ",", " ", "\"\<SiteConfig.wl\>\""}], "}"}]}]}], "&"}], 
     "]"}], "@", "\n", "\t\t", 
    RowBox[{"FileNames", "[", 
     RowBox[{"site", ",", " ", "$WebSitePath"}], "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteFind", "[", "siteName_", "]"}], ":=", "\n", "\t", 
   RowBox[{"SelectFirst", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"FileNames", "[", 
      RowBox[{"siteName", ",", " ", "$WebSitePath"}], "]"}], ",", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{"FileExistsQ", "@", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"#", ",", " ", "\"\<SiteConfig.wl\>\""}], "}"}]}]}], "&"}], 
     ",", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"StringQ", "@", "siteName"}], ",", "\n", "\t\t\t", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"$WebSiteDirectory", ",", " ", "siteName"}], "}"}]}], ",", 
       "\n", "\t\t\t", "$Failed"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
    "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.723003184220989*^9, 3.723003222172657*^9}, {
  3.723003282032915*^9, 3.723003375869944*^9}, {3.723055458979436*^9, 
  3.723055463136051*^9}},ExpressionUUID->"10cc4cde-b463-494a-9ef8-\
343c4cf9d536"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Initialize\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"55ac1b70-0439-4b7a-94b2-2286f054b469"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteTemplate", "=", "\n", "\t", 
   RowBox[{"PackageFilePath", "[", 
    RowBox[{
    "\"\<Resources\>\"", ",", " ", "\"\<Templates\>\"", ",", " ", 
     "\"\<SiteBuilder\>\"", ",", " ", "\"\<WebSite\>\""}], "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"3c28f9f6-c1fb-4ad9-89ca-ab81d31fe773"],

Cell[BoxData[
 RowBox[{"WebSiteInitialize", "//", 
  "Clear"}]], \
"CodeInput",ExpressionUUID->"2fb1a5b2-125a-497f-9e41-87433b21ddb7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteInitialize", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir_String", "?", 
      RowBox[{"(", "\n", "\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"FileNameDepth", "[", "#", "]"}], ">", "1"}], "&&", 
         RowBox[{"DirectoryQ", "@", 
          RowBox[{"DirectoryName", "[", "#", "]"}]}]}], "&"}], "\n", "\t\t", 
       ")"}]}], ",", "\n", "\t", 
     RowBox[{"template", ":", 
      RowBox[{
       RowBox[{"_String", "?", "DirectoryQ"}], "|", "Automatic"}], ":", 
      "Automatic"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"temp", "=", 
       RowBox[{"Replace", "[", 
        RowBox[{"template", ",", " ", 
         RowBox[{"Automatic", "\[RuleDelayed]", "$WebSiteTemplate"}]}], 
        "]"}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"CopyDirectory", "[", 
       RowBox[{"temp", ",", " ", "dir"}], "]"}], ";", "\n", "\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "@", 
          RowBox[{"Flatten", "@", 
           RowBox[{"{", "ops", "}"}]}]}], ">", "0"}], ",", "\n", "\t\t\t", 
        RowBox[{"Export", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", "\"\<SiteConfig.wl\>\""}], "}"}]}], ",", "\n",
           "\t", "\t\t\t", 
          RowBox[{"PrettyString", "@", "\n", "\t", "\t\t\t\t", 
           RowBox[{
            RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", 
            "\t", "\t", "\t\t\t\t", 
            RowBox[{"Flatten", "@", "\n", "\t", "\t", "\t\t\t\t\t", 
             RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t", 
              RowBox[{"ops", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
               RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"Get", "@", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{"temp", ",", " ", "\"\<SiteConfig.wl\>\""}], 
                    "}"}]}]}], ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"Except", "[", 
                   RowBox[{
                    RowBox[{"_", "?", "OptionQ"}], "|", 
                    RowBox[{"_", "?", "AssociationQ"}], "|", 
                    RowBox[{"_", "?", "AssociationQ"}]}], "]"}], 
                  "\[RuleDelayed]", 
                  RowBox[{"{", "}"}]}]}], "\n", "\t", "\t\t\t\t\t\t\t\t", 
                "]"}]}], "\n", "\t", "\t\t\t\t\t\t\t", "}"}]}]}]}], ",", "\n",
           "\t", "\t\t\t\t", "\"\<Text\>\""}], "\n", "\t\t\t\t\t", "]"}]}], 
       "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", "dir"}]}], "\n", "\t\t", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteInitialize", "[", "\n", "\t", 
   RowBox[{
    RowBox[{"dir_String", "?", 
     RowBox[{"(", "\n", "\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"FileNameDepth", "[", "#", "]"}], ">", "1"}], "&&", 
        RowBox[{"DirectoryQ", "@", 
         RowBox[{"DirectoryName", "[", "#", "]"}]}]}], "&"}], "\n", "\t\t", 
      ")"}]}], ",", "\n", "\t", 
    RowBox[{"template", ":", 
     RowBox[{
      RowBox[{"_String", "?", "DirectoryQ"}], "|", "Automatic"}], ":", 
     "Automatic"}], ",", "\n", "\t", 
    RowBox[{"a_", "?", "AssociationQ"}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"WebSiteInitialize", "[", 
   RowBox[{"dir", ",", " ", "template", ",", " ", 
    RowBox[{"Normal", "[", "a", "]"}]}], 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"45b35c77-c980-4c00-ade5-ef273b732331"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteInitialize", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"s_String", "?", 
      RowBox[{"(", "\n", "\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"FileNameDepth", "[", "#", "]"}], "\[Equal]", "1"}], "||", 
         "\n", "\t\t\t", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Not", "@", 
            RowBox[{"FileExistsQ", "[", "#", "]"}]}], "&&", 
           RowBox[{"StringFreeQ", "[", 
            RowBox[{"#", ",", "$PathnameSeparator"}], "]"}]}], ")"}]}], "&"}],
        ")"}]}], ",", "\n", "\t", 
     RowBox[{"template", ":", 
      RowBox[{
       RowBox[{"_String", "?", "DirectoryQ"}], "|", "Automatic"}], ":", 
      "Automatic"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"DirectoryQ", "@", "$WebSiteDirectory"}]}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"CreateDirectory", "[", 
        RowBox[{"$WebSiteDirectory", ",", 
         RowBox[{"CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
        "]"}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
     RowBox[{"WebSiteInitialize", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"$WebSiteDirectory", ",", " ", "s"}], "}"}]}], ",", " ", 
       "\n", "\t\t\t", "template", ",", "\n", "\t\t\t", "ops"}], "\n", 
      "\t\t\t", "]"}]}], "\n", "\t\t", ")"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteInitialize", "[", "\n", "\t", 
   RowBox[{
    RowBox[{"s_String", "?", 
     RowBox[{"(", "\n", "\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"FileNameDepth", "[", "#", "]"}], "\[Equal]", "1"}], "||", 
        "\n", "\t\t\t", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Not", "@", 
           RowBox[{"FileExistsQ", "[", "#", "]"}]}], "&&", 
          RowBox[{"StringFreeQ", "[", 
           RowBox[{"#", ",", "$PathnameSeparator"}], "]"}]}], ")"}]}], "&"}], 
      ")"}]}], ",", "\n", "\t", 
    RowBox[{"template", ":", 
     RowBox[{
      RowBox[{"_String", "?", "DirectoryQ"}], "|", "Automatic"}], ":", 
     "Automatic"}], ",", "\n", "\t", 
    RowBox[{"a_", "?", "AssociationQ"}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"WebSiteInitialize", "[", 
   RowBox[{"s", ",", " ", "template", ",", " ", 
    RowBox[{"Normal", "[", "a", "]"}]}], 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"8b405f9a-eee8-4614-84db-a2653f8378c2"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Options\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7128339916993227`*^9, 3.712833995778417*^9}, {
  3.712834093593678*^9, 
  3.712834094528667*^9}},ExpressionUUID->"45c826f3-4524-441d-a874-\
c3b78b6a8dd4"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteOptions", "[", 
    RowBox[{"dir_String", "?", 
     RowBox[{"(", 
      RowBox[{"DirectoryQ", "@*", "DirectoryName"}], ")"}]}], "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"Replace", "[", 
    RowBox[{
     RowBox[{"Quiet", "@", 
      RowBox[{"Get", "[", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"dir", ",", " ", "\"\<SiteConfig.wl\>\""}], "}"}]}], "]"}]}],
      ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Except", "[", 
       RowBox[{
        RowBox[{"_", "?", "OptionQ"}], "|", 
        RowBox[{"_", "?", "AssociationQ"}], "|", 
        RowBox[{"_", "?", "AssociationQ"}]}], "]"}], "->", "\n", "\t\t\t", 
      RowBox[{"{", "}"}]}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteOptions", "[", 
   RowBox[{
    RowBox[{"dir_String", "?", 
     RowBox[{"(", 
      RowBox[{"DirectoryQ", "@*", "DirectoryName"}], ")"}]}], ",", " ", 
    "vals_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"FilterRules", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"WebSiteOptions", "[", "dir", "]"}], ",", "\n", "\t\t", "vals"}], 
   "\n", "\t\t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"89fe9db0-387f-468a-863b-4b85814d4d50"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]SetOptions\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712834098451429*^9, 
  3.712834100376466*^9}},ExpressionUUID->"57c7534b-1336-4c9b-8e01-\
ca6d9df1d5b8"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteSetOptions", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir_String", "?", 
      RowBox[{"(", 
       RowBox[{"DirectoryQ", "@*", "DirectoryName"}], ")"}]}], ",", "\n", 
     "\t", 
     RowBox[{"ops", ":", 
      RowBox[{
       RowBox[{"_", "?", "OptionQ"}], "|", 
       RowBox[{"_", "?", "AssociationQ"}]}]}]}], "\n", "\t", "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"Export", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"FileNameJoin", "@", 
      RowBox[{"{", 
       RowBox[{"dir", ",", "\"\<SiteConfig.wl\>\""}], "}"}]}], ",", "\n", 
     "\t\t", 
     RowBox[{"PrettyString", "@", "\n", "\t\t\t", 
      RowBox[{"Merge", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"WebSiteOptions", "[", "dir", "]"}], ",", "\n", "\t", "\t", 
          "\t\t\t", "ops"}], "\n", "\t", "\t", "\t\t\t", "}"}], ",", "\n", 
        "\t\t\t\t", "Last"}], "\n", "\t\t\t\t", "]"}]}], ",", "\n", "\t\t", 
     "\"\<Text\>\""}], "\n", "\t\t", "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"29f9b6a5-4fa3-4487-9971-890ca723f321"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]NewContent\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712834307506276*^9, 3.712834310370082*^9}, 
   3.722971020842743*^9, 
   3.723006769079563*^9},ExpressionUUID->"5cfce04f-6a70-4bfa-bb05-\
d6492767eeae"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteNewContentAutoname", "[", 
   RowBox[{"dir_", ",", " ", "place_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{"ToUpperCase", "[", 
    RowBox[{"StringTake", "[", 
     RowBox[{"place", ",", " ", "1"}], "]"}], "]"}], "<>", "\n", "\t\t", 
   RowBox[{"StringDrop", "[", 
    RowBox[{
     RowBox[{"StringTrim", "[", 
      RowBox[{"place", ",", " ", "\"\<s\>\""}], "]"}], ",", " ", "1"}], "]"}],
    "<>", "\n", "\t\t", "\"\< #\>\"", "<>", "\n", "\t\t", 
   RowBox[{"ToString", "@", "\n", "\t\t", 
    RowBox[{"(", "\n", "\t\t\t", 
     RowBox[{"1", "+", 
      RowBox[{"Length", "@", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"DeleteDuplicatesBy", "[", "FileBaseName", "]"}], "@", "\n", 
        "\t", "\t\t\t\t", 
        RowBox[{"FileNames", "[", 
         RowBox[{
          RowBox[{
          "\"\<*.nb\>\"", "|", "\"\<*.md\>\"", "|", "\"\<*.html\>\"", "|", 
           "\"\<*.xml\>\""}], ",", "\n", "\t\t\t\t\t\t", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", " ", "\"\<content\>\"", ",", " ", "place"}], 
            "}"}]}]}], "]"}]}]}]}], "\n", "\t\t\t", 
     ")"}]}]}]}]], \
"CodeInput",ExpressionUUID->"041d1181-796a-44c2-8dbe-ac9a47b9502f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WebSiteNewContent", "[", "\n", "\t", 
     RowBox[{
      RowBox[{"dir_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
      "place_String", ",", "\n", "\t", 
      RowBox[{"name", ":", 
       RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}], ",", "\n", 
      "\t", 
      RowBox[{"content", ":", 
       RowBox[{"_List", "|", "_Cell", "|", "Automatic"}], ":", "Automatic"}], 
      ",", "\n", "\t", 
      RowBox[{"ops", ":", 
       RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], "/;", 
    RowBox[{"DirectoryQ", "@", 
     RowBox[{"FileNameJoin", "@", 
      RowBox[{"{", 
       RowBox[{"dir", ",", "\"\<content\>\"", ",", "place"}], "}"}]}]}]}], ":=",
    "\n", "\t", 
   RowBox[{"With", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{"autoname", "=", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"StringTrim", "[", 
           RowBox[{"#", ",", " ", 
            RowBox[{"\"\<.\>\"", "<>", 
             RowBox[{"FileExtension", "[", "#", "]"}]}]}], "]"}], "<>", 
          "\"\<.nb\>\""}], "&"}], "@", "\n", "\t", "\t\t\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{"name", ",", " ", 
          RowBox[{"Automatic", ":>", 
           RowBox[{"webSiteNewContentAutoname", "[", 
            RowBox[{"dir", ",", " ", "place"}], "]"}]}]}], "]"}]}]}], "\n", 
      "\t", "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"FileExistsQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{
           "dir", ",", "\"\<content\>\"", ",", "place", ",", "autoname"}], 
           "}"}]}]}]}], ",", "\n", "\t\t\t", 
       RowBox[{"SystemOpen", "@", "\n", "\t\t\t", 
        RowBox[{"Export", "[", 
         RowBox[{
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{
            "dir", ",", "\"\<content\>\"", ",", "place", ",", "autoname"}], 
            "}"}]}], ",", "\n", "\t\t\t\t", 
          RowBox[{"Notebook", "[", 
           RowBox[{
            RowBox[{"Flatten", "@", 
             RowBox[{"{", "\n", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"Cell", "[", "\n", "\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"BoxData", "@", 
                  RowBox[{"ToBoxes", "@", "\n", "\t\t\t\t\t\t\t", 
                   RowBox[{"Merge", "[", 
                    RowBox[{
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Switch", "[", 
                    RowBox[{
                    "place", ",", "\n", "\t\t\t\t\t\t\t\t\t", "\"\<posts\>\"",
                     ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"<|", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "\"\<Title\>\"", "\[Rule]", "\"\<< Post Title >\>\""}], 
                    ",", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Slug\>\"", "\[Rule]", "Automatic"}], ",", 
                    "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Date\>\"", "\[Rule]", "Now"}], ",", "\n", 
                    "\t", "\t", "\t", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Tags\>\"", "\[Rule]", 
                    RowBox[{"{", "}"}]}], ",", "\n", "\t", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Authors\>\"", "\[Rule]", 
                    RowBox[{"{", "}"}]}], ",", "\n", "\t", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Categories\>\"", "\[Rule]", 
                    RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    "|>"}], ",", "\n", "\t\t\t\t\t\t\t\t\t", "\"\<pages\>\"", 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"<|", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "\"\<Title\>\"", "\[Rule]", "\"\<< Page Title >\>\""}], 
                    ",", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Slug\>\"", "\[Rule]", "Automatic"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "|>"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t", "_", ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"<|", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"\"\<Title\>\"", "\[Rule]", "\"\<< Title >\>\""}],
                     ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Slug\>\"", "\[Rule]", "Automatic"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "|>"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", "ops", "}"}]}], "\n", "\t\t\t\t\t\t\t\t", 
                    "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", "Last"}], "\n", 
                    "\t\t\t\t\t\t\t\t", "]"}]}]}], ",", "\n", "\t\t\t\t\t\t", 
                 "\"\<Metadata\>\""}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n",
                "\t", "\t\t\t\t", 
               RowBox[{"Cell", "[", "\n", "\t\t\t\t\t\t", 
                RowBox[{
                "\"\<Check the style list for the entire set of supported \
styles\>\"", ",", "\n", "\t\t\t\t\t\t", "\"\<Text\>\""}], "\n", 
                "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
               RowBox[{"Cell", "[", "\n", "\t\t\t\t\t\t", 
                RowBox[{
                "\"\<Input style cells will be dropped\>\"", ",", "\n", 
                 "\t\t\t\t\t\t", "\"\<Text\>\""}], "\n", "\t\t\t\t\t\t", 
                "]"}], ",", "\n", "\t\t\t\t\t", 
               RowBox[{"Replace", "[", 
                RowBox[{"content", ",", "\n", "\t\t\t\t\t\t", 
                 RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{
                  "Automatic", "\[RuleDelayed]", "\n", "\t\t\t\t\t\t\t\t", 
                   RowBox[{"Switch", "[", 
                    RowBox[{
                    "place", ",", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t", 
                    "\"\<posts\>\"", ",", "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t", 
                    RowBox[{
                    "Cell", "[", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<This is a post, so article.html is the theme \
template for it.\>\"", ",", "\n", "\t", "\t", "\t", "\t", "\t", "\t", 
                    "\t\t\t\t\t", "\"\<Text\>\""}], "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t", "\"\<pages\>\"", ",", "\n", "\t", "\t", 
                    "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    "Cell", "[", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<This is a page, so page.html is the theme template \
for it.\>\"", ",", "\n", "\t", "\t", "\t", "\t", "\t", "\t", "\t\t\t\t\t", 
                    "\"\<Text\>\""}], "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t", "_", ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", "Nothing"}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t", 
                  "}"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", 
              "}"}]}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{"StyleDefinitions", "\[Rule]", "\n", "\t", "\t\t\t\t\t", 
             RowBox[{"FrontEnd`FileName", "[", 
              RowBox[{
               RowBox[{"Evaluate", "@", 
                RowBox[{"{", "$PackageName", "}"}]}], ",", "\n", "\t", 
               "\t\t\t\t\t\t", "\"\<MarkdownNotebook.nb\>\""}], "\n", "\t", 
              "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
         "\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", "$Failed"}], "\n", 
      "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteNewContent", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
     "place_String", ",", "\n", "\t", 
     RowBox[{"name", ":", 
      RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}], ",", "\n", 
     "\t", 
     RowBox[{"content", ":", 
      RowBox[{"_List", "|", "_Cell", "|", "Automatic"}], ":", "Automatic"}], 
     ",", "\n", "\t", 
     RowBox[{"a_", "?", "AssociationQ"}]}], "\n", "\t", "]"}], "/;", 
   RowBox[{"DirectoryQ", "@", 
    RowBox[{"FileNameJoin", "@", 
     RowBox[{"{", 
      RowBox[{"dir", ",", "\"\<content\>\"", ",", "place"}], "}"}]}]}]}], ":=",
   "\n", "\t", 
  RowBox[{"WebSiteNewContent", "[", "\n", "  \t", 
   RowBox[{
   "dir", ",", "\n", "  \t", "place", ",", "\n", "  \t", "name", ",", "\n", 
    "  \t", "content", ",", "\n", "  \t", 
    RowBox[{"Normal", "@", "a"}]}], "\n", "  \t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"b37fef44-a2c5-4304-86cd-eab932de1e52"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TableOfContents\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7235735226709948`*^9, 
  3.723573525014244*^9}},ExpressionUUID->"c22093ca-fec6-4fc4-a97b-\
d81fa8f0927e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteNewTableOfContents", "[", 
   RowBox[{"dir_String", "?", "DirectoryQ"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
     "outdir", ",", "\n", "\t\t\t", "metas", ",", "\n", "\t", "\t\t", "data", 
      ",", "\n", "\t\t\t", "cells", ",", "\n", "\t\t\t", 
      RowBox[{"postCounter", "=", "1"}]}], "\n", "\t\t\t", "}"}], ",", "\n", 
    "\t\t", 
    RowBox[{
     RowBox[{"outdir", "=", "\n", "\t\t\t", 
      RowBox[{"FileNameJoin", "@", 
       RowBox[{"{", 
        RowBox[{
        "dir", ",", " ", "\"\<content\>\"", ",", " ", "\"\<posts\>\""}], 
        "}"}]}]}], ";", "\n", "\t\t", 
     RowBox[{"metas", "=", "\n", "\t\t\t", 
      RowBox[{"SortBy", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"AssociationMap", "[", "\n", "\t", "\t", "\t", "\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"Association", "@", "\n", "\t", "\t", "\t", "\t\t", 
            RowBox[{"Map", "[", "\n", "\t", "\t", "\t", "\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"Rule", "@@", 
                RowBox[{"StringTrim", "@", 
                 RowBox[{"StringSplit", "[", 
                  RowBox[{"#", ",", " ", "\"\<:\>\"", ",", " ", "2"}], 
                  "]"}]}]}], "&"}], ",", "\n", "\t", "\t", "\t", "\t\t\t", 
              RowBox[{
              "StringSplit", "[", "\n", "\t", "\t", "\t", "\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"StringSplit", "[", 
                  RowBox[{
                   RowBox[{"Import", "[", 
                    RowBox[{"#", ",", "\"\<Text\>\""}], "]"}], ",", " ", 
                   "\"\<\\n\\n\>\"", ",", "2"}], "]"}], "[", 
                 RowBox[{"[", "1", "]"}], "]"}], ",", "\n", "\t", "\t", "\t", 
                "\t\t\t\t", "\"\<\\n\>\""}], "\n", "\t", "\t", "\t", 
               "\t\t\t\t", "]"}]}], "\n", "\t", "\t", "\t", "\t\t\t", "]"}]}],
            "&"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Select", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNames", "[", 
             RowBox[{"\"\<*.md\>\"", ",", "outdir", ",", "\[Infinity]"}], 
             "]"}], ",", "\n", "\t", "\t", "\t", "\t\t\t", 
            RowBox[{
             RowBox[{"!", 
              RowBox[{"StringMatchQ", "[", 
               RowBox[{
                RowBox[{"FileBaseName", "[", "#", "]"}], ",", " ", 
                "\"\<toc\>\""}], "]"}]}], "&"}]}], "\n", "\t", "\t", "\t", 
           "\t\t\t", "]"}]}], "\n", "\t", "\t", "\t", "\t\t", "]"}], ",", 
        "\n", "\t", "\t", "\t", "\t", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"KeyMemberQ", "[", 
            RowBox[{"#", ",", " ", "\"\<ID\>\""}], "]"}], ",", "\n", "\t", 
           "\t", "\t", "\t\t", 
           RowBox[{"ToExpression", "[", "\n", "\t", "\t", "\t", "\t\t\t", 
            RowBox[{"StringSplit", "[", 
             RowBox[{"#ID", ",", " ", "\"\<.\>\""}], "]"}], "\n", "\t", "\t", 
            "\t", "\t\t\t", "]"}], ",", "\n", "\t", "\t", "\t", "\t\t", 
           RowBox[{"{", 
            RowBox[{"1000", ",", "1000", ",", "1000"}], "}"}]}], "\n", "\t", 
          "\t", "\t", "\t\t", "]"}], "&"}]}], "\n", "\t", "\t\t\t", "]"}]}], 
     ";", "\n", "\t\t", 
     RowBox[{"data", "=", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"GroupBy", "[", 
        RowBox[{"First", "\[Rule]", "Last"}], "]"}], "/@", "\n", "\t", "\t", 
       "\t\t", 
       RowBox[{
        RowBox[{"GroupBy", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"[", 
             RowBox[{"1", ",", "1"}], "]"}], "]"}], "&"}], "\[Rule]", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"#", "[", 
              RowBox[{"[", 
               RowBox[{"1", ",", "2"}], "]"}], "]"}], "\[Rule]", 
             RowBox[{"#", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], "&"}], ")"}]}], "]"}], "@", 
        "\n", "\t\t\t\t\t", 
        RowBox[{"KeyValueMap", "[", "\n", "\t\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"KeyMemberQ", "[", 
               RowBox[{"#2", ",", " ", "\"\<Path\>\""}], "]"}], ",", " ", 
              "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"Take", "[", 
               RowBox[{
                RowBox[{"URLParse", "[", 
                 RowBox[{
                  RowBox[{"#2", "[", "\"\<Path\>\"", "]"}], ",", " ", 
                  "\"\<Path\>\""}], "]"}], ",", " ", 
                RowBox[{"UpTo", "[", "2", "]"}]}], "]"}], ",", "\n", 
              "\t\t\t\t\t\t\t\t", 
              RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}], "->", 
            "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"<|", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{
              "\"\<Path\>\"", "\[Rule]", "\n", "\t", "\t\t\t\t\t\t\t\t", 
               RowBox[{"URLBuild", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"Flatten", "@", 
                 RowBox[{
                 "{", "\n", "\t", "\t", "\t", "\t", "\t", "\t", "\t", 
                  "\t\t\t\t", 
                  RowBox[{
                  "\"\<..\>\"", ",", "\n", "\t", "\t", "\t", "\t", "\t", "\t",
                    "\t", "\t\t\t\t", 
                   RowBox[{"Most", "@", 
                    RowBox[{"FileNameSplit", "@", 
                    RowBox[{"StringTrim", "[", 
                    RowBox[{"#", ",", " ", "outdir"}], "]"}]}]}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"WebSiteBuildAttachExtension", "@", 
                    RowBox[{"#2", "[", "\"\<Slug\>\"", "]"}]}]}], "\n", 
                  "\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", 
                "\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
              "\t\t\t\t\t\t\t\t", 
              RowBox[{
              "\"\<Title\>\"", "\[Rule]", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"KeyMemberQ", "[", 
                  RowBox[{"#2", ",", " ", "\"\<Title\>\""}], "]"}], ",", " ", 
                 "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"#2", "[", "\"\<Title\>\"", "]"}], ",", "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"\"\<Post #\>\"", "<>", 
                  RowBox[{"ToString", "[", 
                   RowBox[{"postCounter", "++"}], "]"}]}]}], "\n", 
                "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t", 
             "|>"}]}], "&"}], ",", "\n", "\t\t\t\t\t\t", "metas"}], "\n", 
         "\t\t\t\t\t\t", "]"}]}]}]}], ";", "\n", "\t\t", 
     RowBox[{"cells", "=", "\n", "\t\t\t", 
      RowBox[{"KeyValueMap", "[", "\n", "\t", "\t", "\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"Cell", "[", "\n", "\t", "\t", "\t\t\t", 
          RowBox[{"CellGroupData", "[", 
           RowBox[{"Flatten", "@", 
            RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Cell", "[", 
               RowBox[{"#", ",", " ", "\"\<Section\>\""}], "]"}], ",", "\n", 
              "\t", "\t", "\t\t\t\t\t", 
              RowBox[{"KeyValueMap", "[", "\n", "\t", "\t", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"Cell", "[", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{
                  "CellGroupData", "[", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                   
                   RowBox[{"Flatten", "@", 
                    RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Cell", "[", 
                    RowBox[{"#", ",", "\"\<Subsection\>\""}], "]"}], ",", 
                    "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "Map", "[", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    "Cell", "[", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "TextData", "[", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"ButtonBox", "[", 
                    RowBox[{
                    "#Title", ",", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", " ", 
                    RowBox[{"BaseStyle", "\[Rule]", "\"\<Hyperlink\>\""}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "ButtonData", "\[Rule]", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "{", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FrontEnd`FileName", "[", 
                    RowBox[{"Evaluate", "@", 
                    RowBox[{"URLParse", "[", 
                    RowBox[{"#Path", ",", " ", "\"\<Path\>\""}], "]"}]}], 
                    "]"}], ",", " ", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", "None"}], "\n", "\t", 
                    "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}]}], "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}], "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", "\"\<Item\>\""}], 
                    "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", "]"}], "&"}], 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", "#2"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t", "]"}], "\n", "\t\t\t\t\t\t\t\t\t", 
                  "]"}], "&"}], ",", "\n", "\t", "\t", "\t\t\t\t\t\t", "#2"}],
                "\n", "\t", "\t", "\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t", 
             "\t\t\t\t\t", "}"}]}], "\n", "\t", "\t", "\t\t\t\t", "]"}], "\n",
           "\t", "\t", "\t\t\t", "]"}], "&"}], ",", "\n", "\t\t\t\t", 
        "data"}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t", 
     RowBox[{"WebSiteNewContent", "[", 
      RowBox[{
      "dir", ",", "\n", "\t\t", "\"\<pages\>\"", ",", "\n", "\t\t", 
       "\"\<toc\>\"", ",", "\n", "\t\t", "cells", ",", "\n", "\t\t", 
       RowBox[{"{", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"\"\<Title\>\"", "\[Rule]", "\"\<Table of Contents\>\""}], 
         ",", "\n", "\t\t\t", 
         RowBox[{"\"\<Slug\>\"", "\[Rule]", "\"\<toc\>\""}]}], "\n", "\t\t\t",
         "}"}]}], "\n", "\t\t", "]"}]}]}], "\n", "\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"9b876018-cdb9-4462-b974-2d50f4d651ea"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]FindTheme\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7125375649332743`*^9, 3.712537566964675*^9}, {
  3.723000499184258*^9, 3.723000500014727*^9}, {3.723055488689538*^9, 
  3.723055488830216*^9}},ExpressionUUID->"db305f1d-1d39-4f14-a905-\
eadd6cafc292"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteThemes", "[", "themePat_", "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{"Select", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"DirectoryQ", "@", 
      RowBox[{"FileNameJoin", "@", 
       RowBox[{"{", 
        RowBox[{"#", ",", " ", "\"\<templates\>\""}], "}"}]}]}], "&"}], "\n", 
    "\t\t", "]"}], "@", "\n", "\t\t", 
   RowBox[{"FileNames", "[", 
    RowBox[{"themePat", ",", " ", "$WebSiteThemePath"}], 
    "]"}]}]}]], "CodeInput",
 CellChangeTimes->{{3.7230034448934927`*^9, 
  3.723003517515032*^9}},ExpressionUUID->"dbfaa52a-1ec3-4f57-b43d-\
a316d6880d6f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"validThemeURL", "[", "s_", "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"parse", "=", 
       RowBox[{"URLParse", "[", "s", "]"}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{"MatchQ", "[", 
      RowBox[{
       RowBox[{"parse", "[", "\"\<Scheme\>\"", "]"}], ",", " ", 
       RowBox[{"\"\<http\>\"", "|", "\"\<https\>\""}]}], "]"}]}], "\n", 
    "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteInstallTheme", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"themeURL_String", "?", "validThemeURL"}], ",", " ", "\n", "\t", 
     
     RowBox[{"dir", ":", 
      RowBox[{
       RowBox[{"_String", "?", "DirectoryQ"}], "|", "Automatic"}], ":", 
      "Automatic"}]}], "\n", "\t", "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"d", "=", 
       RowBox[{"Replace", "[", 
        RowBox[{"dir", ",", " ", 
         RowBox[{"Automatic", "\[RuleDelayed]", "$WebSiteTempThemeDir"}]}], 
        "]"}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"arc", "=", 
         RowBox[{"ExtractArchive", "[", 
          RowBox[{
           RowBox[{"URLDownload", "[", "themeURL", "]"}], ",", " ", "d"}], 
          "]"}]}], "}"}], ",", "\n", "\t\t\t", 
       RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"MinimalBy", "[", 
          RowBox[{
           RowBox[{"DirectoryName", "/@", "arc"}], ",", " ", 
           "FileNameDepth"}], "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"t_", ",", " ", "___"}], "}"}], "\[RuleDelayed]", "t"}], 
           ",", "\n", "\t\t\t\t\t", 
           RowBox[{"_", "\[Rule]", "$Failed"}]}], "\n", "\t\t\t\t\t", "}"}]}],
         "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
    "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.728211352430552*^9, 3.728211580336132*^9}, {
   3.728211680742462*^9, 3.728211908324335*^9}, 
   3.728967545094336*^9},ExpressionUUID->"761747bb-8dfc-4456-be6e-\
87b15cecd0c2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteFindTheme", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "False"}], "\n", "\t\t", 
    "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteFindTheme", "[", 
    RowBox[{
     RowBox[{"dir_String", "?", "DirectoryQ"}], ",", " ", "theme_String", ",",
      "\n", "\t", 
     RowBox[{"o", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"SelectFirst", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Join", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", " ", "\"\<themes\>\"", ",", " ", "theme"}], 
           "}"}]}], ",", "\n", "\t\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", " ", "theme"}], "}"}]}], ",", "\n", "\t\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", " ", "\"\<theme\>\""}], "}"}]}], ",", "\n", 
         "\t\t\t\t", "theme"}], "\n", "\t\t\t\t", "}"}], ",", "\n", "\t\t\t", 
       
       RowBox[{"Map", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"#", ",", " ", "theme"}], "}"}]}], "&"}], ",", "\n", 
         "\t\t\t\t", "$WebSiteThemePath"}], "\n", "\t\t\t\t", "]"}]}], "\n", 
      "\t\t\t", "]"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"DirectoryQ", "[", "#", "]"}], "&&", 
       RowBox[{"DirectoryQ", "[", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"#", ",", " ", "\"\<templates\>\""}], "}"}]}], "]"}]}], 
      "&"}], ",", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"OptionValue", "[", "\"\<DownloadTheme\>\"", "]"}], "===", 
        "True"}], ",", "\n", "\t\t\t", 
       RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteInstallTheme", "[", "\n", "\t\t\t\t\t", 
          RowBox[{"URLBuild", "@", 
           RowBox[{"{", 
            RowBox[{"$WebThemesURLBase", ",", " ", 
             RowBox[{"theme", "<>", "\"\<.zip\>\""}]}], "}"}]}], "\n", 
          "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"s_String", ":>", "\n", "\t\t\t\t\t", 
          RowBox[{"WebSiteFindTheme", "[", 
           RowBox[{"dir", ",", " ", "theme", ",", " ", 
            RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "False"}]}], 
           "]"}]}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
       "$Failed"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteFindTheme", "[", 
   RowBox[{
    RowBox[{"dir_String", "?", "DirectoryQ"}], ",", " ", "theme_String", ",", 
    " ", 
    RowBox[{"a_", "?", "AssociationQ"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"WebSiteFindTheme", "[", 
   RowBox[{"dir", ",", " ", "theme", ",", " ", 
    RowBox[{"Normal", "@", "a"}]}], "]"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteFindTheme", "[", 
    RowBox[{
     RowBox[{"dir_String", "?", "DirectoryQ"}], ",", " ", 
     RowBox[{"op", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Module", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"ops", "=", 
        RowBox[{"WebSiteOptions", "[", "dir", "]"}]}], ",", "\n", "\t", 
       "\t\t", "theme"}], "\n", "\t", "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{"Replace", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"Lookup", "[", 
        RowBox[{"ops", ",", " ", "\"\<Theme\>\""}], "]"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"s_String", ":>", "\n", "\t\t\t\t\t", 
          RowBox[{"WebSiteFindTheme", "[", 
           RowBox[{"dir", ",", " ", "s", ",", " ", "op"}], "]"}]}], ",", "\n",
          "\t\t\t\t", 
         RowBox[{"_", "\[RuleDelayed]", "\n", "\t\t\t\t\t", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"DirectoryQ", "@", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", 
               RowBox[{"dir", ",", " ", "\"\<theme\>\""}], "}"}]}]}], ",", 
            "\n", "\t\t\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<theme\>\""}], "}"}]}], ",", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"Replace", "[", 
             RowBox[{
              RowBox[{"WebSiteFindTheme", "[", 
               RowBox[{"dir", ",", " ", "\"\<minimal\>\"", ",", " ", "op"}], 
               "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"$Failed", ":>", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"SelectFirst", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"FileNames", "[", 
                  RowBox[{"\"\<*\>\"", ",", " ", "$WebSiteThemePath"}], "]"}],
                  ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"DirectoryQ", "@", 
                   RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"#", ",", " ", "\"\<templates\>\""}], "}"}]}]}], 
                  "&"}]}], "\n", "\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
             "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n",
         "\t\t\t\t", "}"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteFindTheme", "[", 
   RowBox[{
    RowBox[{"dir_String", "?", "DirectoryQ"}], ",", " ", 
    RowBox[{"a_", "?", "AssociationQ"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"WebSiteFindTheme", "[", 
   RowBox[{"dir", ",", " ", 
    RowBox[{"Normal", "@", "a"}]}], 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"601b37a5-946c-4266-ac28-1db39f2a923c"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Content\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"65d095eb-4c91-44dd-9d17-7ef19c00d04a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteContent", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir_String", "?", "DirectoryQ"}], ",", " ", "\n", "\t", 
     RowBox[{"path", ":", 
      RowBox[{"{", "___String", "}"}], ":", 
      RowBox[{"{", "}"}]}], ",", " ", "\n", "\t", 
     RowBox[{"contentPat", ":", 
      RowBox[{"_", "?", "StringPattern`StringPatternQ"}]}]}], "\n", "\t", 
    "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "FileBaseName", "]"}], "@", "\n", 
    "\t\t", 
    RowBox[{
     RowBox[{"SortBy", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExtension", "[", "#", "]"}], "=!=", "\"\<nb\>\""}], 
       "&"}], "]"}], "@", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Select", "[", 
       RowBox[{"Not", "@*", "DirectoryQ"}], "]"}], "@", "\n", "\t\t\t\t", 
      RowBox[{"FileNames", "[", 
       RowBox[{"contentPat", ",", " ", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", " ", "\"\<content\>\"", ",", " ", "path"}], 
           "}"}]}]}]}], "]"}]}]}]}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"b2f6070e-4772-4b88-bea3-2f89cb7030e4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSitePages", "[", 
   RowBox[{
    RowBox[{"dir_String", "?", "DirectoryQ"}], ",", " ", 
    RowBox[{"contentPat", ":", 
     RowBox[{"_", "?", "StringPattern`StringPatternQ"}]}]}], "]"}], ":=", 
  "\n", "\t", 
  RowBox[{"WebSiteContent", "[", 
   RowBox[{"dir", ",", " ", 
    RowBox[{"{", "\"\<pages\>\"", "}"}], ",", " ", "contentPat"}], 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"850e250c-825e-47f4-95de-df3f21a1743b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSitePosts", "[", 
   RowBox[{
    RowBox[{"dir_String", "?", "DirectoryQ"}], ",", " ", 
    RowBox[{"contentPat", ":", 
     RowBox[{"_", "?", "StringPattern`StringPatternQ"}]}]}], "]"}], ":=", 
  "\n", "\t", 
  RowBox[{"WebSiteContent", "[", 
   RowBox[{"dir", ",", " ", 
    RowBox[{"{", "\"\<posts\>\"", "}"}], ",", " ", "contentPat"}], 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"fd861256-9c38-4e56-9d60-15753868df86"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteOpenTheme\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.723000190422576*^9, 3.723000191699443*^9}, {
  3.7230005042703114`*^9, 
  3.7230005053908033`*^9}},ExpressionUUID->"eecb3d29-b0a8-4ce6-9029-\
2b61ecaa1519"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteOpenTheme", "[", 
   RowBox[{"dir_", ",", " ", 
    RowBox[{"theme", ":", 
     RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}]}], "]"}], ":=",
   "\n", "\t", 
  RowBox[{"Replace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"theme", "===", "Automatic"}], ",", "\n", "\t\t\t", 
      RowBox[{"WebSiteFindTheme", "[", "dir", "]"}], ",", "\n", "\t\t\t", 
      RowBox[{"WebSiteFindTheme", "[", 
       RowBox[{"dir", ",", " ", "theme"}], "]"}]}], "\n", "\t\t\t", "]"}], 
    ",", "\n", "\t\t", 
    RowBox[{"d_String", "\[RuleDelayed]", 
     RowBox[{"SystemOpen", "[", "d", "]"}]}]}], "\n", "\t\t", 
   "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.723000461708989*^9, 3.723000465198411*^9}, {
  3.723000506917292*^9, 3.7230005141650887`*^9}, {3.723000986058577*^9, 
  3.7230010895632973`*^9}},ExpressionUUID->"4ffcc8c1-f39c-4f8e-a5b4-\
f9087e4a3c93"]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]ContentStack Manipulation\[RightFloor]", "CodeSubsection",
 
 Evaluatable->True,ExpressionUUID->"abbba299-3a9e-40f9-9a3a-0ad2f6b85afb"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteSetContentAttributes\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"e3b4e331-84e4-4d83-b3d2-79b7a1e1bbee"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteSetContentAttributes", "[", "\n", "\t", 
   RowBox[{"fname_", ",", "\n", "\t", "props_"}], "\n", "\t", "]"}], ":=", 
  "\n", "\t", 
  RowBox[{"(", "\n", "\t\t", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"!", 
       RowBox[{"AssociationQ", "@", 
        RowBox[{"$WebSiteBuildContentStack", "[", "fname", "]"}]}]}], ",", 
      "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"$WebSiteBuildContentStack", "[", "fname", "]"}], "=", 
       RowBox[{"<|", "|>"}]}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"!", 
       RowBox[{"AssociationQ", "@", 
        RowBox[{"$WebSiteBuildContentStack", "[", 
         RowBox[{"fname", ",", " ", "\"\<Attributes\>\""}], "]"}]}]}], ",", 
      "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"$WebSiteBuildContentStack", "[", 
        RowBox[{"fname", ",", " ", "\"\<Attributes\>\""}], "]"}], "=", 
       RowBox[{"<|", "|>"}]}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
    RowBox[{"AssociateTo", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"$WebSiteBuildContentStack", "[", 
       RowBox[{"fname", ",", " ", "\"\<Attributes\>\""}], "]"}], ",", "\n", 
      "\t\t\t", "props"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   ")"}]}]], \
"CodeInput",ExpressionUUID->"cc68b0f3-d821-4617-9db5-8e906dcbc1d8"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteCollectContentURLs\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"c86f6fe3-0346-42ed-9037-1bbd9d46d5fb"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"WebSiteCollectContentURLs", "[", "]"}], ":="}], "\n", "\t", 
  "*)"}]], \
"CodeInput",ExpressionUUID->"fdec07ab-3fc5-46f8-a022-80d16d03e39b"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Cache\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"43ecde3d-051e-4f2c-a746-ec12c59763cd"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Basic\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"9df06c85-1e5f-4893-aa68-cc434fc26358"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteCachePath", "[", "dir_", "]"}], ":=", "\n", "\t", 
   RowBox[{"FileNameJoin", "@", 
    RowBox[{"{", 
     RowBox[{"dir", ",", " ", "\"\<ContentCache.mx\>\""}], "}"}]}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"30b3d143-6c53-42e9-95d9-968548c42c4d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteFindCache", "[", "dir_", "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", 
   RowBox[{
    RowBox[{"WebSiteCachePath", "[", "dir", "]"}], ",", "\n", "\t\t", 
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"f", ":", 
        RowBox[{"Except", "[", 
         RowBox[{
          RowBox[{"\"\<\>\"", "|", 
           RowBox[{"_", "?", 
            RowBox[{"(", 
             RowBox[{"Not", "@*", "FileExistsQ"}], ")"}]}]}], ",", " ", 
          "_String"}], "]"}]}], ":>", "\n", "\t\t\t\t", "f"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"_", "\[Rule]", "None"}]}], "\n", "\t\t\t", "}"}]}], "\n", 
   "\t\t", "]"}]}]], \
"CodeInput",ExpressionUUID->"d80ecd70-0a2d-4ed8-ae90-f3a4d86e8c44"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteLoadCache", "[", "dir_", "]"}], ":=", "\n", "\t", 
   RowBox[{"Replace", "[", 
    RowBox[{
     RowBox[{"WebSiteFindCache", "[", "dir", "]"}], ",", "\n", "\t\t", 
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"None", "\[Rule]", 
        RowBox[{"<|", "|>"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"f_", ":>", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"Quiet", "@", 
           RowBox[{"Import", "[", "f", "]"}]}], ",", " ", 
          RowBox[{
           RowBox[{"Except", "[", 
            RowBox[{"_", "?", "AssociationQ"}], "]"}], "\[Rule]", 
           RowBox[{"<|", "|>"}]}]}], "]"}]}]}], "\n", "\t\t\t", "}"}]}], "\n",
     "\t\t", "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"c8616dd0-65af-41d2-9da8-90dd59eaca42"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Template\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"4e04ebdd-4ebd-4589-96cb-620c215bddb0"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteTemplateCachePath", "[", "dir_", "]"}], ":=", "\n", "\t", 
   RowBox[{"FileNameJoin", "@", 
    RowBox[{"{", 
     RowBox[{"dir", ",", " ", "\"\<TemplateCache.mx\>\""}], "}"}]}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"011e37cb-af4e-42a6-9489-8f149b2eb752"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteFindTemplateCache", "[", "dir_", "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", 
   RowBox[{
    RowBox[{"WebSiteTemplateCachePath", "[", "dir", "]"}], ",", "\n", "\t\t", 
    
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"f", ":", 
        RowBox[{"Except", "[", 
         RowBox[{
          RowBox[{"\"\<\>\"", "|", 
           RowBox[{"_", "?", 
            RowBox[{"(", 
             RowBox[{"Not", "@*", "FileExistsQ"}], ")"}]}]}], ",", " ", 
          "_String"}], "]"}]}], ":>", "\n", "\t\t\t\t", "f"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"_", "\[Rule]", "None"}]}], "\n", "\t\t\t", "}"}]}], "\n", 
   "\t\t", "]"}]}]], \
"CodeInput",ExpressionUUID->"c3970789-fb79-4e8b-8881-882725269456"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteLoadTemplateCache", "[", "dir_", "]"}], ":=", "\n", "\t", 
   RowBox[{"Replace", "[", 
    RowBox[{
     RowBox[{"WebSiteFindTemplateCache", "[", "dir", "]"}], ",", "\n", "\t\t", 
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"None", "\[Rule]", 
        RowBox[{"<|", "|>"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"f_", ":>", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"Quiet", "@", 
           RowBox[{"Import", "[", "f", "]"}]}], ",", " ", 
          RowBox[{
           RowBox[{"Except", "[", 
            RowBox[{"_", "?", "AssociationQ"}], "]"}], "\[Rule]", 
           RowBox[{"<|", "|>"}]}]}], "]"}]}]}], "\n", "\t\t\t", "}"}]}], "\n",
     "\t\t", "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"8b6b71e7-8f85-4359-80c4-e7dc7a062dbf"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSitePrepContentName\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"40adec5b-f314-4a57-bb13-f965323998c5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSitePrepContentName", "[", 
   RowBox[{"content_", ",", " ", "root_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"StringQ", "@", "content"}], ",", "\n", "\t\t", 
    RowBox[{"StringTrim", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"StringTrim", "[", "\n", "\t", "\t\t\t", 
       RowBox[{
        RowBox[{"StringTrim", "[", 
         RowBox[{"content", ",", " ", "root"}], "]"}], ",", " ", "\n", "\t", 
        "\t\t\t", "$UserDocumentsDirectory"}], "\n", "\t", "\t\t\t", "]"}], 
      ",", "\n", "\t\t\t", "$HomeDirectory"}], "\n", "\t\t\t", "]"}], ",", 
    "\n", "\t\t", "content"}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"be1947ac-5037-45d2-8b94-bd986483df85"]
}, Closed]]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Site Building\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712787607780467*^9, 3.712787609758031*^9}, {
  3.7128335635270357`*^9, 
  3.712833564412951*^9}},ExpressionUUID->"aa217b1c-1794-4df2-b985-\
da7f6386f00d"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]XMLTemplateApply\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"e49dbfbf-baa6-46d6-a6de-2ee5d3d963a3"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]xmlTemplateApplyInit\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"d30de81f-46af-41c3-a75d-a7015088c5ac"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"xmlTemplateApplyInit", "[", 
    RowBox[{"root_", ",", " ", "template_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"$WSBCachedBuildData", "[", "\"\<Context\>\"", "]"}], "=", 
      "$Context"}], ";", "\n", "\t\t", 
     RowBox[{
      RowBox[{"$WSBCachedBuildData", "[", "\"\<ContextPath\>\"", "]"}], "=", 
      "$ContextPath"}], ";", "\n", "\t\t", 
     RowBox[{
      RowBox[{"$WSBCachedBuildData", "[", "\"\<TemplatePath\>\"", "]"}], "=", 
      "$TemplatePath"}], ";", "\n", "\t\t", 
     RowBox[{
      RowBox[{"$WSBCachedBuildData", "[", "\"\<Path\>\"", "]"}], "=", 
      "$Path"}], ";", "\n", "\t\t", 
     RowBox[{"$TemplatePath", "=", "\n", "\t\t\t", 
      RowBox[{"Join", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Flatten", "@", 
         RowBox[{"List", "@", "\n", "\t\t\t\t\t", 
          RowBox[{"Replace", "[", 
           RowBox[{"root", ",", " ", 
            RowBox[{"Automatic", "\[RuleDelayed]", 
             RowBox[{"DirectoryName", "@", "template"}]}]}], "]"}]}]}], ",", 
        "\n", "\t\t\t\t", "$TemplatePath", ",", "\n", "\t\t\t\t", 
        RowBox[{
        "{", "\n", "\t\t\t\t\t", "$WebSiteTemplateLibDirectory", "\n", 
         "\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     
     RowBox[{"$Path", "=", "\n", "\t\t\t", 
      RowBox[{"Join", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Flatten", "@", 
         RowBox[{"List", "@", "\n", "\t\t\t\t\t", 
          RowBox[{"Replace", "[", 
           RowBox[{"root", ",", " ", 
            RowBox[{"Automatic", "\[RuleDelayed]", 
             RowBox[{"DirectoryName", "@", "template"}]}]}], "]"}]}]}], ",", 
        "\n", "\t\t\t\t", "$Path", ",", "\n", "\t\t\t\t", 
        RowBox[{
        "{", "\n", "\t\t\t\t\t", "$WebSiteTemplateLibDirectory", "\n", 
         "\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     
     RowBox[{"$Context", "=", "\"\<Templating`gen`\>\""}], ";", "\n", "\t\t", 
     
     RowBox[{"$ContextPath", "=", 
      RowBox[{"{", 
       RowBox[{
       "\"\<Templating`gen`\>\"", ",", " ", "\"\<Templating`lib`\>\"", ",", 
        " ", "\"\<System`\>\""}], "}"}]}], ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"TrueQ", "[", "$templateLibLoaded", "]"}]}], ",", "\n", 
       "\t\t\t", 
       RowBox[{
        RowBox[{"Templating`lib`$$", "=", 
         RowBox[{"<|", "|>"}]}], ";", "\n", "\t\t\t", 
        RowBox[{"Get", "[", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{
           "\"\<include\>\"", ",", " ", "\"\<lib\>\"", ",", " ", 
            "\"\<loadTemplateLib.m\>\""}], "}"}]}], "]"}], ";", "\n", 
        "\t\t\t", 
        RowBox[{"$templateLibLoaded", "=", "True"}]}]}], "\n", "\t\t\t", 
      "]"}]}], "\n", "\t\t", ")"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"f811992e-235b-4336-bc62-5af028dfb51e"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]xmlTemplateApplyRestore\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"7ba359f5-a0cb-4e5d-8065-6fbd69462a44"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xmlTemplateApplyRestore", "[", "]"}], ":=", "\n", "\t", 
  RowBox[{"(", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Quiet", "@", 
     RowBox[{"Remove", "[", "\"\<Templating`gen`*\>\"", "]"}]}], ";", "\n", 
    "\t\t", 
    RowBox[{"System`Private`RestoreContextPath", "[", "]"}], ";", "\n", 
    "\t\t", 
    RowBox[{"$Context", "=", 
     RowBox[{"$WSBCachedBuildData", "[", "\"\<Context\>\"", "]"}]}], ";", 
    "\n", "\t\t", 
    RowBox[{"$TemplatePath", "=", 
     RowBox[{"$WSBCachedBuildData", "[", "\"\<TemplatePath\>\"", "]"}]}], ";",
     "\n", "\t\t", 
    RowBox[{"$Path", "=", 
     RowBox[{"$WSBCachedBuildData", "[", "\"\<Path\>\"", "]"}]}], ";", "\n", 
    "\t\t", 
    RowBox[{"$ContextPath", "=", 
     RowBox[{"$WSBCachedBuildData", "[", "\"\<ContextPath\>\"", "]"}]}], ";", 
    "\n", "\t\t", 
    RowBox[{"$WSBCachedBuildData", "//", "Clear"}]}], "\n", "\t\t", 
   ")"}]}]], \
"CodeInput",ExpressionUUID->"593afe87-c80a-4d14-8c00-aa9011c007d4"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]xmlTemplatePostProcessWhitespace\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"cb42bf5a-5868-452e-95ce-2073f66052e7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xmlTemplatePostProcessWhitespace", "[", "s_", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"StringReplace", "[", 
   RowBox[{"s", ",", "\n", "\t\t", 
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"pre", ":", 
        RowBox[{"(", "\n", "\t\t\t\t", 
         RowBox[{"Shortest", "[", 
          RowBox[{"\"\<<pre\>\"", "~~", "___", "~~", "\"\<</pre>\>\""}], 
          "]"}], "\n", "\t\t\t\t", ")"}]}], "\[RuleDelayed]", "pre"}], ",", 
      "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"Repeated", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Whitespace", "?", 
             RowBox[{"(", 
              RowBox[{"StringFreeQ", "[", "\"\<\\n\>\"", "]"}], ")"}]}], "|", 
            "\"\<\>\""}], ")"}], "~~", "\"\<\\n\>\""}], ",", " ", "\n", "\t", 
         "\t", "\t\t", 
         RowBox[{"{", 
          RowBox[{"2", ",", " ", "\[Infinity]"}], "}"}]}], "\n", "\t", "\t", 
        "\t\t", "]"}], "\[Rule]", "\"\<\\n\>\""}]}], "\n", "\t\t\t", "}"}]}], 
   "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"7b36b5e0-2f33-4a43-a6f1-64ebd2fc7bf7"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]xmlTemplateLoad\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"7b549846-2d8f-4e03-92ba-3a424a22fb1d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xmlTemplateLoad", "[", "template_", "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"tdat", "=", 
      RowBox[{"$WebSiteTemplateCache", "[", "template", "]"}]}], "}"}], ",", 
    "\n", "\t\t", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"MissingQ", "[", "tdat", "]"}], "||", 
       RowBox[{"!", 
        RowBox[{"DateObjectQ", "@", "$WebSiteLastBuild"}]}], "||", "\n", 
       "\t\t\t", 
       RowBox[{
        RowBox[{"FileDate", "[", 
         RowBox[{"template", ",", " ", "\"\<Modification\>\""}], "]"}], "<=", 
        "$WebSiteLastBuild"}]}], ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"$WebSiteTemplateCache", "[", "template", "]"}], "=", "\n", 
       "\t\t\t\t", 
       RowBox[{"XMLTemplate", "[", 
        RowBox[{"File", "[", "template", "]"}], "]"}]}], ",", "\n", "\t\t\t", 
      "tdat"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"b6ff6639-06ee-4b67-8627-0251f3ba27c0"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteXMLTemplateApply\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"b7aeb3ea-0574-4512-bb7b-58d3cd3dd178"],

Cell[BoxData[
 RowBox[{"WebSiteXMLTemplateApply", "//", 
  "Clear"}]], \
"CodeInput",ExpressionUUID->"f72e3243-30fa-4178-9483-b6bfa1abb8cb"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteXMLTemplateApply", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"root", ":", 
      RowBox[{"_String", "|", 
       RowBox[{"{", "__String", "}"}], "|", "Automatic"}], ":", "Automatic"}],
      ",", "\n", "\t", 
     RowBox[{"template", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}]}], ",",
      "\n", "\t", 
     RowBox[{"args", ":", 
      RowBox[{
       RowBox[{"_", "?", "OptionQ"}], "|", 
       RowBox[{"_", "?", "AssociationQ"}]}], ":", 
      RowBox[{"{", "}"}]}]}], "\n", "\t", "]"}], ":=", "\n", "\t", 
   RowBox[{"Replace", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Internal`WithLocalSettings", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"xmlTemplateApplyInit", "[", 
        RowBox[{"root", ",", " ", "template"}], "]"}], ",", "\n", "\t\t\t", 
       RowBox[{"TemplateApply", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"xmlTemplateLoad", "[", "template", "]"}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"Templating`lib`$$", "=", 
          RowBox[{"Association", "@", "args"}]}]}], "\n", "\t\t\t\t", "]"}], 
       ",", "\n", "\t\t\t", 
       RowBox[{"xmlTemplateApplyRestore", "[", "]"}]}], "\n", "\t\t\t", "]"}],
      ",", "\n", "\t\t", 
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{"s_String", ":>", "\n", "\t\t\t\t", 
       RowBox[{"xmlTemplatePostProcessWhitespace", "[", "s", "]"}]}], "\n", 
      "\t\t\t", "}"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"f0652a6e-59b9-4306-abe7-a5e3f3af78c5"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Utils\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712670143457838*^9, 
  3.712670146008109*^9}},ExpressionUUID->"0e0c4d2c-2fdd-4b34-88f5-\
9b668c7263cd"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteBuildSlug\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"572f6819-bb41-4393-a21a-ca822816b3e3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildSlug", "[", "fname_", "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"fe", "=", 
      RowBox[{"FileExtension", "[", "fname", "]"}]}], "}"}], ",", "\n", 
    "\t\t", 
    RowBox[{
     RowBox[{"StringReplace", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"Nest", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"StringTrim", "[", 
           RowBox[{
            RowBox[{"StringTrim", "[", "#", "]"}], ",", " ", 
            RowBox[{"\"\<.\>\"", "<>", "fe"}]}], "]"}], "&"}], ",", " ", 
         "fname", ",", " ", "2"}], "]"}], ",", " ", "\n", "\t\t\t", 
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WhitespaceCharacter", "\[Rule]", "\"\<-\>\""}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"ent", ":", "\"\<&#\>\""}], "~~", "NumberString", "~~", 
           "\"\<;\>\""}], "\[RuleDelayed]", "ent"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"\"\<*\>\"", "\[Rule]", "\"\<-ast-\>\""}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"\"\<#\>\"", "\[Rule]", "\"\<-num-\>\""}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"\"\<.\>\"", "\[Rule]", "\"\<-dot-\>\""}]}], "\n", 
        "\t\t\t\t", "}"}]}], "\n", "\t\t\t", "]"}], "<>", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"StringLength", "@", "fe"}], ">", "0"}], ",", " ", 
       RowBox[{"\"\<.\>\"", "<>", "fe"}], ",", " ", "\"\<\>\""}], "]"}]}]}], 
   "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"779da887-0870-466a-88df-90ca81eb9cf8"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteBuildURL\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"63b4b9b0-6ca4-4179-be69-11faabe5526d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildURL", "[", "fname_", "]"}], ":=", "\n", "\t", 
  RowBox[{"URLBuild", "@", 
   RowBox[{"FileNameSplit", "@", "\n", "\t\t", 
    RowBox[{
    "WebSiteBuildSlug", "@", 
     "fname"}]}]}]}]], \
"CodeInput",ExpressionUUID->"4701f409-91ad-466c-b2d0-99d58f0ffe4a"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteBuildContentType\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"8b8613a4-103c-45b3-a4c8-261046a23308"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildContentType", "[", 
   RowBox[{"fname_", ",", "dir_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"StringStartsQ", "[", 
     RowBox[{"fname", ",", "dir"}], "]"}], ",", "\n", "\t\t", 
    RowBox[{"Replace", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"FileNameTake", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"FileNameTake", "[", 
              RowBox[{"#", ",", "1"}], "]"}], "\[Equal]", "\"\<content\>\""}],
             ",", "\n", "\t", "\t", "\t\t\t", 
            RowBox[{"FileNameDrop", "[", 
             RowBox[{"#", ",", "1"}], "]"}], ",", "\n", "\t", "\t", "\t\t\t", 
            "#"}], "\n", "\t", "\t", "\t\t\t", "]"}], "&"}], "@", "\n", "\t", 
         "\t\t\t\t", 
         RowBox[{"FileNameDrop", "[", 
          RowBox[{"fname", ",", 
           RowBox[{"FileNameDepth", "@", "dir"}]}], "]"}]}], ",", "\n", "\t", 
        "\t\t\t", "1"}], "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"\"\<posts\>\"", "\[Rule]", "\"\<post\>\""}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"\"\<pages\>\"", "\[Rule]", "\"\<page\>\""}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"_", "\[Rule]", "\"\<misc\>\""}]}], "\n", "\t\t\t\t", "}"}]}],
      "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", "\"\<misc\>\""}], "\n", 
   "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.712765294396653*^9, 
  3.712765367653697*^9}},ExpressionUUID->"5d595a9f-9087-4217-9665-\
953a57bd3006"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSiteContentDirectoryTemplateMap\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"66ff6809-8bd7-4f51-99b5-ff10792fe0ce"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteContentDirectoryTemplateMap", "=", "\n", "\t", 
   RowBox[{"<|", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<post\>\"", "\[Rule]", "\"\<article.html\>\""}], ",", "\n", 
     "\t\t", 
     RowBox[{"\"\<page\>\"", "\[Rule]", "\"\<page.html\>\""}], ",", "\n", 
     "\t\t", 
     RowBox[{"\"\<misc\>\"", "\[Rule]", "\"\<base.html\>\""}]}], "\n", "\t\t",
     "|>"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.7127651503568487`*^9, 3.712765186712968*^9}, {
  3.712765385165907*^9, 
  3.712765393548715*^9}},ExpressionUUID->"5ace4d90-101f-486a-b523-\
0fd69176b1c9"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteBuildGetTemplates\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"c0e37df9-fe91-4b72-b884-4fb467c56a2d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildGetTemplates", "[", 
   RowBox[{"content_", ",", "dir_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Fold", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"Lookup", "[", 
        RowBox[{"#", ",", "#2", ",", 
         RowBox[{"<|", "|>"}]}], "]"}], "&"}], ",", "\n", "\t\t\t", 
      RowBox[{"{", 
       RowBox[{
       "$WebSiteBuildContentStack", ",", "\"\<Attributes\>\"", ",", 
        "\"\<Templates\>\""}], "}"}]}], "\n", "\t\t\t", "]"}], ",", "\n", 
    "\t\t", 
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"s_String", ":>", "\n", "\t\t\t\t", 
       RowBox[{"StringTrim", "@", 
        RowBox[{"StringSplit", "[", 
         RowBox[{"s", ",", "\"\<,\>\""}], "]"}]}]}], ",", "\n", "\t", "\t\t", 
      
      RowBox[{
       RowBox[{"Except", "[", 
        RowBox[{"_String", "|", 
         RowBox[{"{", "__String", "}"}]}], "]"}], ":>", "\n", "\t", "\t\t\t", 
       
       RowBox[{"Lookup", "[", 
        RowBox[{
        "$WebSiteContentDirectoryTemplateMap", ",", "\n", "\t", "\t\t\t\t", 
         RowBox[{"WebSiteBuildContentType", "[", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"content", ",", "\n", "\t", "\t\t\t\t\t", "longDir"}], "\n",
           "\t", "\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t\t\t\t", 
         "\"\<base.html\>\""}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t",
      "}"}]}], "\n", "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.712765520609771*^9, 3.712765552606987*^9}, {
   3.712765609241109*^9, 3.712765682993848*^9}, 
   3.723038914385352*^9},ExpressionUUID->"f6b3ebcf-af6b-4c60-9252-\
8d664ecfcbbd"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteBuildFilePath\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"1092ba52-c689-4151-83ee-4ed683557d1f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildFilePath", "[", 
   RowBox[{"fname_", ",", " ", "dir_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"StringStartsQ", "[", 
     RowBox[{"fname", ",", " ", "dir"}], "]"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileNameTake", "[", 
            RowBox[{"#", ",", "1"}], "]"}], "\[Equal]", "\"\<posts\>\""}], 
          ",", "\n", "\t\t\t", 
          RowBox[{"FileNameDrop", "[", 
           RowBox[{"#", ",", " ", "1"}], "]"}], ",", "\n", "\t\t\t", "#"}], 
         "\n", "\t\t\t", "]"}], "&"}], "@", "\n", "\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"FileNameTake", "[", 
           RowBox[{"#", ",", " ", "1"}], "]"}], "\[Equal]", 
          "\"\<content\>\""}], ",", "\n", "\t", "\t\t\t", 
         RowBox[{"FileNameDrop", "[", 
          RowBox[{"#", ",", " ", "1"}], "]"}], ",", "\n", "\t\t\t\t", "#"}], 
        "\n", "\t", "\t\t\t", "]"}]}], "&"}], "@", "\n", "\t\t\t\t", 
     RowBox[{"FileNameDrop", "[", 
      RowBox[{"fname", ",", " ", 
       RowBox[{"FileNameDepth", "@", "dir"}]}], "]"}]}], ",", "\n", "\t\t", 
    RowBox[{"FileNameTake", "[", "fname", "]"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"0a8ce08e-d3ff-46c9-b3db-e5004fe3dd1c"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSiteBuildSafeExportXMLElements\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"2520ca78-b3fc-4986-9e33-52fc769052b6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteBuildSafeExportXMLElements", "=", "\n", "\t", 
   RowBox[{"Alternatives", "@@", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{"\"\<script\>\"", ",", "\n", "\t\t", "\"\<style\>\""}], "\n", 
     "\t\t", "}"}]}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"8495a542-183a-40cc-9f6b-e94d9334f195"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSiteBuildSafeExportXMLMap\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"219449e8-40c1-4703-b05a-9f2031290db6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteBuildSafeExportXMLMap", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{
     "\"\<\\\"\>\"", "\[Rule]", 
      "\"\<safeXMLExportProtectedCharacterQuot\>\""}], ",", "\n", "\t\t", 
     RowBox[{
     "\"\<<\>\"", "\[Rule]", "\"\<safeXMLExportProtectedCharacterLt\>\""}], 
     ",", "\n", "\t\t", 
     RowBox[{
     "\"\<>\>\"", "\[Rule]", "\"\<safeXMLExportProtectedCharacterGt\>\""}], 
     ",", "\n", "\t\t", 
     RowBox[{
     "\"\<&\>\"", "\[Rule]", "\"\<safeXMLExportProtectedCharacterAmp\>\""}], 
     ",", "\n", "\t\t", 
     RowBox[{
     "\"\<'\>\"", "\[Rule]", 
      "\"\<safeXMLExportProtectedCharacterApos\>\""}]}], "\n", "\t\t", 
    "}"}]}], ";"}]], \
"CodeInput",ExpressionUUID->"eb036f93-40f4-4ce4-992e-d5f6f4151dee"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteBuildSafeExportXML\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"172721f1-ceec-4dd5-8863-2a7d4b88060a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildSafeExportXML", "[", "xml_", "]"}], ":=", "\n", "\t", 
  RowBox[{"StringReplace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"ExportString", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"xml", "/.", "\n", "\t", "\t\t\t", 
       RowBox[{
        RowBox[{"el", ":", 
         RowBox[{"XMLElement", "[", 
          RowBox[{"$WebSiteBuildSafeExportXMLElements", ",", " ", "__"}], 
          "]"}]}], ":>", "\n", "\t", "\t\t\t", 
        RowBox[{"(", 
         RowBox[{"el", "/.", 
          RowBox[{"s_String", "\[RuleDelayed]", 
           RowBox[{"StringReplace", "[", 
            RowBox[{"s", ",", " ", "$WebSiteBuildSafeExportXMLMap"}], 
            "]"}]}]}], ")"}]}]}], ",", "\n", "\t", "\t\t", "\"\<XML\>\""}], 
     "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
    RowBox[{
    "Reverse", "/@", "\n", "\t\t\t", "$WebSiteBuildSafeExportXMLMap"}]}], 
   "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"5c4a4db5-d1f1-4fb8-b8b1-b1a6ff65d3ea"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteBuildAttachExtension\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"ab6c48b8-a8db-442c-9e2e-483098434291"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildAttachExtension", "[", "s_", "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"!", 
     RowBox[{"MemberQ", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\"\<html\>\"", ",", " ", "\"\<xml\>\""}], "}"}], ",", " ", 
       RowBox[{"ToLowerCase", "@", 
        RowBox[{"FileExtension", "@", "s"}]}]}], "]"}]}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"StringTrim", "[", 
      RowBox[{"s", ",", " ", 
       RowBox[{"\"\<.\>\"", "<>", 
        RowBox[{"FileExtension", "[", "s", "]"}]}]}], "]"}], "<>", 
     "\"\<.html\>\""}], ",", "\n", "\t\t", "s"}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"61583d75-5bd2-4475-ab20-69d6f9491005"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplateProcessFonts\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"f6713811-969e-4eab-892c-b69b4ec4ef0e"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]HTML Reps\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.723256236639769*^9, 3.7232562387976093`*^9}, {
  3.723258072701812*^9, 
  3.723258073212553*^9}},ExpressionUUID->"bf362f66-480e-40a9-aba5-\
0e4f9b2f5ab9"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$XMLFontPatchDumbSpecialCharListLong\[RightFloor]", \
"CodeSubsubsubsubsection",
 Evaluatable->True,ExpressionUUID->"21457495-031f-471f-8c35-0173707d09ff"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$XMLFontPatchDumbSpecialCharListLong", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
    "\"\<AliasDelimiter\>\"", ",", "\"\<AliasIndicator\>\"", ",", 
     "\"\<Alpha\>\"", ",", "\"\<AltKey\>\"", ",", "\"\<And\>\"", ",", 
     "\"\<AquariusSign\>\"", ",", "\n", "\t", "\t", "\"\<AriesSign\>\"", ",", 
     "\"\<AutoPlaceholder\>\"", ",", "\"\<Backslash\>\"", ",", 
     "\"\<BeamedEighthNote\>\"", ",", "\"\<BeamedSixteenthNote\>\"", ",", 
     "\"\<Beta\>\"", ",", "\n", "\t", "\t", "\"\<BlackBishop\>\"", ",", 
     "\"\<BlackKing\>\"", ",", "\"\<BlackKnight\>\"", ",", 
     "\"\<BlackPawn\>\"", ",", "\"\<BlackQueen\>\"", ",", "\"\<BlackRook\>\"",
      ",", "\n", "\t", "\t", "\"\<CancerSign\>\"", ",", "\"\<Cap\>\"", ",", 
     "\"\<CapitalDifferentialD\>\"", ",", "\"\<CapitalDigamma\>\"", ",", 
     "\"\<CapitalKoppa\>\"", ",", "\"\<CapitalSampi\>\"", ",", "\n", "\t", 
     "\t", "\"\<CapitalStigma\>\"", ",", "\"\<CapricornSign\>\"", ",", 
     "\"\<Cent\>\"", ",", "\"\<CenterDot\>\"", ",", "\"\<CenterEllipsis\>\"", 
     ",", "\"\<Checkmark\>\"", ",", "\n", "\t", "\t", "\"\<Chi\>\"", ",", 
     "\"\<CircleDot\>\"", ",", "\"\<CircleMinus\>\"", ",", 
     "\"\<CirclePlus\>\"", ",", "\"\<CircleTimes\>\"", ",", 
     "\"\<ClockwiseContourIntegral\>\"", ",", "\n", "\t", "\t", 
     "\"\<CommandKey\>\"", ",", "\"\<Conditioned\>\"", ",", 
     "\"\<Conjugate\>\"", ",", "\"\<ConjugateTranspose\>\"", ",", 
     "\"\<ConstantC\>\"", ",", "\"\<Continuation\>\"", ",", "\n", "\t", "\t", 
     "\"\<ContourIntegral\>\"", ",", "\"\<ControlKey\>\"", ",", 
     "\"\<CounterClockwiseContourIntegral\>\"", ",", "\"\<Cross\>\"", ",", 
     "\"\<Cup\>\"", ",", "\"\<CurlyCapitalUpsilon\>\"", ",", "\n", "\t", 
     "\t", "\"\<CurlyEpsilon\>\"", ",", "\"\<CurlyKappa\>\"", ",", 
     "\"\<CurlyPhi\>\"", ",", "\"\<CurlyPi\>\"", ",", "\"\<CurlyRho\>\"", 
     ",", "\"\<CurlyTheta\>\"", ",", "\n", "\t", "\t", "\"\<DeleteKey\>\"", 
     ",", "\"\<DifferenceDelta\>\"", ",", "\"\<DifferentialD\>\"", ",", 
     "\"\<Digamma\>\"", ",", "\"\<DirectedEdge\>\"", ",", 
     "\"\<DiscreteRatio\>\"", ",", "\n", "\t", "\t", "\"\<DiscreteShift\>\"", 
     ",", "\"\<DiscretionaryPageBreakAbove\>\"", ",", 
     "\"\<DiscretionaryPageBreakBelow\>\"", ",", "\"\<Distributed\>\"", ",", 
     "\"\<Divide\>\"", ",", "\"\<DotEqual\>\"", ",", "\n", "\t", "\t", 
     "\"\<DotlessJ\>\"", ",", "\"\<DottedSquare\>\"", ",", 
     "\"\<DoubleDagger\>\"", ",", "\"\<DoubledGamma\>\"", ",", 
     "\"\<DoubledPi\>\"", ",", "\"\<DoubleDownArrow\>\"", ",", "\n", "\t", 
     "\t", "\"\<DoubledPi\>\"", ",", "\"\<DoubleLeftArrow\>\"", ",", 
     "\"\<DoubleLeftRightArrow\>\"", ",", "\"\<DoubleLeftTee\>\"", ",", 
     "\"\<DoubleLongLeftArrow\>\"", ",", "\"\<DoubleLongLeftRightArrow\>\"", 
     ",", "\n", "\t", "\t", "\"\<DoubleLongRightArrow\>\"", ",", 
     "\"\<DoubleRightArrow\>\"", ",", "\"\<DoubleStruckA\>\"", ",", 
     "\"\<DoubleStruckB\>\"", ",", "\"\<DoubleStruckC\>\"", ",", 
     "\"\<DoubleStruckA\>\"", ",", "\n", "\t", "\t", "\"\<DoubleStruckB\>\"", 
     ",", "\"\<DoubleStruckC\>\"", ",", "\"\<DoubleStruckCapitalA\>\"", ",", 
     "\"\<DoubleStruckCapitalB\>\"", ",", "\"\<DoubleStruckCapitalC\>\"", 
     ",", "\"\<DoubleStruckCapitalD\>\"", ",", "\n", "\t", "\t", 
     "\"\<DoubleStruckCapitalE\>\"", ",", "\"\<DoubleStruckCapitalF\>\"", 
     ",", "\"\<DoubleStruckCapitalG\>\"", ",", "\"\<DoubleStruckCapitalH\>\"",
      ",", "\"\<DoubleStruckCapitalI\>\"", ",", 
     "\"\<DoubleStruckCapitalJ\>\"", ",", "\n", "\t", "\t", 
     "\"\<DoubleStruckCapitalK\>\"", ",", "\"\<DoubleStruckCapitalL\>\"", 
     ",", "\"\<DoubleStruckCapitalM\>\"", ",", "\"\<DoubleStruckCapitalN\>\"",
      ",", "\"\<DoubleStruckCapitalO\>\"", ",", 
     "\"\<DoubleStruckCapitalP\>\"", ",", "\n", "\t", "\t", 
     "\"\<DoubleStruckCapitalQ\>\"", ",", "\"\<DoubleStruckCapitalR\>\"", 
     ",", "\"\<DoubleStruckCapitalS\>\"", ",", "\"\<DoubleStruckCapitalT\>\"",
      ",", "\"\<DoubleStruckCapitalU\>\"", ",", 
     "\"\<DoubleStruckCapitalV\>\"", ",", "\n", "\t", "\t", 
     "\"\<DoubleStruckCapitalW\>\"", ",", "\"\<DoubleStruckCapitalX\>\"", 
     ",", "\"\<DoubleStruckCapitalY\>\"", ",", "\"\<DoubleStruckCapitalZ\>\"",
      ",", "\"\<DoubleStruckD\>\"", ",", "\"\<DoubleStruckE\>\"", ",", "\n", 
     "\t", "\t", "\"\<DoubleStruckEight\>\"", ",", "\"\<DoubleStruckF\>\"", 
     ",", "\"\<DoubleStruckFive\>\"", ",", "\"\<DoubleStruckFour\>\"", ",", 
     "\"\<DoubleStruckG\>\"", ",", "\"\<DoubleStruckH\>\"", ",", "\n", "\t", 
     "\t", "\"\<DoubleStruckI\>\"", ",", "\"\<DoubleStruckJ\>\"", ",", 
     "\"\<DoubleStruckK\>\"", ",", "\"\<DoubleStruckL\>\"", ",", 
     "\"\<DoubleStruckM\>\"", ",", "\"\<DoubleStruckN\>\"", ",", "\n", "\t", 
     "\t", "\"\<DoubleStruckNine\>\"", ",", "\"\<DoubleStruckO\>\"", ",", 
     "\"\<DoubleStruckOne\>\"", ",", "\"\<DoubleStruckP\>\"", ",", 
     "\"\<DoubleStruckQ\>\"", ",", "\"\<DoubleStruckR\>\"", ",", "\n", "\t", 
     "\t", "\"\<DoubleStruckS\>\"", ",", "\"\<DoubleStruckSeven\>\"", ",", 
     "\"\<DoubleStruckSix\>\"", ",", "\"\<DoubleStruckT\>\"", ",", 
     "\"\<DoubleStruckThree\>\"", ",", "\"\<DoubleStruckTwo\>\"", ",", "\n", 
     "\t", "\t", "\"\<DoubleStruckU\>\"", ",", "\"\<DoubleStruckV\>\"", ",", 
     "\"\<DoubleStruckW\>\"", ",", "\"\<DoubleStruckX\>\"", ",", 
     "\"\<DoubleStruckY\>\"", ",", "\"\<DoubleStruckZ\>\"", ",", "\n", "\t", 
     "\t", "\"\<DoubleStruckZero\>\"", ",", "\"\<DoubleUpArrow\>\"", ",", 
     "\"\<DoubleUpDownArrow\>\"", ",", "\"\<DownArrowBar\>\"", ",", 
     "\"\<DownArrow\>\"", ",", "\"\<DownBreve\>\"", ",", "\n", "\t", "\t", 
     "\"\<DownLeftRightVector\>\"", ",", "\"\<DownLeftTeeVector\>\"", ",", 
     "\"\<DownLeftVector\>\"", ",", "\"\<DownLeftVectorBar\>\"", ",", 
     "\"\<DownPointer\>\"", ",", "\"\<DownRightTeeVector\>\"", ",", "\n", 
     "\t", "\t", "\"\<DownRightVector\>\"", ",", "\"\<DownRightVectorBar\>\"",
      ",", "\"\<DownTeeArrow\>\"", ",", "\"\<Earth\>\"", ",", 
     "\"\<EighthNote\>\"", ",", "\"\<Element\>\"", ",", "\n", "\t", "\t", 
     "\"\<Ellipsis\>\"", ",", "\"\<EmptyRectangle\>\"", ",", 
     "\"\<EmptySet\>\"", ",", "\"\<EnterKey\>\"", ",", "\"\<EntityEnd\>\"", 
     ",", "\"\<EntityStart\>\"", ",", "\n", "\t", "\t", "\"\<Epsilon\>\"", 
     ",", "\"\<Equal\>\"", ",", "\"\<Equilibrium\>\"", ",", 
     "\"\<Equivalent\>\"", ",", "\"\<ErrorIndicator\>\"", ",", 
     "\"\<EscapeKey\>\"", ",", "\n", "\t", "\t", "\"\<Eta\>\"", ",", 
     "\"\<Euro\>\"", ",", "\"\<ExponentialE\>\"", ",", 
     "\"\<FilledSmallCircle\>\"", ",", "\"\<FinalSigma\>\"", ",", 
     "\"\<FirstPage\>\"", ",", "\n", "\t", "\t", "\"\<FormalA\>\"", ",", 
     "\"\<FormalAlpha\>\"", ",", "\"\<FormalB\>\"", ",", "\"\<FormalBeta\>\"",
      ",", "\"\<FormalC\>\"", ",", "\"\<FormalCapitalA\>\"", ",", "\n", "\t", 
     "\t", "\"\<FormalCapitalAlpha\>\"", ",", "\"\<FormalCapitalB\>\"", ",", 
     "\"\<FormalCapitalBeta\>\"", ",", "\"\<FormalCapitalC\>\"", ",", 
     "\"\<FormalCapitalChi\>\"", ",", "\"\<FormalCapitalD\>\"", ",", "\n", 
     "\t", "\t", "\"\<FormalCapitalDelta\>\"", ",", 
     "\"\<FormalCapitalDigamma\>\"", ",", "\"\<FormalCapitalE\>\"", ",", 
     "\"\<FormalCapitalEpsilon\>\"", ",", "\"\<FormalCapitalEta\>\"", ",", 
     "\"\<FormalCapitalF\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalCapitalG\>\"", ",", "\"\<FormalCapitalGamma\>\"", ",", 
     "\"\<FormalCapitalH\>\"", ",", "\"\<FormalCapitalI\>\"", ",", 
     "\"\<FormalCapitalIota\>\"", ",", "\"\<FormalCapitalJ\>\"", ",", "\n", 
     "\t", "\t", "\"\<FormalCapitalK\>\"", ",", "\"\<FormalCapitalKappa\>\"", 
     ",", "\"\<FormalCapitalKoppa\>\"", ",", "\"\<FormalCapitalL\>\"", ",", 
     "\"\<FormalCapitalLambda\>\"", ",", "\"\<FormalCapitalM\>\"", ",", "\n", 
     "\t", "\t", "\"\<FormalCapitalMu\>\"", ",", "\"\<FormalCapitalN\>\"", 
     ",", "\"\<FormalCapitalNu\>\"", ",", "\"\<FormalCapitalO\>\"", ",", 
     "\"\<FormalCapitalOmega\>\"", ",", "\"\<FormalCapitalOmicron\>\"", ",", 
     "\n", "\t", "\t", "\"\<FormalCapitalP\>\"", ",", 
     "\"\<FormalCapitalPhi\>\"", ",", "\"\<FormalCapitalPi\>\"", ",", 
     "\"\<FormalCapitalPsi\>\"", ",", "\"\<FormalCapitalQ\>\"", ",", 
     "\"\<FormalCapitalR\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalCapitalRho\>\"", ",", "\"\<FormalCapitalS\>\"", ",", 
     "\"\<FormalCapitalSampi\>\"", ",", "\"\<FormalCapitalSigma\>\"", ",", 
     "\"\<FormalCapitalStigma\>\"", ",", "\"\<FormalCapitalT\>\"", ",", "\n", 
     "\t", "\t", "\"\<FormalCapitalTau\>\"", ",", 
     "\"\<FormalCapitalTheta\>\"", ",", "\"\<FormalCapitalU\>\"", ",", 
     "\"\<FormalCapitalUpsilon\>\"", ",", "\"\<FormalCapitalV\>\"", ",", 
     "\"\<FormalCapitalW\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalCapitalX\>\"", ",", "\"\<FormalCapitalXi\>\"", ",", 
     "\"\<FormalCapitalY\>\"", ",", "\"\<FormalCapitalZ\>\"", ",", 
     "\"\<FormalCapitalZeta\>\"", ",", "\"\<FormalChi\>\"", ",", "\n", "\t", 
     "\t", "\"\<FormalCurlyCapitalUpsilon\>\"", ",", 
     "\"\<FormalCurlyEpsilon\>\"", ",", "\"\<FormalCurlyKappa\>\"", ",", 
     "\"\<FormalCurlyPhi\>\"", ",", "\"\<FormalCurlyPi\>\"", ",", 
     "\"\<FormalCurlyRho\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalCurlyTheta\>\"", ",", "\"\<FormalD\>\"", ",", 
     "\"\<FormalDelta\>\"", ",", "\"\<FormalDigamma\>\"", ",", 
     "\"\<FormalE\>\"", ",", "\"\<FormalEpsilon\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalEta\>\"", ",", "\"\<FormalF\>\"", ",", 
     "\"\<FormalFinalSigma\>\"", ",", "\"\<FormalG\>\"", ",", 
     "\"\<FormalGamma\>\"", ",", "\"\<FormalH\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalI\>\"", ",", "\"\<FormalIota\>\"", ",", "\"\<FormalJ\>\"", 
     ",", "\"\<FormalK\>\"", ",", "\"\<FormalKappa\>\"", ",", 
     "\"\<FormalKoppa\>\"", ",", "\n", "\t", "\t", "\"\<FormalL\>\"", ",", 
     "\"\<FormalLambda\>\"", ",", "\"\<FormalM\>\"", ",", "\"\<FormalMu\>\"", 
     ",", "\"\<FormalN\>\"", ",", "\"\<FormalNu\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalO\>\"", ",", "\"\<FormalOmega\>\"", ",", 
     "\"\<FormalOmicron\>\"", ",", "\"\<FormalP\>\"", ",", 
     "\"\<FormalPhi\>\"", ",", "\"\<FormalPi\>\"", ",", "\n", "\t", "\t", 
     "\"\<FormalPsi\>\"", ",", "\"\<FormalQ\>\"", ",", "\"\<FormalR\>\"", 
     ",", "\"\<FormalRho\>\"", ",", "\"\<FormalS\>\"", ",", 
     "\"\<FormalSampi\>\"", ",", "\n", "\t", "\t", "\"\<FormalSigma\>\"", 
     ",", "\"\<FormalStigma\>\"", ",", "\"\<FormalT\>\"", ",", 
     "\"\<FormalTau\>\"", ",", "\"\<FormalTheta\>\"", ",", "\"\<FormalU\>\"", 
     ",", "\n", "\t", "\t", "\"\<FormalUpsilon\>\"", ",", "\"\<FormalV\>\"", 
     ",", "\"\<FormalW\>\"", ",", "\"\<FormalX\>\"", ",", "\"\<FormalXi\>\"", 
     ",", "\"\<FormalY\>\"", ",", "\n", "\t", "\t", "\"\<FormalZ\>\"", ",", 
     "\"\<FormalZeta\>\"", ",", "\"\<FreakedSmiley\>\"", ",", 
     "\"\<Function\>\"", ",", "\"\<GeminiSign\>\"", ",", "\"\<GothicA\>\"", 
     ",", "\n", "\t", "\t", "\"\<GothicB\>\"", ",", "\"\<GothicC\>\"", ",", 
     "\"\<GothicCapitalA\>\"", ",", "\"\<GothicCapitalB\>\"", ",", 
     "\"\<GothicCapitalC\>\"", ",", "\"\<GothicCapitalD\>\"", ",", "\n", "\t",
      "\t", "\"\<GothicCapitalE\>\"", ",", "\"\<GothicCapitalF\>\"", ",", 
     "\"\<GothicCapitalG\>\"", ",", "\"\<GothicCapitalH\>\"", ",", 
     "\"\<GothicCapitalI\>\"", ",", "\"\<GothicCapitalJ\>\"", ",", "\n", "\t",
      "\t", "\"\<GothicCapitalK\>\"", ",", "\"\<GothicCapitalL\>\"", ",", 
     "\"\<GothicCapitalM\>\"", ",", "\"\<GothicCapitalN\>\"", ",", 
     "\"\<GothicCapitalO\>\"", ",", "\"\<GothicCapitalP\>\"", ",", "\n", "\t",
      "\t", "\"\<GothicCapitalQ\>\"", ",", "\"\<GothicCapitalR\>\"", ",", 
     "\"\<GothicCapitalS\>\"", ",", "\"\<GothicCapitalT\>\"", ",", 
     "\"\<GothicCapitalU\>\"", ",", "\"\<GothicCapitalV\>\"", ",", "\n", "\t",
      "\t", "\"\<GothicCapitalW\>\"", ",", "\"\<GothicCapitalX\>\"", ",", 
     "\"\<GothicCapitalY\>\"", ",", "\"\<GothicCapitalZ\>\"", ",", 
     "\"\<GothicD\>\"", ",", "\"\<GothicE\>\"", ",", "\n", "\t", "\t", 
     "\"\<GothicEight\>\"", ",", "\"\<GothicF\>\"", ",", "\"\<GothicFive\>\"",
      ",", "\"\<GothicFour\>\"", ",", "\"\<GothicG\>\"", ",", 
     "\"\<GothicH\>\"", ",", "\n", "\t", "\t", "\"\<GothicI\>\"", ",", 
     "\"\<GothicJ\>\"", ",", "\"\<GothicK\>\"", ",", "\"\<GothicL\>\"", ",", 
     "\"\<GothicM\>\"", ",", "\"\<GothicN\>\"", ",", "\n", "\t", "\t", 
     "\"\<GothicNine\>\"", ",", "\"\<GothicO\>\"", ",", "\"\<GothicOne\>\"", 
     ",", "\"\<GothicP\>\"", ",", "\"\<GothicQ\>\"", ",", "\"\<GothicR\>\"", 
     ",", "\n", "\t", "\t", "\"\<GothicS\>\"", ",", "\"\<GothicSeven\>\"", 
     ",", "\"\<GothicSix\>\"", ",", "\"\<GothicT\>\"", ",", 
     "\"\<GothicThree\>\"", ",", "\"\<GothicTwo\>\"", ",", "\n", "\t", "\t", 
     "\"\<GothicU\>\"", ",", "\"\<GothicV\>\"", ",", "\"\<GothicW\>\"", ",", 
     "\"\<GothicX\>\"", ",", "\"\<GothicY\>\"", ",", "\"\<GothicZ\>\"", ",", 
     "\n", "\t", "\t", "\"\<GothicZero\>\"", ",", "\"\<GrayCircle\>\"", ",", 
     "\"\<GraySquare\>\"", ",", "\"\<Hacek\>\"", ",", 
     "\"\<HermitianConjugate\>\"", ",", "\"\<ImaginaryI\>\"", ",", "\n", "\t",
      "\t", "\"\<ImaginaryJ\>\"", ",", "\"\<Implies\>\"", ",", 
     "\"\<IndentingNewLine\>\"", ",", "\"\<Iota\>\"", ",", "\"\<Kappa\>\"", 
     ",", "\"\<KernelIcon\>\"", ",", "\n", "\t", "\t", "\"\<Koppa\>\"", ",", 
     "\"\<Lambda\>\"", ",", "\"\<LastPage\>\"", ",", "\"\<LeftArrow\>\"", 
     ",", "\"\<LeftArrowRightArrow\>\"", ",", "\"\<LeftAssociation\>\"", ",", 
     "\n", "\t", "\t", "\"\<LeftBracketingBar\>\"", ",", 
     "\"\<LeftDoubleBracket\>\"", ",", "\"\<LeftDoubleBracketingBar\>\"", 
     ",", "\"\<LeftDownTeeVector\>\"", ",", "\"\<LeftDownVectorBar\>\"", ",", 
     "\"\<LeftModified\>\"", ",", "\n", "\t", "\t", "\"\<LeftRightArrow\>\"", 
     ",", "\"\<LeftRightVector\>\"", ",", "\"\<LeftSkeleton\>\"", ",", 
     "\"\<LeftTeeArrow\>\"", ",", "\"\<LeftTeeVector\>\"", ",", 
     "\"\<LeftTriangleBar\>\"", ",", "\n", "\t", "\t", 
     "\"\<LeftTriangleEqual\>\"", ",", "\"\<LeftUpDownVector\>\"", ",", 
     "\"\<LeftUpTeeVector\>\"", ",", "\"\<LeftUpVectorBar\>\"", ",", 
     "\"\<LeftVector\>\"", ",", "\"\<LeftVectorBar\>\"", ",", "\n", "\t", 
     "\t", "\"\<LeoSign\>\"", ",", "\"\<LightBulb\>\"", ",", "\"\<Limit\>\"", 
     ",", "\"\<LineSeparator\>\"", ",", "\"\<LibraSign\>\"", ",", 
     "\"\<LongDash\>\"", ",", "\n", "\t", "\t", "\"\<LongEqual\>\"", ",", 
     "\"\<LongLeftArrow\>\"", ",", "\"\<LongLeftRightArrow\>\"", ",", 
     "\"\<LongRightArrow\>\"", ",", "\"\<LowerLeftArrow\>\"", ",", 
     "\"\<LowerRightArrow\>\"", ",", "\n", "\t", "\t", "\"\<Mars\>\"", ",", 
     "\"\<MathematicaIcon\>\"", ",", "\"\<MaxLimit\>\"", ",", 
     "\"\<MinLimit\>\"", ",", "\"\<Mu\>\"", ",", "\"\<Natural\>\"", ",", "\n",
      "\t", "\t", "\"\<Neptune\>\"", ",", "\"\<NestedGreaterGreater\>\"", 
     ",", "\"\<NestedLessLess\>\"", ",", "\"\<NeutralSmiley\>\"", ",", 
     "\"\<NotElement\>\"", ",", "\n", "\t", "\t", "\"\<NotEqual\>\"", ",", 
     "\"\<NotEqualTilde\>\"", ",", "\"\<NotGreaterGreater\>\"", ",", 
     "\"\<NotGreaterSlantEqual\>\"", ",", "\"\<NotHumpDownHump\>\"", ",", 
     "\"\<NotHumpEqual\>\"", ",", "\n", "\t", "\t", 
     "\"\<NotLeftTriangleBar\>\"", ",", "\"\<NotLessEqual\>\"", ",", 
     "\"\<NotLessLess\>\"", ",", "\"\<NotLessSlantEqual\>\"", ",", 
     "\"\<NotNestedGreaterGreater\>\"", ",", "\"\<NotNestedLessLess\>\"", ",",
      "\n", "\t", "\t", "\"\<NotPrecedesEqual\>\"", ",", 
     "\"\<NotPrecedesTilde\>\"", ",", "\"\<NotRightTriangleBar\>\"", ",", 
     "\"\<NotSquareSubset\>\"", ",", "\"\<NotSquareSuperset\>\"", ",", 
     "\"\<NotSucceedsEqual\>\"", ",", "\n", "\t", "\t", 
     "\"\<NotSucceedsTilde\>\"", ",", "\"\<NotVerticalBar\>\"", ",", 
     "\"\<NumberSign\>\"", ",", "\"\<Omega\>\"", ",", "\"\<Omicron\>\"", ",", 
     "\"\<OptionKey\>\"", ",", "\n", "\t", "\t", "\"\<OverBracket\>\"", ",", 
     "\"\<ParagraphSeparator\>\"", ",", "\"\<PermutationProduct\>\"", ",", 
     "\"\<Phi\>\"", ",", "\"\<Pi\>\"", ",", "\"\<Piecewise\>\"", ",", "\n", 
     "\t", "\t", "\"\<PiscesSign\>\"", ",", "\"\<Placeholder\>\"", ",", 
     "\"\<Proportional\>\"", ",", "\"\<Psi\>\"", ",", "\n", "\t\t", 
     "\"\<ReturnKey\>\"", ",", "\"\<ReverseElement\>\"", ",", 
     "\"\<ReverseEquilibrium\>\"", ",", "\"\<ReverseUpEquilibrium\>\"", ",", 
     "\"\<Rho\>\"", ",", "\"\<RightAngle\>\"", ",", "\n", "\t", "\t", 
     "\"\<RightArrow\>\"", ",", "\"\<RightArrowBar\>\"", ",", 
     "\"\<RightArrowLeftArrow\>\"", ",", "\"\<RightAssociation\>\"", ",", 
     "\"\<RightBracketingBar\>\"", ",", "\"\<RightCeiling\>\"", ",", "\n", 
     "\t", "\t", "\"\<RightDoubleBracket\>\"", ",", 
     "\"\<RightDoubleBracketingBar\>\"", ",", "\"\<RightDownTeeVector\>\"", 
     ",", "\"\<RightDownVector\>\"", ",", "\"\<RightDownVectorBar\>\"", ",", 
     "\"\<RightModified\>\"", ",", "\n", "\t", "\t", "\"\<RightSkeleton\>\"", 
     ",", "\"\<RightTeeArrow\>\"", ",", "\"\<RightTeeVector\>\"", ",", 
     "\"\<RightTriangleBar\>\"", ",", "\"\<RightUpDownVector\>\"", ",", 
     "\"\<RightUpTeeVector\>\"", ",", "\n", "\t", "\t", 
     "\"\<RightUpVector\>\"", ",", "\"\<RightUpVectorBar\>\"", ",", 
     "\"\<RightVector\>\"", ",", "\"\<RightVectorBar\>\"", ",", 
     "\"\<RoundImplies\>\"", ",", "\"\<RoundSpaceIndicator\>\"", ",", "\n", 
     "\t", "\t", "\"\<Rule\>\"", ",", "\"\<RuleDelayed\>\"", ",", 
     "\"\<SagittariusSign\>\"", ",", "\"\<Sampi\>\"", ",", 
     "\"\<ScorpioSign\>\"", ",", "\"\<ScriptA\>\"", ",", "\n", "\t", "\t", 
     "\"\<ScriptB\>\"", ",", "\"\<ScriptC\>\"", ",", "\"\<ScriptCapitalA\>\"",
      ",", "\"\<ScriptCapitalB\>\"", ",", "\"\<ScriptCapitalC\>\"", ",", 
     "\"\<ScriptCapitalD\>\"", ",", "\n", "\t", "\t", 
     "\"\<ScriptCapitalE\>\"", ",", "\"\<ScriptCapitalF\>\"", ",", 
     "\"\<ScriptCapitalG\>\"", ",", "\"\<ScriptCapitalH\>\"", ",", 
     "\"\<ScriptCapitalI\>\"", ",", "\"\<ScriptCapitalJ\>\"", ",", "\n", "\t",
      "\t", "\"\<ScriptCapitalK\>\"", ",", "\"\<ScriptCapitalL\>\"", ",", 
     "\"\<ScriptCapitalM\>\"", ",", "\"\<ScriptCapitalN\>\"", ",", 
     "\"\<ScriptCapitalO\>\"", ",", "\"\<ScriptCapitalP\>\"", ",", "\n", "\t",
      "\t", "\"\<ScriptCapitalQ\>\"", ",", "\"\<ScriptCapitalR\>\"", ",", 
     "\"\<ScriptCapitalS\>\"", ",", "\"\<ScriptCapitalT\>\"", ",", 
     "\"\<ScriptCapitalU\>\"", ",", "\"\<ScriptCapitalV\>\"", ",", "\n", "\t",
      "\t", "\"\<ScriptCapitalW\>\"", ",", "\"\<ScriptCapitalX\>\"", ",", 
     "\"\<ScriptCapitalY\>\"", ",", "\"\<ScriptCapitalZ\>\"", ",", 
     "\"\<ScriptD\>\"", ",", "\"\<ScriptDotlessI\>\"", ",", "\n", "\t", "\t", 
     "\"\<ScriptDotlessJ\>\"", ",", "\"\<ScriptE\>\"", ",", 
     "\"\<ScriptEight\>\"", ",", "\"\<ScriptF\>\"", ",", "\"\<ScriptFive\>\"",
      ",", "\"\<ScriptFour\>\"", ",", "\n", "\t", "\t", "\"\<ScriptG\>\"", 
     ",", "\"\<ScriptH\>\"", ",", "\"\<ScriptI\>\"", ",", "\"\<ScriptJ\>\"", 
     ",", "\"\<ScriptK\>\"", ",", "\"\<ScriptL\>\"", ",", "\n", "\t", "\t", 
     "\"\<ScriptM\>\"", ",", "\"\<ScriptN\>\"", ",", "\"\<ScriptNine\>\"", 
     ",", "\"\<ScriptO\>\"", ",", "\"\<ScriptOne\>\"", ",", "\"\<ScriptP\>\"",
      ",", "\n", "\t", "\t", "\"\<ScriptQ\>\"", ",", "\"\<ScriptR\>\"", ",", 
     "\"\<ScriptS\>\"", ",", "\"\<ScriptSeven\>\"", ",", "\"\<ScriptSix\>\"", 
     ",", "\"\<ScriptT\>\"", ",", "\n", "\t", "\t", "\"\<ScriptThree\>\"", 
     ",", "\"\<ScriptTwo\>\"", ",", "\"\<ScriptU\>\"", ",", "\"\<ScriptV\>\"",
      ",", "\"\<ScriptW\>\"", ",", "\"\<ScriptX\>\"", ",", "\n", "\t", "\t", 
     "\"\<ScriptY\>\"", ",", "\"\<ScriptZ\>\"", ",", "\"\<ScriptZero\>\"", 
     ",", "\"\<SelectionPlaceholder\>\"", ",", "\"\<ShortLeftArrow\>\"", ",", 
     "\"\<ShortRightArrow\>\"", ",", "\n", "\t", "\t", "\"\<Sigma\>\"", ",", 
     "\"\<SpaceKey\>\"", ",", "\"\<SpanFromAbove\>\"", ",", 
     "\"\<SpanFromBoth\>\"", ",", "\"\<SpanFromLeft\>\"", ",", 
     "\"\<SphericalAngle\>\"", ",", "\n", "\t", "\t", "\"\<Sqrt\>\"", ",", 
     "\"\<Square\>\"", ",", "\"\<Sterling\>\"", ",", "\"\<Stigma\>\"", ",", 
     "\"\<SuchThat\>\"", ",", "\"\<Sum\>\"", ",", "\n", "\t", "\t", 
     "\"\<SystemEnterKey\>\"", ",", "\"\<SystemsModelDelay\>\"", ",", 
     "\"\<SZ\>\"", ",", "\"\<TabKey\>\"", ",", "\"\<Tau\>\"", ",", 
     "\"\<TaurusSign\>\"", ",", "\n", "\t", "\t", "\"\<TensorProduct\>\"", 
     ",", "\"\<TensorWedge\>\"", ",", "\"\<Theta\>\"", ",", "\"\<Thorn\>\"", 
     ",", "\"\<Transpose\>\"", ",", "\"\<TripleDot\>\"", ",", "\n", "\t", 
     "\t", "\"\<TwoWayRule\>\"", ",", "\"\<UnderBracket\>\"", ",", 
     "\"\<UndirectedEdge\>\"", ",", "\"\<UnionPlus\>\"", ",", 
     "\"\<UpArrowBar\>\"", ",", "\"\<UpArrowDownArrow\>\"", ",", "\n", "\t", 
     "\t", "\"\<UpEquilibrium\>\"", ",", "\"\<UpperLeftArrow\>\"", ",", 
     "\"\<UpperRightArrow\>\"", ",", "\"\<UpPointer\>\"", ",", 
     "\"\<Upsilon\>\"", ",", "\"\<UpTeeArrow\>\"", ",", "\n", "\t", "\t", 
     "\"\<Uranus\>\"", ",", "\"\<VerticalBar\>\"", ",", 
     "\"\<VerticalSeparator\>\"", ",", "\"\<VirgoSign\>\"", ",", 
     "\"\<WarningSign\>\"", ",", "\"\<WatchIcon\>\"", ",", "\n", "\t", "\t", 
     "\"\<WhiteBishop\>\"", ",", "\"\<WhiteKing\>\"", ",", 
     "\"\<WhiteKnight\>\"", ",", "\"\<WhitePawn\>\"", ",", 
     "\"\<WhiteQueen\>\"", ",", "\"\<WhiteRook\>\"", ",", "\n", "\t", "\t", 
     "\"\<Wolf\>\"", ",", "\"\<WolframLanguageLogo\>\"", ",", 
     "\"\<WolframLanguageLogoCircle\>\"", ",", "\"\<Xi\>\"", ",", 
     "\"\<Xnor\>\"", ",", "\"\<Yen\>\"", ",", "\n", "\t", "\t", 
     "\"\<Zeta\>\""}], "\n", "\t", "\t", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"$XMLFontPatchDumbSpecialCharListConv", "=", "\n", "\t", 
   RowBox[{"ToExpression", "@", "\n", "\t\t", 
    RowBox[{"Map", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"\"\<\\\"\\\\[\>\"", "<>", "#", "<>", "\"\<]\\\"\>\""}], "&"}],
       ",", "\n", "\t\t\t", "$XMLFontPatchDumbSpecialCharListLong"}], "\n", 
     "\t\t\t", "]"}]}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7232581633696337`*^9, 3.723258299326816*^9}, 
   3.7232584782700663`*^9, {3.723258525790472*^9, 3.723258538640119*^9}, {
   3.7232595701116743`*^9, 3.723259654447546*^9}, 3.7232597699983387`*^9, {
   3.7232599091135406`*^9, 3.723259922319975*^9}, {3.723260041404097*^9, 
   3.7232600812411833`*^9}, {3.723261298034605*^9, 3.7232613049516993`*^9}, {
   3.7232613507512417`*^9, 3.7232613514632874`*^9}, {3.723261592615275*^9, 
   3.723261600664452*^9}, {3.723489481175343*^9, 
   3.723489484439087*^9}},ExpressionUUID->"b7290de4-98a6-42d1-9623-\
6a9181ddb145"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$XMLFontPatchKeyboardElements\[RightFloor]", \
"CodeSubsubsubsubsection",
 Evaluatable->True,ExpressionUUID->"98955256-dc6e-4f5a-b6e4-2152b0358831"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$XMLKBDPatchStyles", "=", "\n", "\t", 
   RowBox[{"{", 
    RowBox[{
    "\"\<style\>\"", "\[Rule]", 
     "\"\<color: gray; font-size: 10px; border: solid 1px gray;\>\""}], 
    "}"}]}], ";"}]], \
"CodeInput",ExpressionUUID->"1077e70d-2ac8-4a56-983b-d23f36306763"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"xmlFontPatchKBDEl", "[", "k_", "]"}], ":=", "\n", "\t", 
   RowBox[{"XMLElement", "[", 
    RowBox[{"\"\<span\>\"", ",", "\n", "\t\t", 
     RowBox[{"Flatten", "@", 
      RowBox[{"{", 
       RowBox[{"$XMLKBDPatchStyles", ",", " ", "$XMLFontPatchFlag"}], "}"}]}],
      ",", "\n", "\t\t", 
     RowBox[{"{", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<kbd\>\"", ",", 
        RowBox[{"{", "$XMLFontPatchFlag", "}"}], ",", 
        RowBox[{"{", "k", "}"}]}], "]"}], "}"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"4ca45567-d491-430b-b5c5-67539aeb294a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$XMLFontPatchKeyboardElements", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"\"\<\\\\[AltKey]\>\"", "|", "\"\<\[AltKey]\>\""}], "\[Rule]", 
      "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "@", "\"\<ALT\>\""}]}], ",", "\n", "\t\t", 
     
     RowBox[{
      RowBox[{"\"\<\\\\[CommandKey]\>\"", "|", "\"\<\[CommandKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "[", "\"\<CMD\>\"", "]"}]}], ",", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[ControlKey]\>\"", "|", "\"\<\[ControlKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "@", "\"\<CTRL\>\""}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[DeleteKey]\>\"", "|", "\"\<\[DeleteKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "@", "\"\<DEL\>\""}]}], ",", "\n", "\t\t", 
     
     RowBox[{
      RowBox[{"\"\<\\\\[EnterKey]\>\"", "|", "\"\<\[EnterKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "@", "\"\<ENTER\>\""}]}], ",", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[EscapeKey]\>\"", "|", "\"\<\[EscapeKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "@", "\"\<ESC\>\""}]}], ",", "\n", "\t\t", 
     
     RowBox[{
      RowBox[{"\"\<\\\\[OptionKey]\>\"", "|", "\"\<\[OptionKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "@", "\"\<OPTION\>\""}]}], ",", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[ReturnKey]\>\"", "|", "\"\<\[ReturnKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "@", "\"\<RET\>\""}]}], ",", "\n", "\t\t", 
     
     RowBox[{
      RowBox[{"\"\<\\\\[ShiftKey]\>\"", "|", "\"\<\[ShiftKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "@", "\"\<SHIFT\>\""}]}], ",", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{"\"\<\\\\[SpaceKey]\>\"", "|", "\"\<\[SpaceKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "@", "\"\<SPACE\>\""}]}], ",", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{
      "\"\<\\\\[SystemEnterKey]\>\"", "|", "\"\<\[SystemEnterKey]\>\""}], 
      "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "@", "\"\<RET\>\""}]}], ",", "\n", "\t\t", 
     
     RowBox[{
      RowBox[{"\"\<\\\\[TabKey]\>\"", "|", "\"\<\[TabKey]\>\""}], "\[Rule]", 
      "\n", "\t\t\t", 
      RowBox[{"xmlFontPatchKBDEl", "@", "\"\<TAB\>\""}]}]}], "\n", "\t\t", 
    "}"}]}], ";"}]], \
"CodeInput",ExpressionUUID->"f177aa8b-7111-4a52-92b6-893ce8f0fcbd"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$XMLFontPatchManualUnicodeReassignments\[RightFloor]", \
"CodeSubsubsubsubsection",
 Evaluatable->True,ExpressionUUID->"4c25d016-e3a9-438c-a172-3b8b79ddc405"],

Cell[BoxData[
 RowBox[{"\n", 
  RowBox[{
   RowBox[{"$XMLFontPatchManualUnicodeReassignments", "=", "\n", "\t", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"\"\<\\\\[KeyBar]\>\"", "|", "\"\<\[KeyBar]\>\""}], "\[Rule]", 
       "\n", "\t\t\t", 
       RowBox[{"XMLElement", "[", 
        RowBox[{"\"\<span\>\"", ",", " ", "\n", "\t\t\t\t", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", 
           RowBox[{"$XMLFontPatchFlag", ",", " ", 
            RowBox[{
            "\"\<style\>\"", "\[Rule]", 
             "\"\<font-weight: bold; font-size: 8px;\>\""}]}], "}"}]}], ",", 
         "\n", "\t\t\t\t", 
         RowBox[{"{", "\"\<\:2011\>\"", "}"}]}], "\n", "\t\t\t\t", "]"}]}], 
      ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"\"\<\\\\[RightPointer]\>\"", "|", "\"\<\[RightPointer]\>\""}],
        "\[Rule]", "\n", "\t\t\t", 
       RowBox[{"XMLElement", "[", 
        RowBox[{"\"\<span\>\"", ",", " ", "\n", "\t\t\t\t", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", 
           RowBox[{"$XMLFontPatchFlag", ",", " ", 
            RowBox[{
            "\"\<style\>\"", "\[Rule]", 
             "\"\<font-weight: bold; font-size: 8px;\>\""}]}], "}"}]}], ",", 
         "\n", "\t\t\t\t", 
         RowBox[{"{", "\"\<\[FilledRightTriangle]\>\"", "}"}]}], "\n", 
        "\t\t\t\t", "]"}]}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"\"\<\\\\[LeftPointer]\>\"", "|", "\"\<\[LeftPointer]\>\""}], 
       "\[Rule]", "\n", "\t\t\t", 
       RowBox[{"XMLElement", "[", 
        RowBox[{"\"\<span\>\"", ",", " ", "\n", "\t\t\t\t", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", 
           RowBox[{"$XMLFontPatchFlag", ",", " ", 
            RowBox[{
            "\"\<style\>\"", "\[Rule]", 
             "\"\<font-weight: bold; font-size: 8px;\>\""}]}], "}"}]}], ",", 
         "\n", "\t\t\t\t", 
         RowBox[{"{", "\"\<\[FilledLeftTriangle]\>\"", "}"}]}], "\n", 
        "\t\t\t\t", "]"}]}]}], "\n", "\t\t", "}"}]}], 
   ";"}]}]], \
"CodeInput",ExpressionUUID->"becf26b9-7a2b-4d78-b0dc-1621528e3919"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$XMLFontPatchStringToXMLElementRules\[RightFloor]", \
"CodeSubsubsubsubsection",
 Evaluatable->True,ExpressionUUID->"02c0b31b-d542-4e4e-b6e0-1788865d4612"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$XMLFontPatchFlag", "=", "\n", "\t", 
   RowBox[{"\"\<-fake-attr-fonts-patched\>\"", "\[Rule]", "\"\<true\>\""}]}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.723489972755496*^9, 
  3.72348998372502*^9}},ExpressionUUID->"f3a66fd3-95d7-49ed-acc1-\
24b573c1e65a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$XMLFontPatchDumbSpecialCharListLong", "=", "\n", "\t", 
   RowBox[{"Alternatives", "@@", "$XMLFontPatchDumbSpecialCharListLong"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"$XMLFontPatchDumbSpecialCharListConv", "=", "\n", "\t", 
   RowBox[{"Alternatives", "@@", "$XMLFontPatchDumbSpecialCharListConv"}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.723258358010404*^9, 3.7232583671918163`*^9}, {
  3.723489459974172*^9, 
  3.723489486262783*^9}},ExpressionUUID->"0a83e740-e51b-4d95-b780-\
3f92fa0a5848"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$XMLFontPatchStringToXMLElementRules", "=", "\n", "\t", 
   RowBox[{"Flatten", "@", "\n", "\t\t", 
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
     "$XMLFontPatchKeyboardElements", ",", "\n", "\t\t\t", 
      "$XMLFontPatchManualUnicodeReassignments", ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"\"\<\\\\[\>\"", "~~", 
        RowBox[{"s", ":", 
         RowBox[{"(", "$XMLFontPatchDumbSpecialCharListLong", ")"}]}], "~~", 
        "\"\<]\>\""}], ":>", "\n", "\t", "\t\t\t", 
       RowBox[{"XMLElement", "[", 
        RowBox[{"\"\<span\>\"", ",", "\n", "\t", "\t\t\t\t", 
         RowBox[{"{", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"\"\<class\>\"", "\[Rule]", 
            RowBox[{"\"\<special-character \>\"", "<>", "s"}]}], ",", "\n", 
           "\t", "\t\t\t\t\t", "$XMLFontPatchFlag"}], "\n", "\t", 
          "\t\t\t\t\t", "}"}], ",", "\n", "\t", "\t\t\t\t", 
         RowBox[{"{", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"\"\<\\\"\\\\[\>\"", "<>", "s", "<>", "\"\<]\\\"\>\""}], 
           "]"}], "\n", "\t", "\t\t\t\t\t", "}"}]}], "\n", "\t", "\t\t\t\t", 
        "]"}]}], ",", "\n", "\t", "\t\t", 
      RowBox[{
       RowBox[{"char", ":", "$XMLFontPatchDumbSpecialCharListConv"}], ":>", 
       "\n", "\t", "\t\t\t", 
       RowBox[{"XMLElement", "[", 
        RowBox[{"\"\<span\>\"", ",", "\n", "\t", "\t\t\t\t", 
         RowBox[{"{", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"\"\<class\>\"", "\[Rule]", 
            RowBox[{"\"\<special-character \>\"", "<>", 
             RowBox[{"CharacterName", "[", "char", "]"}]}]}], ",", " ", "\n", 
           "\t", "\t\t\t\t\t", "$XMLFontPatchFlag"}], "\n", "\t", 
          "\t\t\t\t\t", "}"}], ",", "\n", "\t", "\t\t\t\t", 
         RowBox[{
         "{", "\n", "\t", "\t\t\t\t\t", "char", "\n", "\t", "\t\t\t\t\t", 
          "}"}]}], "\n", "\t", "\t\t\t\t", "]"}]}]}], "\n", "\t", "\t\t", 
     "}"}]}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"f2137d83-4e93-47ea-9c41-36f1823f98f7"]
}, Closed]]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplatePreProcess\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712633214138015*^9, 3.712633223527268*^9}, 
   3.71268299564373*^9},ExpressionUUID->"a19816d4-4312-4327-bb8a-\
9a0aa55be767"],

Cell[BoxData[
 RowBox[{"$WebSiteTemplateAttachIDElements", "=", "\n", "\t", 
  RowBox[{"{", "\n", "\t\t", 
   RowBox[{
   "\"\<pre\>\"", ",", " ", "\"\<h1\>\"", ",", " ", "\"\<h2\>\"", ",", " ", 
    "\n", "\t\t", "\"\<img\>\"", ",", " ", "\"\<p\>\""}], "\n", "\t\t", 
   "}"}]}]], \
"CodeInput",ExpressionUUID->"a5a32afd-b881-4c37-a3bf-9548984dfa25"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteTemplatePreProcessAttachIDs\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"a365a3e6-6b64-4e20-8d23-77a896df493d"],

Cell[BoxData[
 RowBox[{"$WebSiteTemplateAttachIDElements", "=", "\n", "\t", 
  RowBox[{"{", 
   RowBox[{
   "\"\<pre\>\"", ",", " ", "\"\<p\>\"", ",", " ", "\"\<blockquote\>\"", ",", 
    " ", "\"\<img\>\"", ",", " ", "\"\<h1\>\"", ",", " ", "\"\<h2\>\"", ",", 
    " ", "\"\<h3\>\""}], 
   "}"}]}]], \
"CodeInput",ExpressionUUID->"bee2bf22-3cdd-49e6-8a62-ef954ab1121e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteTemplatePreProcessAttachIDs", "[", "xml_", "]"}], ":=", 
  "\n", "\t", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"$$id", "=", "1"}], "}"}], ",", "\n", "\t\t", 
    RowBox[{"ReplaceRepeated", "[", "\n", "\t\t\t", 
     RowBox[{"xml", ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"XMLElement", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"el", ":", 
          RowBox[{
          "Alternatives", "@@", "$WebSiteTemplateAttachIDElements"}]}], ",", 
         "\n", "\t\t\t\t", 
         RowBox[{"c_", "?", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"Lookup", "[", 
              RowBox[{"#", ",", "\"\<id\>\"", ",", "None"}], "]"}], "===", 
             "None"}], "&"}], ")"}]}], ",", "\n", "\t\t\t\t", "e_"}], "\n", 
        "\t\t\t\t", "]"}], ":>", "\n", "\t\t\t\t\t", 
       RowBox[{"XMLElement", "[", 
        RowBox[{"el", ",", " ", 
         RowBox[{"Append", "[", 
          RowBox[{"c", ",", " ", 
           RowBox[{"\"\<id\>\"", "\[Rule]", 
            RowBox[{"el", "<>", 
             RowBox[{"ToString", "[", 
              RowBox[{"$$id", "++"}], "]"}]}]}]}], "]"}], ",", " ", "e"}], 
        "]"}]}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"f817df32-0403-450c-a9f5-5a234a0cccd9"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteTemplatePreProcessPrettyPrint\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"12656c57-852a-49f4-a53a-651189408b25"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"webSiteTemplatePreProcessCodeHighlighting", "[", 
    RowBox[{"tag_", ",", " ", "lang_"}], "]"}], "[", "xml_", "]"}], ":=", 
  "\n", "\t", 
  RowBox[{"With", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"nullang", "=", "\n", "\t\t\t\t", 
       RowBox[{"Switch", "[", 
        RowBox[{
        "tag", ",", " ", "\n", "\t\t\t\t\t", "\"\<prettyprint\>\"", ",", " ", 
         "\"\<lang-none\>\"", ",", " ", "\n", "\t\t\t\t\t", 
         "\"\<highlight\>\"", ",", " ", "\"\<highlight-source-none\>\"", ",", 
         "\n", "\t\t\t\t\t", "_", ",", " ", "\"\<language-none\>\""}], "\n", 
        "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
      RowBox[{"langTag", "=", "\n", "\t\t\t\t", 
       RowBox[{"Switch", "[", 
        RowBox[{
        "tag", ",", " ", "\n", "\t\t\t\t\t", "\"\<prettyprint\>\"", ",", " ", 
         "\"\<lang-\>\"", ",", " ", "\n", "\t\t\t\t\t", "\"\<highlight\>\"", 
         ",", " ", "\"\<highlight-source-\>\"", ",", "\n", "\t\t\t\t\t", "_", 
         ",", " ", "\"\<language-\>\""}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n",
      "\t\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{"ReplaceRepeated", "[", "\n", "\t\t\t", 
     RowBox[{"xml", ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"XMLElement", "[", 
        RowBox[{"\"\<pre\>\"", ",", "\n", "\t\t\t\t", 
         RowBox[{"c_", "?", 
          RowBox[{"(", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"StringFreeQ", "[", 
              RowBox[{
               RowBox[{"Lookup", "[", 
                RowBox[{"#", ",", "\"\<class\>\"", ",", "\"\<\>\""}], "]"}], 
               ",", " ", 
               RowBox[{"tag", "|", "nullang"}]}], "]"}], ")"}], "\n", 
            "\t\t\t\t\t\t", "&"}], ")"}]}], ",", "\n", "\t\t\t\t", "e_"}], 
        "\n", "\t\t\t\t", "]"}], ":>", "\n", "\t\t\t\t", 
       RowBox[{"XMLElement", "[", 
        RowBox[{"\"\<pre\>\"", ",", "\n", "\t\t\t\t\t", 
         RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t", 
          RowBox[{"ReplacePart", "[", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Association", "@", "c"}], ",", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"\"\<class\>\"", "->", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{"StringTrim", "@", "\n", "\t\t\t\t\t\t\t\t\t", 
              RowBox[{"TemplateApply", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
               RowBox[{
               "\"\<`base` `tag` `lang`\>\"", ",", "\n", 
                "\t\t\t\t\t\t\t\t\t\t", 
                RowBox[{"<|", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"\"\<base\>\"", "->", 
                   RowBox[{"Lookup", "[", 
                    RowBox[{
                    "c", ",", " ", "\"\<class\>\"", ",", " ", "\"\<\>\""}], 
                    "]"}]}], ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"\"\<tag\>\"", "\[Rule]", "tag"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "\"\<lang\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"StringQ", "@", "lang"}], "&&", 
                    RowBox[{"StringFreeQ", "[", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    "c", ",", " ", "\"\<class\>\"", ",", " ", "\"\<\>\""}], 
                    "]"}], ",", " ", "langTag"}], "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"langTag", "<>", "lang"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "\"\<\>\""}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t\t", "|>"}]}], "\n", 
               "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}]}], "\n", "\t\t\t\t\t\t\t", 
           "]"}]}], ",", "\n", "\t\t\t\t\t", "e"}], "\n", "\t\t\t\t\t", 
        "]"}]}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"ddfe4baf-1fe4-4974-9f21-eea4e5e3c497"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteTemplatePreProcessFonts\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"35b55bb1-d8ff-4f75-a68e-4eb1bacf7b2d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteTemplatePreProcessFonts", "[", "xml_", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"ReplaceRepeated", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"ReplaceRepeated", "[", "\n", "\t\t\t", 
     RowBox[{"xml", ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"XMLElement", "[", 
        RowBox[{"a_", ",", " ", 
         RowBox[{"b_", "?", 
          RowBox[{"(", 
           RowBox[{"FreeQ", "[", "$XMLFontPatchFlag", "]"}], ")"}]}], ",", 
         " ", "d_"}], "]"}], ":>", "\n", "\t\t\t\t", 
       RowBox[{"XMLElement", "[", 
        RowBox[{"a", ",", "\n", "\t\t\t\t\t", 
         RowBox[{"Append", "[", 
          RowBox[{"b", ",", " ", "$XMLFontPatchFlag"}], "]"}], ",", "\n", 
         "\t\t\t\t\t", 
         RowBox[{"Replace", "[", 
          RowBox[{"d", ",", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"s_String", ":>", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Replace", "[", 
              RowBox[{
               RowBox[{"StringExpression", "[", "expr___", "]"}], 
               "\[RuleDelayed]", "expr"}], "]"}], "@", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"StringReplace", "[", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{
              "s", ",", "\n", "\t\t\t\t\t\t\t\t", 
               "$XMLFontPatchStringToXMLElementRules"}], "\n", 
              "\t\t\t\t\t\t\t\t", "]"}]}]}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"{", "1", "}"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", 
        "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"XMLElement", "[", 
      RowBox[{"a_", ",", " ", 
       RowBox[{"b_", "?", 
        RowBox[{"(", 
         RowBox[{"MemberQ", "[", "$XMLFontPatchFlag", "]"}], ")"}]}], ",", 
       " ", "c_"}], "]"}], ":>", "\n", "\t\t\t", 
     RowBox[{"XMLElement", "[", 
      RowBox[{"a", ",", " ", 
       RowBox[{"Most", "[", "b", "]"}], ",", " ", "c"}], "]"}]}]}], "\n", 
   "\t\t", "]"}]}]], \
"CodeInput",ExpressionUUID->"e29b203f-6818-4c0e-82ce-87a8ce9504c6"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteTemplatePreProcessInOut\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"a9fbea4f-47bc-4930-8df0-4efb8d3b3315"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
  "$WebSiteTemplatePreProcessInOutToken", "=", "\n", "\t", 
   "\"\<(*Out:*)\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
  "$WebSiteTemplatePreProcessInOutInTag", "=", "\n", "\t", 
   "\"\<mma-input\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
  "$WebSiteTemplatePreProcessInOutOutTag", "=", "\n", "\t", 
   "\"\<mma-output\>\""}], 
  ";"}]}], "CodeInput",ExpressionUUID->"eb2f5aa8-1c26-42b7-8f30-3aff284a97d7"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteTemplatePreProcessSplitOutput\[RightFloor]", \
"CodeSubsubsubsubsection",
 Evaluatable->True,ExpressionUUID->"d32a399d-08fa-4b5d-8ac9-08d1846010c0"],

Cell["\<\
\[LeftCeiling]
\twebSiteTemplatePreProcessProcessSplitString
\t\tdoes the actual dirty work of splitting the cells
\[RightFloor]\
\>", "Text",
 Evaluatable->True,ExpressionUUID->"9f6bd985-4690-4acb-8852-34d99c00f64e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteTemplatePreProcessProcessSplitString", "[", 
   RowBox[{
   "splits_", ",", " ", "pc_", ",", " ", "cc_", ",", " ", "head_", ",", " ", 
    "tail_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Length", "@", 
      RowBox[{"DeleteCases", "[", 
       RowBox[{"splits", ",", " ", "\"\<\>\""}], "]"}]}], "\[Equal]", "0"}], 
    ",", "\n", "\t\t", "Nothing", ",", "\n", "\t\t", 
    RowBox[{"Sequence", "@@", "\n", "\t\t\t", 
     RowBox[{"Flatten", "@", 
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"StringLength", "@", 
             RowBox[{"splits", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ">", "0"}], "||", 
           RowBox[{
            RowBox[{"Length", "@", "head"}], ">", "0"}]}], ",", "\n", 
          "\t\t\t\t\t", 
          RowBox[{"XMLElement", "[", 
           RowBox[{"\"\<pre\>\"", ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", 
             "\t\t\t\t\t\t\t", 
             RowBox[{"Prepend", "[", 
              RowBox[{"pc", ",", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"\"\<class\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"StringTrim", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"Lookup", "[", 
                   RowBox[{
                   "pc", ",", " ", "\"\<class\>\"", ",", " ", "\"\<\>\""}], 
                   "]"}], "<>", "\"\< \>\"", "<>", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t\t", 
                  "$WebSiteTemplatePreProcessInOutInTag"}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t", 
              "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"List", "@", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"XMLElement", "[", 
              RowBox[{
              "\"\<code\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", "cc", ",", "\n", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{"Flatten", "@", 
                RowBox[{"{", 
                 RowBox[{"head", ",", " ", 
                  RowBox[{"splits", "[", 
                   RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}]}], "\n", 
              "\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t", "]"}], ",",
           "\n", "\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t", "]"}], ",", 
        "\n", "\t\t\t\t", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Length", "@", "splits"}], ">", "2"}], ",", "\n", 
          "\t\t\t\t\t", 
          RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"StringLength", "@", "#"}], ">", "0"}], ",", "\n", 
               "\t\t\t\t\t\t\t", 
               RowBox[{"XMLElement", "[", 
                RowBox[{"\"\<pre\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", 
                  "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Prepend", "[", 
                   RowBox[{"pc", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<class\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "StringTrim", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    "pc", ",", " ", "\"\<class\>\"", ",", " ", "\"\<\>\""}], 
                    "]"}], "<>", "\"\< \>\"", "<>", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    "$WebSiteTemplatePreProcessInOutOutTag"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                 "\t\t\t\t\t\t\t\t", 
                 RowBox[{"List", "@", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"XMLElement", "[", 
                   RowBox[{
                   "\"\<code\>\"", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", "cc", 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", "#", "}"}]}], "\n", "\t\t\t\t\t\t\t\t\t\t", 
                   "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
               "\t\t\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t\t\t", "]"}], 
             "&"}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"Most", "@", 
             RowBox[{"Rest", "@", "splits"}]}]}], "\n", "\t\t\t\t\t\t", "]"}],
           ",", "\n", "\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t", "]"}], 
        ",", "\n", "\t\t\t\t", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"Length", "@", "splits"}], ">", "1"}], "&&", 
             RowBox[{
              RowBox[{"StringLength", "@", 
               RowBox[{"Last", "@", "splits"}]}], ">", "0"}]}], ")"}], "||", 
           RowBox[{
            RowBox[{"Length", "@", 
             RowBox[{"Flatten", "@", 
              RowBox[{"{", "tail", "}"}]}]}], ">", "0"}]}], ",", "\n", 
          "\t\t\t\t\t", 
          RowBox[{"XMLElement", "[", 
           RowBox[{"\"\<pre\>\"", ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", 
             "\t\t\t\t\t\t\t", 
             RowBox[{"Prepend", "[", 
              RowBox[{"pc", ",", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"\"\<class\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"StringTrim", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"Lookup", "[", 
                   RowBox[{
                   "pc", ",", " ", "\"\<class\>\"", ",", " ", "\"\<\>\""}], 
                   "]"}], "<>", "\"\< \>\"", "<>", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t\t", 
                  "$WebSiteTemplatePreProcessInOutOutTag"}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t", 
              "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"List", "@", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"XMLElement", "[", 
              RowBox[{
              "\"\<code\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", "cc", ",", "\n", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{"Flatten", "@", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Length", "@", "splits"}], ">", "1"}], "&&", 
                    RowBox[{
                    RowBox[{"StringLength", "@", 
                    RowBox[{"Last", "@", "splits"}]}], ">", "0"}]}], ")"}], 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Last", "@", "splits"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "Nothing"}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", " ", "\n", 
                  "\t\t\t\t\t\t\t\t\t", "tail"}], "\n", "\t\t\t\t\t\t\t\t\t", 
                 "}"}]}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
           "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", "Nothing"}], "\n", 
         "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "}"}]}]}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"bba45edd-0cf5-445c-a224-7271178c06be"],

Cell["\<\
\[LeftCeiling]
\twebSiteTemplatePreProcessSplitOutput
\t\tthe more general function that delegates to the lower-level splitter
\[RightFloor]\
\>", "Text",
 Evaluatable->True,ExpressionUUID->"07a4ceb8-8720-49e3-9929-1ce5581f56e7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteTemplatePreProcessSplitOutput", "[", 
   RowBox[{
   "pc_", ",", " ", "cc_", ",", " ", "head_", ",", " ", "c_", ",", " ", 
    "tail_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"splits", "=", "\n", "\t\t\t\t", 
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"groupUpFlag", "=", "False"}], "}"}], ",", "\n", 
         "\t\t\t\t\t", 
         RowBox[{"SplitBy", "[", 
          RowBox[{
           RowBox[{"Flatten", "@", 
            RowBox[{"{", "tail", "}"}]}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Function", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"If", "[", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"MatchQ", "[", 
                RowBox[{"#", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"_String", "?", 
                  RowBox[{"(", 
                   RowBox[{
                   "StringContainsQ", "[", 
                    "$WebSiteTemplatePreProcessInOutToken", "]"}], ")"}]}]}], 
                "\n", "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{"groupUpFlag", "=", 
                RowBox[{"Not", "@", "groupUpFlag"}]}]}], "\n", 
              "\t\t\t\t\t\t\t\t", "]"}], ";", "\n", "\t\t\t\t\t\t\t", 
             "groupUpFlag"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", 
          "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"firstSplit", "=", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"StringStartsQ", "[", 
           RowBox[{"c", ",", " ", "$WebSiteTemplatePreProcessInOutToken"}], 
           "]"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Prepend", "[", "\"\<\>\"", "]"}], ",", "\n", "\t\t\t\t\t", 
          "Identity"}], "\n", "\t\t\t\t\t", "]"}], "@", "\n", "\t\t\t\t", 
        RowBox[{"StringTrim", "@", 
         RowBox[{"StringSplit", "[", 
          RowBox[{"c", ",", " ", "$WebSiteTemplatePreProcessInOutToken"}], 
          "]"}]}]}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"Length", "@", 
         RowBox[{"DeleteCases", "[", 
          RowBox[{"splits", ",", " ", 
           RowBox[{"{", "}"}]}], "]"}]}], "==", "0"}], "&&", 
       RowBox[{
        RowBox[{"Length", "@", 
         RowBox[{"DeleteCases", "[", 
          RowBox[{"firstSplit", ",", " ", "\"\<\>\""}], "]"}]}], "\[Equal]", 
        "0"}]}], ",", "\n", "\t\t\t", "Nothing", ",", "\n", "\t\t\t", 
      RowBox[{"Sequence", "@@", "\n", "\t\t\t\t", 
       RowBox[{"Flatten", "@", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"Length", "@", "splits"}], "==", "0"}], "||", 
             RowBox[{"StringQ", "@", 
              RowBox[{"splits", "[", 
               RowBox[{"[", 
                RowBox[{"1", ",", " ", "1"}], "]"}], "]"}]}]}], ",", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{
            "webSiteTemplatePreProcessProcessSplitString", "[", "\n", 
             "\t\t\t\t\t\t  ", 
             RowBox[{
             "firstSplit", ",", " ", "\n", "\t\t\t\t\t\t\t", "pc", ",", " ", 
              "cc", ",", " ", "head", ",", " ", 
              RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}], ",", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"sp", "=", 
                RowBox[{"splits", "[", 
                 RowBox[{"[", "1", "]"}], "]"}]}], "}"}], ",", "\n", 
              "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"splits", "=", 
                RowBox[{"Rest", "@", "splits"}]}], ";", "\n", 
               "\t\t\t\t\t\t\t", 
               RowBox[{"webSiteTemplatePreProcessProcessSplitString", "[", 
                RowBox[{
                "firstSplit", ",", " ", "\n", "\t\t\t\t\t\t\t\t", "pc", ",", 
                 " ", "cc", ",", " ", 
                 RowBox[{"Join", "[", 
                  RowBox[{"head", ",", " ", "sp"}], "]"}], ",", " ", 
                 RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}]}], 
             "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}], 
          ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{
             "webSiteTemplatePreProcessProcessSplitString", "[", "\n", 
              "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"StringQ", "@", 
                  RowBox[{"#", "[", 
                   RowBox[{"[", "1", "]"}], "]"}]}], ",", "\n", 
                 "\t\t\t\t\t\t\t\t", 
                 RowBox[{"(*", 
                  RowBox[{
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"StringStartsQ", "[", 
                    RowBox[{
                    RowBox[{"#", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
                    "$WebSiteTemplatePreProcessInOutToken"}], "]"}], ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Prepend", "[", "\"\<\>\"", "]"}], ",", "\n", 
                    "\t", "\t", "\t", "\t", "\t\t\t\t\t", "Identity"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t", "]"}], "@"}], "*)"}], "\n", 
                 "\t\t\t\t\t\t\t\t", 
                 RowBox[{"StringSplit", "[", 
                  RowBox[{
                   RowBox[{"#", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
                   "$WebSiteTemplatePreProcessInOutToken"}], "]"}], ",", "\n",
                  "\t\t\t\t\t\t\t\t", 
                 RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}], ",", 
               " ", "\n", "\t\t\t\t\t\t\t", "pc", ",", " ", "\n", 
               "\t\t\t\t\t\t\t", "cc", ",", " ", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"{", "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"StringQ", "@", 
                  RowBox[{"#", "[", 
                   RowBox[{"[", "1", "]"}], "]"}]}], ",", " ", 
                 RowBox[{"Rest", "@", "#"}], ",", " ", "#"}], "]"}]}], "\n", 
              "\t\t\t\t\t\t\t", "]"}], "&"}], ",", "\n", "\t\t\t\t\t\t", 
            "splits"}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", 
         "}"}]}]}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"4c59a608-e355-4ac1-a447-b3ec2868121f"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteTemplatePreProcessInOut\[RightFloor]", \
"CodeSubsubsubsubsection",
 Evaluatable->True,ExpressionUUID->"eafc8a8b-82fb-46e1-93b4-2a16992c21ae"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteTemplatePreProcessInOut", "[", "xml_", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"ReplaceRepeated", "[", "\n", "\t\t", 
   RowBox[{"xml", ",", "\n", "\t\t", 
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"XMLElement", "[", 
        RowBox[{
        "\"\<pre\>\"", ",", "\n", "\t", "\t\t\t", "pc_", ",", "\n", "\t", 
         "\t\t\t", 
         RowBox[{"{", "\n", "\t", "\t\t\t\t", 
          RowBox[{"___", ",", "\n", "\t", "\t\t\t\t", 
           RowBox[{"XMLElement", "[", 
            RowBox[{
            "\"\<code\>\"", ",", "\n", "\t", "\t\t\t\t\t", "cc_", ",", "\n", 
             "\t\t\t\t\t\t", 
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"head", ":", 
                RowBox[{"Shortest", "[", "___", "]"}]}], ",", "\n", 
               "\t\t\t\t\t\t\t", 
               RowBox[{"c_String", "?", 
                RowBox[{"(", 
                 RowBox[{
                 "StringContainsQ", "[", 
                  "$WebSiteTemplatePreProcessInOutToken", "]"}], ")"}]}], ",",
                "\n", "\t\t\t\t\t\t\t", "tail___"}], "\n", "\t\t\t\t\t\t\t", 
              "}"}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
           "\t\t\t\t", "___"}], "\n", "\t", "\t\t\t\t", "}"}]}], "\n", "\t", 
        "\t\t\t", "]"}], ":>", "\n", "\t", "\t\t\t", 
       RowBox[{"webSiteTemplatePreProcessSplitOutput", "[", 
        RowBox[{"pc", ",", " ", "cc", ",", " ", 
         RowBox[{"{", "head", "}"}], ",", " ", "c", ",", " ", 
         RowBox[{"{", "tail", "}"}]}], "]"}]}], ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"XMLElement", "[", 
        RowBox[{"\"\<pre\>\"", ",", "\n", "\t\t\t\t", 
         RowBox[{"pc_", "?", 
          RowBox[{"(", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"StringFreeQ", "[", 
             RowBox[{
              RowBox[{"Lookup", "[", 
               RowBox[{"#", ",", " ", "\"\<class\>\"", ",", " ", "\"\<\>\""}],
                "]"}], ",", " ", "\n", "\t\t\t\t\t\t", 
              RowBox[{
              "$WebSiteTemplatePreProcessInOutInTag", "|", "\n", 
               "\t\t\t\t\t\t", "$WebSiteTemplatePreProcessInOutOutTag"}]}], 
             "\n", "\t\t\t\t\t\t", "]"}], "&"}], "\n", "\t\t\t\t\t", ")"}]}], 
         ",", "\n", "\t\t\t\t", 
         RowBox[{"c", ":", 
          RowBox[{"{", "\n", "\t\t\t\t\t", 
           RowBox[{"___", ",", "\n", "\t\t\t\t\t", 
            RowBox[{"XMLElement", "[", 
             RowBox[{
             "\"\<code\>\"", ",", "\n", "\t\t\t\t\t\t", "_", ",", "\n", 
              "\t\t\t\t\t\t", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"_String", "?", 
                RowBox[{"(", 
                 RowBox[{
                 "StringFreeQ", "[", "$WebSiteTemplatePreProcessInOutToken", 
                  "]"}], ")"}]}], "\n", "\t\t\t\t\t\t\t", "}"}]}], "\n", 
             "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", "___"}], "\n", 
           "\t\t\t\t\t", "}"}]}]}], "\n", "\t\t\t\t", "]"}], ":>", "\n", 
       "\t\t\t\t", 
       RowBox[{"XMLElement", "[", 
        RowBox[{"\"\<pre\>\"", ",", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", 
          "\t\t\t\t\t\t", 
          RowBox[{"Prepend", "[", 
           RowBox[{"pc", ",", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"\"\<class\>\"", "->", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{"StringTrim", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"Lookup", "[", 
                RowBox[{
                "pc", ",", " ", "\"\<class\>\"", ",", " ", "\"\<\>\""}], 
                "]"}], "<>", "\"\< \>\"", "<>", "\n", "\t", 
               "\t\t\t\t\t\t\t\t\t", "$WebSiteTemplatePreProcessInOutInTag"}],
               "\n", "\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t", 
           "]"}]}], ",", "\n", "\t\t\t\t\t", "c"}], "\n", "\t\t\t\t\t", 
        "]"}]}]}], "\n", "\t\t\t", "}"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"f8a07e21-75e4-4b0a-a418-984710840853"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteTemplatePreProcess\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"b9ecfc40-c50c-4ae7-a1da-138fcaeac391"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteTemplatePreProcess", "[", 
   RowBox[{"fileContent_", ",", "args_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"ids", "=", "\n", "\t\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"args", ",", " ", "\"\<AttachIDs\>\""}], "]"}]}], ",", "\n", 
      "\t\t\t", "idtags", ",", "\n", "\t\t\t", 
      RowBox[{"lang", "=", "\n", "\t\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"args", ",", " ", "\"\<CodeLanguage\>\""}], "]"}]}], ",", 
      "\n", "\t\t\t", 
      RowBox[{"highlight", "=", "\n", "\t\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"args", ",", " ", "\"\<CodeHighlighting\>\""}], "]"}]}], ",", 
      "\n", "\t\t\t", 
      RowBox[{"prettyprint", "=", "\n", "\t\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"args", ",", " ", "\"\<PrettyPrint\>\""}], "]"}]}], ",", "\n",
       "\t", "\t\t", 
      RowBox[{"patchfonts", "=", "\n", "\t", "\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"args", ",", " ", "\"\<PatchFonts\>\""}], "]"}]}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"splitout", "=", "\n", "\t\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"args", ",", " ", "\"\<SplitInOut\>\""}], "]"}]}], ",", "\n", 
      "\t\t\t", "splittags", ",", "\n", "\t\t\t", 
      RowBox[{"srcbase", "=", "\n", "\t\t\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{
         RowBox[{"Lookup", "[", 
          RowBox[{"args", ",", " ", "\"\<SiteURL\>\""}], "]"}], ",", " ", 
         RowBox[{
          RowBox[{"Except", "[", "_String", "]"}], "\[RuleDelayed]", 
          "\"\<\>\""}]}], "]"}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"StringQ", "@", "ids"}], ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"idtags", "=", "ids"}], ";", "\n", "\t\t\t", 
        RowBox[{"ids", "=", "True"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"idtags", "=", "$WebSiteTemplateAttachIDElements"}]}], "\n", 
      "\t\t\t", "]"}], ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"OptionQ", "@", "splitout"}], ",", "\n", "\t\t\t", 
       RowBox[{"splittags", "=", "\n", "\t\t\t\t", 
        RowBox[{"MapThread", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"StringQ", "@", "#"}], ",", " ", "#", ",", " ", "#2"}], 
            "]"}], "&"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"{", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Lookup", "[", 
             RowBox[{"splitout", ",", " ", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
               "\"\<Token\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                "\"\<OutTag\>\"", ",", "\n", "\t", "\t", "\t\t\t\t\t\t", 
                "\"\<InTag\>\""}], "\n", "\t\t\t\t\t\t\t\t", "}"}]}], "\n", 
             "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
             "$WebSiteTemplatePreProcessInOutToken", ",", "\n", 
              "\t\t\t\t\t\t\t", "$WebSiteTemplatePreProcessInOutInTag", ",", 
              "\n", "\t\t\t\t\t\t\t", 
              "$WebSiteTemplatePreProcessInOutOutTag"}], "\n", 
             "\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t", "}"}]}], "\n", 
         "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"splittags", "=", "\n", "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
         "$WebSiteTemplatePreProcessInOutToken", ",", "\n", "\t\t\t\t\t", 
          "$WebSiteTemplatePreProcessInOutInTag", ",", "\n", "\t\t\t\t\t", 
          "$WebSiteTemplatePreProcessInOutOutTag"}], "\n", "\t\t\t\t\t", 
         "}"}]}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"StringQ", "[", "srcbase", "]"}], ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"ReplaceAll", "[", "\n", "\t\t\t\t", 
          RowBox[{"#", ",", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"\"\<src\>\"", "\[Rule]", "f_"}], ")"}], 
            "\[RuleDelayed]", "\n", "\t\t\t\t\t", 
            RowBox[{"(", 
             RowBox[{"\"\<src\>\"", "\[Rule]", 
              RowBox[{"StringReplace", "[", 
               RowBox[{"f", ",", " ", 
                RowBox[{"\"\<{filename}\>\"", "\[Rule]", "srcbase"}]}], 
               "]"}]}], ")"}]}]}], "\n", "\t\t\t\t", "]"}], "&"}], ",", "\n", 
        "\t\t\t", "Identity"}], "\n", "\t\t\t", "]"}], "@", "\n", "\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"TrueQ", "@", "ids"}], ",", "\n", "\t\t\t", 
         RowBox[{"Block", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"{", "\n", "\t\t\t\t\t", 
            RowBox[{"$WebSiteTemplateAttachIDElements", "=", "idtags"}], "\n",
             "\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
           "webSiteTemplatePreProcessAttachIDs"}], "\n", "\t\t\t\t", "]"}], 
         ",", "\n", "\t\t\t", "Identity"}], "\n", "\t\t\t", "]"}], "@", "\n", 
       "\t\t", 
       RowBox[{
        RowBox[{"If", "[", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"TrueQ", "[", "prettyprint", "]"}], "||", "\n", "\t\t\t\t", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"StringQ", "[", "lang", "]"}], "&&", 
             RowBox[{"!", 
              RowBox[{"TrueQ", "[", "highlight", "]"}]}], "&&", 
             RowBox[{"!", 
              RowBox[{"StringQ", "[", "highlight", "]"}]}], "&&", 
             RowBox[{"prettyprint", "=!=", "False"}]}], ")"}]}], ",", "\n", 
          "\t\t\t", 
          RowBox[{
          "webSiteTemplatePreProcessCodeHighlighting", "[", "\n", "\t\t\t\t", 
           
           RowBox[{"\"\<prettyprint\>\"", ",", "\n", "\t\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"StringQ", "@", "lang"}], ",", " ", "lang", ",", " ", 
              "None"}], "]"}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t",
           "Identity"}], "\n", "\t\t\t", "]"}], "@", "\n", "\t\t", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"TrueQ", "[", "highlight", "]"}], ",", "\n", "\t\t\t", 
           RowBox[{
           "webSiteTemplatePreProcessCodeHighlighting", "[", "\n", "\t\t\t\t", 
            RowBox[{"\"\<highlight\>\"", ",", "\n", "\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"StringQ", "@", "lang"}], ",", " ", "lang", ",", " ", 
               "None"}], "]"}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", 
           "\t\t\t", "Identity"}], "\n", "\t\t\t", "]"}], "@", "\n", "\t\t", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"StringQ", "[", "highlight", "]"}], ",", "\n", "\t\t\t", 
            RowBox[{
            "webSiteTemplatePreProcessCodeHighlighting", "[", "\n", 
             "\t\t\t\t", 
             RowBox[{"highlight", ",", "\n", "\t\t\t\t", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"StringQ", "@", "lang"}], ",", " ", "lang", ",", " ", 
                "None"}], "]"}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", 
            "\t\t\t", "Identity"}], "\n", "\t\t\t", "]"}], "@", "\n", "\t\t", 
          
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"TrueQ", "[", "patchfonts", "]"}], ",", "\n", "\t\t\t", 
             "webSiteTemplatePreProcessFonts", ",", "\n", "\t\t\t", 
             "Identity"}], "\n", "\t\t\t", "]"}], "@", "\n", "\t\t", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"TrueQ", "[", "splitout", "]"}], ",", "\n", "\t\t\t", 
              RowBox[{
               RowBox[{"Block", "[", "\n", "\t\t\t\t", 
                RowBox[{
                 RowBox[{"{", "\n", "\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"$WebSiteTemplatePreProcessInOutToken", "=", 
                    RowBox[{"splittags", "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ",", "\n", "\t\t\t\t\t", 
                   RowBox[{"$WebSiteTemplatePreProcessInOutInTag", "=", 
                    RowBox[{"splittags", "[", 
                    RowBox[{"[", "2", "]"}], "]"}]}], ",", "\n", "\t\t\t\t\t", 
                   RowBox[{"$WebSiteTemplatePreProcessInOutOutTag", "=", 
                    RowBox[{"splittags", "[", 
                    RowBox[{"[", "3", "]"}], "]"}]}]}], "\n", "\t\t\t\t\t", 
                  "}"}], ",", "\n", "\t\t\t\t", 
                 RowBox[{"webSiteTemplatePreProcessInOut", "[", "#", "]"}]}], 
                "\n", "\t\t\t\t", "]"}], "&"}], ",", "\n", "\t\t\t", 
              "Identity"}], "\n", "\t\t\t", "]"}], "@", "\n", "\t\t\t", 
            RowBox[{"FirstCase", "[", "\n", "\t\t\t\t", 
             RowBox[{"fileContent", ",", "\n", "\t\t\t\t", 
              RowBox[{
               RowBox[{"XMLElement", "[", 
                RowBox[{"\"\<body\>\"", ",", "_", ",", "b_"}], "]"}], 
               "\[RuleDelayed]", "\n", "\t\t\t\t\t", "b"}], ",", "\n", 
              "\t\t\t\t", "fileContent", ",", "\n", "\t\t\t\t", 
              "\[Infinity]"}], "\n", "\t\t\t\t", "]"}]}]}]}]}]}]}]}]}]}], 
   "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"39426632-35a6-4e48-9891-178d4b9b0160"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplateGatherArgs\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"0ee378b1-f6e1-4da3-af37-8d040809d0fc"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSiteSummaryBaseUnits\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"2b9e8bd8-b1eb-4ab6-ac8a-66d0ac9f5b98"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteSummaryBaseUnits", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
    "\"\<Characters\>\"", ",", "\"\<Words\>\"", ",", "\"\<Characters\>\"", 
     ",", "\n", "\t\t", "\"\<Sentences\>\"", ",", "\"\<Paragraphs\>\"", ",", 
     "\"\<Lines\>\""}], "\n", "\t\t", "}"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"e9ce22bb-0b3c-49a9-b8c4-7fd3901da379"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSiteSummaryIndependentUnits\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"60562844-6420-4add-94ba-825db1429780"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteSummaryIndependentUnits", ":=", "\n", "\t", 
   RowBox[{"$WebSiteSummaryIndependentUnits", "=", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Quantity", "/@", "$WebSiteSummaryBaseUnits"}], "//", 
     "QuantityUnit"}]}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"f63c7b11-61fd-41df-815f-a8b604314d61"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebSiteSummaryUnits\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"70ea7c12-1041-40a0-a06c-55f0f9d4b184"],

Cell[BoxData[
 RowBox[{"$WebSiteSummaryUnits", ":=", "\n", "\t", 
  RowBox[{"$WebSiteSummaryUnits", "=", "\n", "\t\t", 
   RowBox[{"Alternatives", "@@", "\n", "\t\t\t", 
    RowBox[{"Join", "[", 
     RowBox[{
     "$WebSiteSummaryBaseUnits", ",", "$WebSiteSummaryIndependentUnits"}], 
     "]"}]}]}]}]], \
"CodeInput",ExpressionUUID->"74745f7b-97b9-4c96-a481-b67653ce26ca"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteTemplateGatherSummary\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"36ef76b8-b762-4d7c-a882-7190d9fef507"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteTemplateGatherSummary", "[", 
   RowBox[{"len_", ",", " ", "content_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{"sl", ",", "\n", "\t\t\t", "cont"}], "\n", "\t\t\t", "}"}], ",", 
    "\n", "\t\t", 
    RowBox[{
     RowBox[{"sl", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{"len", ",", "\n", "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"i_Integer", "?", "Positive"}], ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"{", 
            RowBox[{"i", ",", " ", "\"\<Characters\>\""}], "}"}]}], ",", "\n",
           "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"_", "[", 
            RowBox[{
             RowBox[{"i_Integer", "?", "Positive"}], ",", " ", 
             RowBox[{"u", ":", 
              RowBox[{"Alternatives", "@@", "$WebSiteSummaryBaseUnits"}]}]}], 
            "]"}], ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"{", 
            RowBox[{"i", ",", " ", "u"}], "}"}]}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"_", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"{", 
            RowBox[{"3", ",", " ", "\"\<Lines\>\""}], "}"}]}]}], "\n", 
         "\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     
     RowBox[{"cont", "=", 
      RowBox[{"ImportString", "[", 
       RowBox[{"content", ",", " ", "\"\<HTML\>\""}], "]"}]}], ";", "\n", 
     "\t\t", 
     RowBox[{"Replace", "[", 
      RowBox[{"sl", ",", "\n", "\t\t\t", 
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"{", "\n", "\t\t\t\t\t", 
           RowBox[{"i_", ",", "\n", "\t", "\t\t\t\t", 
            RowBox[{"\"\<Characters\>\"", "|", 
             RowBox[{"IndependentUnit", "[", "\"\<characters\>\"", "]"}]}]}], 
           "\n", "\t", "\t\t\t\t", "}"}], ":>", "\n", "\t", "\t\t\t\t", 
          RowBox[{
           RowBox[{"Function", "[", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{"If", "[", "\n", "\t", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"StringLength", "[", "#", "]"}], ">", "i"}], ",", "\n",
               "\t", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"StringTake", "[", 
                RowBox[{"#", ",", 
                 RowBox[{"i", "-", "3"}]}], "]"}], "<>", "\"\<...\>\""}], ",",
               "\n", "\t", "\t\t\t\t\t\t", "#"}], "\n", "\t", "\t\t\t\t\t\t", 
             "]"}], "\n", "\t", "\t\t\t\t\t", "]"}], "@", "\n", "\t", 
           "\t\t\t\t\t", 
           RowBox[{"StringReplace", "[", 
            RowBox[{"cont", ",", 
             RowBox[{"Whitespace", "\[Rule]", "\"\< \>\""}]}], "]"}]}]}], ",",
          "\n", "\t", "\t\t\t", 
         RowBox[{
          RowBox[{"{", "\n", "\t", "\t\t\t\t", 
           RowBox[{"i_", ",", "\n", "\t", "\t\t\t\t", 
            RowBox[{"\"\<Lines\>\"", "|", 
             RowBox[{"IndependentUnit", "[", 
              RowBox[{"\"\<lines\>\"", "|", "\"\<lines of code\>\""}], 
              "]"}]}]}], "\n", "\t", "\t\t\t\t", "}"}], ":>", "\n", "\t", 
          "\t\t\t\t", 
          RowBox[{"StringRiffle", "@", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Take", "[", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"StringSplit", "[", 
              RowBox[{"cont", ",", "\"\<\\n\>\""}], "]"}], ",", "\n", "\t", 
             "\t\t\t\t\t\t", 
             RowBox[{"UpTo", "[", "i", "]"}]}], "\n", "\t", "\t\t\t\t\t\t", 
            "]"}]}]}], ",", "\n", "\t", "\t\t\t", 
         RowBox[{
          RowBox[{"{", "\n", "\t", "\t\t\t\t", 
           RowBox[{"i_", ",", "\n", "\t", "\t\t\t\t", 
            RowBox[{
             RowBox[{"IndependentUnit", "[", "t_", "]"}], "|", "t_String"}]}],
            "\n", "\t", "\t\t\t\t", "}"}], ":>", "\n", "\t", "\t\t\t\t", 
          RowBox[{"StringRiffle", "[", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"TextCases", "[", 
             RowBox[{"cont", ",", "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"ToUpperCase", "[", 
                  RowBox[{"StringTake", "[", 
                   RowBox[{"#", ",", "1"}], "]"}], "]"}], "<>", "\n", "\t", 
                 "\t\t\t\t\t\t\t", 
                 RowBox[{"StringDrop", "[", 
                  RowBox[{"#", ",", "1"}], "]"}]}], "&"}], "@", "t"}], ",", 
              "\n", "\t", "\t\t\t\t\t\t", "i"}], "]"}], ",", "\n", "\t", 
            "\t\t\t\t\t", "\"\< \>\""}], "\n", "\t\t\t\t\t\t", "]"}]}]}], 
        "\n", "\t\t\t\t", "}"}]}], "\n", "\t\t", "]"}]}]}], "\n", "\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"44828930-295c-4c18-b64b-5b0446b161b8"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteTemplateGatherArgs\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"5938f6b9-de58-4a92-89ef-c2a0660fa728"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteTemplateGatherArgs", "[", 
   RowBox[{"fileContent_", ",", " ", "args_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
     "url", ",", "\n", "\t\t\t", "slug", ",", "\n", "\t\t\t", "fp", ",", "\n",
       "\t\t\t", "title", ",", "\n", "\t\t\t", "content", ",", "\n", "\t\t\t",
       "summary", ",", "\n", "\t\t\t", "date", ",", "\n", "\t\t\t", 
      "modified", ",", "\n", "\t\t\t", "siteURL", ",", "\n", "\t\t\t", 
      "siteName"}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"url", "=", 
      RowBox[{"Lookup", "[", 
       RowBox[{"args", ",", " ", "\"\<URL\>\""}], "]"}]}], ";", "\n", "\t\t", 
     
     RowBox[{"slug", "=", 
      RowBox[{"Lookup", "[", 
       RowBox[{"args", ",", " ", "\"\<Slug\>\""}], "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"fp", "=", 
      RowBox[{"Lookup", "[", 
       RowBox[{"args", ",", " ", "\"\<FilePath\>\""}], "]"}]}], ";", "\n", 
     "\t\t", 
     RowBox[{"content", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", 
       RowBox[{"fileContent", ",", "\n", "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"l", ":", 
            RowBox[{"{", "__XMLElement", "}"}]}], "\[RuleDelayed]", "\n", 
           "\t\t\t\t\t\t", 
           RowBox[{"StringRiffle", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"WebSiteBuildSafeExportXML", "/@", "l"}], ",", "\n", 
             "\t\t\t\t\t\t\t", "\"\<\\n\>\""}], "\n", "\t\t\t\t\t\t\t", 
            "]"}]}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"x_XMLElement", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"WebSiteBuildSafeExportXML", "[", "x", "]"}]}], ",", "\n", 
          "\t\t\t\t\t", 
          RowBox[{
          "None", "->", "\n", "\t\t\t\t\t\t", 
           "\"\<<html><body>No content...</body><html>\>\""}], ",", "\n", 
          "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"e", ":", 
            RowBox[{"Except", "[", "_String", "]"}]}], ":>", "\n", 
           "\t\t\t\t\t\t", 
           RowBox[{"(", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"WebSiteBuildLogError", "[", 
              RowBox[{"fp", ",", " ", "\"\<BadContent\>\"", ",", " ", "e"}], 
              "]"}], ";", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"PackageThrowMessage", "[", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"\"\<SiteBuilder\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"Evaluate", "@", 
                RowBox[{"WebSiteBuild", "::", "nocnt"}]}], ",", "\n", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{"\"\<MessageParameters\>\"", "\[RuleDelayed]", 
                RowBox[{"{", 
                 RowBox[{"Short", "[", "e", "]"}], "}"}]}]}], "\n", 
              "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t", ")"}]}]}], 
         "\n", "\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", 
     "\t\t", 
     RowBox[{"title", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"FirstCase", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"StringQ", "[", "fileContent", "]"}], ",", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"ImportString", "[", 
             RowBox[{"fileContent", ",", " ", 
              RowBox[{"{", 
               RowBox[{"\"\<HTML\>\"", ",", " ", "\"\<XMLObject\>\""}], 
               "}"}]}], "]"}], ",", "\n", "\t\t\t\t\t\t", "fileContent"}], 
           "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"t", ":", 
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<title\>\"", ",", " ", "_", ",", " ", "_"}], "]"}]}],
            "\[RuleDelayed]", "\n", "\t\t\t\t\t\t", 
           RowBox[{
           "System`Convert`XMLDump`getSymbolicXMLPlaintext", "@", "\n", 
            "\t\t\t\t\t\t\t", 
            RowBox[{"XMLElement", "[", 
             RowBox[{"\"\<body\>\"", ",", 
              RowBox[{"{", "}"}], ",", " ", "t"}], "]"}]}]}], ",", "\n", 
          "\t\t\t\t\t", "None", ",", "\n", "\t\t\t\t\t", "\[Infinity]"}], 
         "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"Except", "[", "_String", "]"}], "\[Rule]", "\n", 
           "\t\t\t\t\t\t", "None"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"s_String", "\[RuleDelayed]", "\n", "\t\t\t\t\t\t", "s"}]}],
          "\n", "\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", 
     "\t\t", 
     RowBox[{"summary", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Lookup", "[", 
         RowBox[{"args", ",", " ", "\"\<Summary\>\""}], "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{
         RowBox[{"Except", "[", 
          RowBox[{"_String", "?", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"StringLength", "[", "#", "]"}], ">", "0"}], "&"}], 
            ")"}]}], "]"}], ":>", "\n", "\t\t\t\t\t", 
         RowBox[{"webSiteTemplateGatherSummary", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Lookup", "[", 
            RowBox[{"args", ",", " ", "\"\<SummaryLength\>\""}], "]"}], ",", 
           "\n", "\t\t\t\t\t\t", "content"}], "\n", "\t\t\t\t\t\t", "]"}]}]}],
        "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"date", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Lookup", "[", 
         RowBox[{"args", ",", "\"\<Date\>\"", ",", "Now"}], "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"s_String", "\[RuleDelayed]", 
         RowBox[{"Quiet", "@", 
          RowBox[{"Check", "[", 
           RowBox[{
            RowBox[{"DateObject", "[", "s", "]"}], ",", " ", "s"}], 
           "]"}]}]}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"modified", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Lookup", "[", 
         RowBox[{"args", ",", "\"\<Modified\>\"", ",", "Now"}], "]"}], ",", 
        "\n", "\t\t\t\t", 
        RowBox[{"s_String", "\[RuleDelayed]", 
         RowBox[{"Quiet", "@", 
          RowBox[{"Check", "[", 
           RowBox[{
            RowBox[{"DateObject", "[", "s", "]"}], ",", " ", "s"}], 
           "]"}]}]}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"siteURL", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Lookup", "[", 
         RowBox[{"args", ",", " ", "\"\<SiteURL\>\"", ",", " ", "Automatic"}],
          "]"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{"bit", "=", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"Length", "@", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Lookup", "[", 
                 RowBox[{
                 "args", ",", " ", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  "\"\<URL\>\"", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"FileNameSplit", "@", 
                   RowBox[{"Lookup", "[", 
                    RowBox[{
                    "args", ",", " ", "\"\<FilePath\>\"", ",", " ", 
                    "\"\<??\>\""}], "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 "]"}], ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"s_String", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"URLParse", "[", 
                  RowBox[{"s", ",", "\"\<Path\>\""}], "]"}]}]}], "\n", 
               "\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t", "}"}], 
           ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"bit", ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"1", "\[Rule]", "\"\<.\>\""}], ",", "\n", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{"n_", ":>", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"URLBuild", "@", 
                 RowBox[{"ConstantArray", "[", 
                  RowBox[{"\"\<..\>\"", ",", " ", 
                   RowBox[{"n", "-", "1"}]}], "]"}]}]}]}], "\n", 
              "\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], 
          "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], ";", 
     "\n", "\t\t", 
     RowBox[{"siteName", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Lookup", "[", 
         RowBox[{"args", ",", "\"\<SiteName\>\"", ",", "Automatic"}], "]"}], 
        ",", "\n", "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"s_String", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"URLParse", "[", 
             RowBox[{"s", ",", "\"\<Path\>\""}], "]"}], "[", 
            RowBox[{"[", 
             RowBox[{"-", "1"}], "]"}], "]"}]}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Except", "[", "_String", "]"}], ":>", "\n", 
           "\t\t\t\t\t\t", 
           RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Lookup", "[", 
              RowBox[{"args", ",", " ", "\"\<SiteURL\>\""}], "]"}], ",", "\n",
              "\t\t\t\t\t\t\t", 
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"s_String", ":>", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"URLParse", "[", 
                  RowBox[{"s", ",", "\"\<Path\>\""}], "]"}], "[", 
                 RowBox[{"[", 
                  RowBox[{"-", "1"}], "]"}], "]"}]}], ",", "\n", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Except", "[", "_String", "]"}], ":>", "\n", 
                "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"Replace", "[", 
                 RowBox[{
                  RowBox[{"Lookup", "[", 
                   RowBox[{"args", ",", " ", "\"\<SiteDirectory\>\""}], "]"}],
                   ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"Except", "[", "_String", "]"}], ":>", "\n", 
                   "\t\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"Replace", "[", 
                    RowBox[{"$WolframID", ",", 
                    RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "s_String", ":>", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"StringSplit", "[", 
                    RowBox[{"s", ",", "\"\<@\>\""}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ",", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"_", "\[Rule]", "$UserName"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], "]"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t", 
              "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t", 
         "}"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"Merge", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{"args", ",", "\n", "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"StringQ", "@", "title"}], ",", " ", 
           RowBox[{"\"\<Title\>\"", "->", "title"}], ",", " ", "Nothing"}], 
          "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"\"\<Summary\>\"", "\[Rule]", "summary"}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"\"\<Date\>\"", "->", "date"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"\"\<Modified\>\"", "\[Rule]", "modified"}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"\"\<SiteName\>\"", "\[Rule]", "siteName"}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"\"\<SiteURL\>\"", "\[Rule]", "siteURL"}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"Which", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"StringQ", "@", "url"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"\"\<URL\>\"", "\[Rule]", 
            RowBox[{
             RowBox[{"StringReplace", "[", 
              RowBox[{"Whitespace", "\[Rule]", "\"\<-\>\""}], "]"}], "@", 
             "url"}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"StringQ", "@", "slug"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"\"\<URL\>\"", "->", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"StringReplace", "[", 
              RowBox[{"Whitespace", "\[Rule]", "\"\<-\>\""}], "]"}], "@", 
             "\n", "\t\t\t\t\t\t\t  ", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"StringQ", "[", "fp", "]"}], ",", "\n", "  ", "\t", 
               "\t\t\t\t\t\t\t", 
               RowBox[{"URLBuild", "@", "\n", "  \t\t\t\t\t\t\t\t\t", 
                RowBox[{"Append", "[", "\n", "                  ", 
                 RowBox[{
                  RowBox[{"Most", "@", 
                   RowBox[{"FileNameSplit", "[", "fp", "]"}]}], ",", " ", 
                  "\n", "                  ", 
                  RowBox[{"WebSiteBuildAttachExtension", "@", "slug"}]}], 
                 "\n", "                  ", "]"}]}], ",", "\n", 
               "  \t\t\t\t\t\t\t\t", 
               RowBox[{"WebSiteBuildAttachExtension", "@", "slug"}]}], "\n", 
              "  ", "\t\t\t\t\t\t\t\t", "]"}]}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"StringQ", "@", "title"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"\"\<URL\>\"", "->", "\n", "\t\t\t\t\t\t  ", 
            RowBox[{
             RowBox[{"StringReplace", "[", 
              RowBox[{"Whitespace", "\[Rule]", "\"\<-\>\""}], "]"}], "@", 
             "\n", "  ", "\t\t\t\t\t\t  ", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"StringQ", "[", "fp", "]"}], ",", "\n", "  ", "\t", 
               "\t\t\t\t\t\t\t", 
               RowBox[{"URLBuild", "@", "\n", "  ", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"Append", "[", "\n", "  ", "\t              ", 
                 RowBox[{
                  RowBox[{"Most", "@", 
                   RowBox[{"FileNameSplit", "[", "fp", "]"}]}], ",", "\n", 
                  "  ", "\t              ", 
                  RowBox[{"WebSiteBuildAttachExtension", "@", "title"}]}], 
                 "\n", "  ", "\t              ", "]"}]}], ",", "\n", "  ", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{"WebSiteBuildAttachExtension", "@", "title"}]}], "\n", 
              "  ", "\t\t\t\t\t\t\t\t", "]"}]}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"StringQ", "[", "fp", "]"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"\"\<URL\>\"", "->", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"URLBuild", "@", "\n", "\t\t\t\t\t\t\t  ", 
             RowBox[{
              RowBox[{"StringReplace", "[", 
               RowBox[{"Whitespace", "\[Rule]", "\"\<-\>\""}], "]"}], "@", 
              "\n", "\t\t\t\t\t\t\t\t  ", 
              RowBox[{"Append", "[", "\n", "\t\t\t\t\t\t\t\t    ", 
               RowBox[{
                RowBox[{"Most", "@", 
                 RowBox[{"FileNameSplit", "[", "fp", "]"}]}], ",", " ", "\n", 
                "  ", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"WebSiteBuildAttachExtension", "@", 
                 RowBox[{"FileNameTake", "@", "fp"}]}]}], "\n", 
               "                ", "]"}]}]}]}], ",", "\n", "\t\t\t\t\t", 
           "True", ",", "\t", "\n", "\t\t\t\t\t\t", "Nothing"}], "\n", 
          "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"\"\<Content\>\"", "->", "\n", "\t\t\t\t\t", "content"}], 
         ",", "\n", "\t\t\t\t", 
         RowBox[{
         "\"\<RawXML\>\"", "->", "\n", "\t\t\t\t\t", "fileContent"}]}], "\n", 
        "\t\t\t\t", "}"}], ",", "\n", "\t\t\t", "Last"}], "\n", "\t", "\t\t", 
      "]"}]}]}], "\n", "\t", "\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"9afb7c00-f551-441d-9571-181a56a95eb1"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplateApply\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712538068908094*^9, 3.712538071089961*^9}, {
  3.712682964322591*^9, 
  3.7126829648491917`*^9}},ExpressionUUID->"3e5000b5-9f87-4680-b851-\
2095d34b7e8a"],

Cell[BoxData[
 RowBox[{"WebSiteTemplateApply", "//", "ClearAll"}]], "CodeInput",
 CellChangeTimes->{{3.712597244415457*^9, 3.712597249303433*^9}, 
   3.712674844639879*^9},ExpressionUUID->"3f798884-1964-4221-8bd9-\
bfd3d76c80b2"],

Cell["\<\
\[LeftCeiling]
\tIteratively apply templates to the provided content, unwrapping from or \
reexporting to XML as necessary. Generally only one template will be used and \
imports will be handled within the template.
\[RightFloor]\
\>", "Text",
 Evaluatable->True,
 CellChangeTimes->{{3.712626047703267*^9, 3.71262609854807*^9}, {
  3.723039315773836*^9, 
  3.723039322445921*^9}},ExpressionUUID->"afc23241-d083-4faf-98fc-\
17e255647be8"],

Cell[BoxData[
 RowBox[{
  RowBox[{"getApplicationTemplate", "[", 
   RowBox[{"root_", ",", " ", "name_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"With", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{"dp", "=", "\n", "\t\t\t\t\t", 
        RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{"FileNameJoin", "@*", "FileNameSplit"}], ",", "\n", 
          "\t\t\t\t\t\t", 
          RowBox[{"Append", "[", 
           RowBox[{"root", ",", " ", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "$WebSiteTemplateLibDirectory", ",", " ", "\"\<templates\>\""}],
               "}"}]}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", 
         "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "}"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"SortBy", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"FileNames", "[", 
         RowBox[{"name", ",", " ", "dp"}], "]"}], ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"Position", "[", 
          RowBox[{"dp", ",", " ", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"FileNameSplit", "@", 
             RowBox[{"DirectoryName", "@", "#"}]}]}]}], "]"}], "&"}]}], "\n", 
       "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"f_", ",", " ", "___"}], "}"}], "\[RuleDelayed]", "f"}], "\n", 
     "\t\t\t", "}"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"bf13f559-18f7-435e-bbdb-56df2bc72188"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "nocnt"}], "=", "\n", "\t", 
   "\"\<Can't export content `` to string\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteTemplateApply", "[", "\n", "\t", 
   RowBox[{
    RowBox[{"root", ":", 
     RowBox[{
      RowBox[{"_String", "?", "DirectoryQ"}], "|", 
      RowBox[{"{", 
       RowBox[{"__String", "?", "DirectoryQ"}], "}"}]}]}], ",", "\n", "\t", 
    RowBox[{"content", ":", 
     RowBox[{"_String", "|", "_File", "|", "None"}]}], ",", "\n", "\t", 
    RowBox[{"templates", ":", 
     RowBox[{
      RowBox[{"{", "__String", "}"}], "|", "_String"}]}], ",", "\n", "\t", 
    RowBox[{"info", ":", 
     RowBox[{"_", "?", "AssociationQ"}], ":", 
     RowBox[{"<|", "|>"}]}]}], "\n", "\t", "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"AssociationQ", "@", "$WebSiteBuildContentStack"}], ",", "\n", 
    "\t\t", 
    RowBox[{"Module", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
       "cname", ",", "\n", "\t\t\t\t", "fils", ",", "\n", "\t\t\t\t", 
        "args"}], "\n", "\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{"cname", "=", 
        RowBox[{"webSitePrepContentName", "[", 
         RowBox[{"content", ",", " ", "root"}], "]"}]}], ";", "\n", 
       "\t\t\t\t", 
       RowBox[{"fils", "=", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"getApplicationTemplate", "[", 
            RowBox[{"root", ",", " ", "#"}], "]"}], "&"}], "/@", "\n", 
          "\t\t\t\t\t\t", 
          RowBox[{"Flatten", "@", 
           RowBox[{"List", "@", "templates"}]}]}], "//", "Flatten"}]}], ";", 
       "\n", "\t\t\t", 
       RowBox[{"args", "=", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"MemberQ", "[", 
             RowBox[{
              RowBox[{"Lookup", "[", 
               RowBox[{"#", ",", " ", "\"\<Templates\>\"", ",", " ", 
                RowBox[{"{", "}"}]}], "]"}], ",", " ", 
              "\"\<article.html\>\""}], "]"}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{"Merge", "[", 
             RowBox[{
              RowBox[{"{", "\n", "\t\t\t\t\t\t", 
               RowBox[{"#", ",", "\n", "\t\t\t\t\t\t", 
                RowBox[{"\"\<Categories\>\"", "\[Rule]", 
                 RowBox[{"{", "\"\<misc\>\"", "}"}]}]}], "\n", "\t\t\t\t\t\t",
                "}"}], ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"Replace", "[", 
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"l_List", ",", "l2_List"}], "}"}], ":>", "\n", 
                  "\t\t\t\t\t\t\t\t", 
                  RowBox[{"DeleteDuplicates", "@", 
                   RowBox[{"Flatten", "@", 
                    RowBox[{"{", 
                    RowBox[{"l", ",", "l2"}], "}"}]}]}]}], ",", "\n", 
                 "\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"{", "e_", "}"}], "\[RuleDelayed]", "e"}]}], "\n", 
                "\t\t\t\t\t\t\t", "}"}], "]"}]}], "\n", "\t\t\t\t\t\t", "]"}],
             ",", "\n", "\t\t\t\t\t", "#"}], "\n", "\t\t\t\t\t", "]"}], "&"}],
          "@", "\n", "\t\t\t\t", 
         RowBox[{"Merge", "[", 
          RowBox[{"(*", " ", 
           RowBox[{
           "Collect", " ", "the", " ", "arguments", " ", "to", " ", "pass", 
            " ", "to", " ", "the", " ", "template"}], " ", "*)"}], "\n", 
          "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{"$WebSiteBuildAggStack", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"\"\<Templates\>\"", "\[Rule]", 
              RowBox[{"Flatten", "@", 
               RowBox[{"{", "templates", "}"}]}]}], ",", "\n", "\t\t\t\t\t\t",
              "info", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"(*", " ", 
              RowBox[{"Include", " ", "extracted", " ", "attributes"}], " ", 
              "*)"}], "\n", "\t\t\t\t\t\t", 
             RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                "$WebSiteBuildContentStack", ",", " ", "\n", 
                 "\t\t\t\t\t\t\t\t", "cname", ",", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{"<|", "|>"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}], ",",
                "\n", "\t\t\t\t\t\t\t", "\"\<Attributes\>\"", ",", "\n", 
               "\t\t\t\t\t\t\t", 
               RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", 
            "\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t", "Last"}], "\n", 
          "\t\t\t\t\t", "]"}]}]}], ";", "\n", "\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{"Allows", " ", "for", " ", "custom", " ", "slugs"}], " ", 
        "*)"}], "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"Lookup", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Fold", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{"Lookup", "[", 
              RowBox[{"#", ",", " ", "#2", ",", " ", 
               RowBox[{"<|", "|>"}]}], "]"}], "&"}], ",", "\n", "\t\t\t\t\t", 
            "$WebSiteBuildContentStack", ",", "\n", "\t\t\t\t\t", 
            RowBox[{"{", 
             RowBox[{"cname", ",", " ", "\"\<Attributes\>\""}], "}"}]}], "\n",
            "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", "\"\<Slug\>\"", ",", 
          "\n", "\t\t\t\t", "Automatic"}], "\n", "\t\t\t\t", "]"}], "->", 
        "\n", "\t\t\t\t", 
        RowBox[{"Fold", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"WebSiteXMLTemplateApply", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
            "root", ",", "\n", "\t\t\t\t\t\t", "#2", ",", "\n", 
             "\t\t\t\t\t\t", 
             RowBox[{"WebSiteTemplateGatherArgs", "[", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"#", ",", "\n", "\t\t\t\t\t\t\t", "args"}], "\n", 
              "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}], "&"}], 
          ",", "\n", "\t\t\t\t\t", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"cname", "=!=", "None"}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"$WebSiteBuildContentStack", "[", 
             RowBox[{"cname", ",", " ", "\"\<Content\>\""}], "]"}], ",", "\n",
             "\t\t\t\t\t\t", "None"}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n",
           "\t\t\t\t\t", "fils"}], "\n", "\t\t\t\t\t", "]"}]}]}]}], "\n", 
     "\t\t\t\t", "]"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"PackageThrowMessage", "[", "\n", "\t\t\t", 
      RowBox[{"Automatic", ",", "\n", "\t\t\t", 
       RowBox[{"Evaluate", "[", 
        RowBox[{"WebSiteBuild", "::", "nost"}], "]"}]}], "\n", "\t\t\t", 
      "]"}], ";", "\n", "\t\t", "$Failed"}]}], "\n", "\t\t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"dd4b79e7-8f87-4a79-ab61-d530d6486cd5"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplateExport\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"988696ff-af3f-472a-b632-109dd1b1eb6b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteTEAutoConfig", "[", "\n", "\t", 
   RowBox[{
   "failinput_", ",", "\n", "\t", "fout_", ",", "\n", "\t", "root_", ",", 
    "\n", "\t", "content_", ",", "\n", "\t", "templates_", ",", "\n", "\t", 
    "config_"}], "\n", "\t", "]"}], ":=", "\n", "\t", 
  RowBox[{"Join", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"<|", "\n", "\t\t\t", 
     RowBox[{"\"\<FilePath\>\"", "\[Rule]", "\n", "\t\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
       RowBox[{
        RowBox[{"SelectFirst", "[", 
         RowBox[{"root", ",", " ", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"StringStartsQ", "[", 
            RowBox[{"fout", ",", " ", "#"}], "]"}], "&"}]}], "\n", 
         "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{"f_String", ":>", 
           RowBox[{"FileNameDrop", "[", 
            RowBox[{"fout", ",", " ", 
             RowBox[{
              RowBox[{"FileNameDepth", "[", "f", "]"}], "+", "1"}]}], "]"}]}],
           ",", "\n", "\t\t\t\t\t\t", 
          RowBox[{"_", "\[RuleDelayed]", 
           RowBox[{
            RowBox[{"StringSplit", "[", 
             RowBox[{"fout", ",", " ", "\"\<output\>\""}], "]"}], "[", 
            RowBox[{"[", 
             RowBox[{"-", "1"}], "]"}], "]"}]}]}], "\n", "\t\t\t\t\t\t", 
         "}"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t", "|>"}], ",", 
    "\n", "\t\t", "config"}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"80e92617-a9cf-4d49-951a-614274f9c553"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteTemplateExport", "[", "\n", "\t", 
    RowBox[{
    "failinput_", ",", "\n", "\t", "fout_", ",", "\n", "\t", "root_", ",", 
     "\n", "\t", "content_", ",", "\n", "\t", "templates_", ",", "\n", "\t", 
     "config_"}], "\n", "\t", "]"}], ":=", "\t", "\n", "\t", 
   RowBox[{"Replace", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"WebSiteTemplateApply", "[", "\n", "\t\t\t", 
      RowBox[{
      "root", ",", "\n", "\t\t\t", "content", ",", "\n", "\t\t\t", 
       "templates", ",", "\n", "\t\t\t", 
       RowBox[{"webSiteTEAutoConfig", "[", "\n", "\t\t\t\t", 
        RowBox[{
        "failinput", ",", " ", "fout", ",", " ", "root", ",", " ", "\n", 
         "\t\t\t\t", "content", ",", " ", "templates", ",", " ", "config"}], 
        "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"f_", "->", "html_String"}], ")"}], ":>", "\n", "\t\t\t\t", 
        RowBox[{"With", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"{", "\n", "\t\t\t\t\t\t", 
           RowBox[{"fil", "=", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"Replace", "[", 
             RowBox[{"f", ",", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"WebSiteBuildAttachExtension", "@", "fout"}]}], ",", 
                "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"s_String", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                 "FileNameJoin", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Append", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"Most", "@", 
                    RowBox[{"FileNameSplit", "[", "fout", "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"WebSiteBuildAttachExtension", "@", "s"}]}], "\n",
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}]}], "\n", 
               "\t\t\t\t\t\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t\t\t\t\t\t\t",
            "}"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"If", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{"!", 
              RowBox[{"FileExistsQ", "[", "fil", "]"}]}], "||", 
             RowBox[{"(*", " ", 
              RowBox[{
              "to", " ", "preserve", " ", "the", " ", "modification", " ", 
               "date"}], " ", "*)"}], "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"(", "\n", "\t\t\t\t\t\t\t  ", 
              RowBox[{"html", "=!=", 
               RowBox[{"Quiet", "[", 
                RowBox[{"ReadString", "[", "fil", "]"}], "]"}]}], "\n", 
              "\t\t\t\t\t\t\t    ", 
              RowBox[{"(*", 
               RowBox[{
                RowBox[{
                 RowBox[{
                 "System`Convert`TextDump`PlaintextImport", "[", "fil", "]"}],
                  "[", 
                 RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "*)"}], "\n", 
              "\t\t\t\t\t\t\t  ", ")"}]}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Quiet", "@", 
              RowBox[{"Close", "[", "fil", "]"}]}], ";", "\n", "\t\t\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"!", 
                RowBox[{"DirectoryQ", "@", 
                 RowBox[{"DirectoryName", "[", "fil", "]"}]}]}], ",", "\n", 
               "\t\t\t\t\t\t\t", 
               RowBox[{"CreateDirectory", "[", 
                RowBox[{
                 RowBox[{"DirectoryName", "[", "fil", "]"}], ",", " ", 
                 RowBox[{
                 "CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
                "]"}]}], "\n", "\t\t\t\t\t\t\t", "]"}], ";", "\n", 
             "\t\t\t\t\t\t", 
             RowBox[{"Export", "[", 
              RowBox[{"fil", ",", " ", "html", ",", " ", "\"\<Text\>\""}], 
              "]"}]}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", 
         "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"e_", ":>", "\n", "\t\t\t\t", 
        RowBox[{"(", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"WebSiteBuildLogError", "[", 
           RowBox[{
           "failinput", ",", " ", "\"\<GenerationFailed\>\"", ",", " ", "e"}],
            "]"}], ";", " ", "\n", "\t\t\t\t\t", 
          RowBox[{"Message", "[", 
           RowBox[{
            RowBox[{"WebSiteBuild", "::", "genfl"}], ",", " ", "failinput"}], 
           "]"}], ";", "$Failed"}], "\n", "\t\t\t\t\t", ")"}]}]}], "\n", 
      "\t\t\t", "}"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"81b75678-710a-4fc3-af19-38b6a9e8d4f4"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]TemplateExportPaginated\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.723297611292035*^9, 
  3.7232976176106663`*^9}},ExpressionUUID->"d51c92ee-41bf-4121-91fa-\
1161efa04300"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteTemplateExportPaginated", "]"}], "=", "\n",
    "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<PageSize\>\"", "\[Rule]", "0"}], ",", "\n", "\t\t", 
     RowBox[{"Monitor", "\[Rule]", "True"}]}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteTemplateExportPaginated", "[", "\n", "\t", 
    RowBox[{
    "failInput_", ",", "\n", "\t", "baseName_", ",", "\n", "\t", "dir_", ",", 
     " ", "outDir_", ",", "\n", "\t", "root_", ",", "\n", "\t", "content_", 
     ",", "\n", "\t", "templates_", ",", "\n", "\t", "config_", ",", "\n", 
     "\t", "articles_", ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Block", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"pageSize", "=", "\n", "\t\t\t\t", 
        RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}]}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"page", "=", "\"\<\>\""}]}], "\n", "\t\t\t", "}"}], ",", "\n", 
     "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"TrueQ", "@", 
          RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", " ", "Monitor",
          ",", " ", 
         RowBox[{"#", "&"}]}], "]"}], "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"IntegerQ", "[", "pageSize", "]"}], "&&", 
            RowBox[{"pageSize", ">", "0"}], "&&", "\n", "\t\t\t\t\t", 
            RowBox[{"MemberQ", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"\"\<html\>\"", ",", " ", "\"\<\>\""}], "}"}], ",", 
              " ", 
              RowBox[{"FileExtension", "[", "baseName", "]"}]}], "]"}]}], ",",
            "\n", "\t\t\t\t\t", 
           RowBox[{"Table", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"WebSiteTemplateExport", "[", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"failInput", "<>", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"i", ">", "1"}], ",", " ", 
                  RowBox[{"\"\<, page \>\"", "<>", 
                   RowBox[{"ToString", "[", "i", "]"}]}], ",", " ", 
                  "\"\<\>\""}], "]"}]}], ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{"dir", ",", " ", "\n", "\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"StringTrim", "[", 
                    RowBox[{"baseName", ",", " ", "\"\<.html\>\""}], "]"}], "<>",
                    "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"i", ">", "1"}], ",", " ", 
                    RowBox[{"ToString", "[", "i", "]"}], ",", " ", 
                    "\"\<\>\""}], "]"}], "<>", "\"\<.html\>\""}]}], "\n", 
                 "\t\t\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t\t\t\t\t\t\t", 
               "root", ",", "\n", "\t\t\t\t\t\t\t", "None", ",", "\n", 
               "\t\t\t\t\t\t\t", "templates", ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"config", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<URL\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Set", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"page", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{
                    "FileNameDrop", "[", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "dir", ",", " ", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"baseName", "<>", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"i", ">", "1"}], ",", " ", 
                    RowBox[{"ToString", "[", "i", "]"}], ",", " ", 
                    "\"\<\>\""}], "]"}], "<>", "\"\<.html\>\""}]}], "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], ",", 
                    "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDepth", "[", "outDir", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<IndexListing\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Take", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "articles", ",", " ", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"1", "+", 
                    RowBox[{"pageSize", "*", 
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}]}]}], ",", " ", 
                    RowBox[{"UpTo", "[", 
                    RowBox[{"pageSize", "*", "i"}], "]"}]}], "}"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"\"\<PaginationCurrent\>\"", "\[Rule]", "i"}], ",",
                    "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<PaginationCount\>\"", "\[Rule]", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Ceiling", "[", 
                    RowBox[{
                    RowBox[{"Length", "[", "articles", "]"}], "/", 
                    "pageSize"}], "]"}]}], ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<PaginationPageSize\>\"", "\[Rule]", "pageSize"}], ",",
                    "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<PaginationPreviousURL\>\"", "->", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"i", ">", "1"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{
                    "FileNameDrop", "[", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "dir", ",", " ", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"baseName", "<>", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"i", "-", "1"}], ">", "1"}], ",", " ", 
                    RowBox[{"ToString", "[", 
                    RowBox[{"i", "-", "1"}], "]"}], ",", " ", "\"\<\>\""}], 
                    "]"}], "<>", "\"\<.html\>\""}]}], "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t", 
                    "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDepth", "[", "outDir", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "None"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "\"\<PaginationNextURL\>\"", "->", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"i", "<", 
                    RowBox[{"Ceiling", "[", 
                    RowBox[{
                    RowBox[{"Length", "[", "articles", "]"}], "/", 
                    "pageSize"}], "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{
                    "FileNameDrop", "[", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "dir", ",", " ", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"baseName", "<>", 
                    RowBox[{"ToString", "[", 
                    RowBox[{"i", "+", "1"}], "]"}], "<>", "\"\<.html\>\""}]}],
                     "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDepth", "[", "outDir", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "None"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                  "\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                 "Last"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
              "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"{", 
              RowBox[{"i", ",", " ", 
               RowBox[{"Ceiling", "[", 
                RowBox[{
                 RowBox[{"Length", "[", "articles", "]"}], "/", "pageSize"}], 
                "]"}]}], "}"}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"WebSiteTemplateExport", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{"failInput", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"dir", ",", " ", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"WebSiteBuildAttachExtension", "@", "baseName"}]}], 
               "\n", "\t\t\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t\t\t\t\t\t", 
             "root", ",", "\n", "\t\t\t\t\t\t", "None", ",", "\n", 
             "\t\t\t\t\t\t", "templates", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Merge", "[", "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"config", ",", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                 "\"\<IndexListing\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t", 
                  "articles"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{"\"\<URL\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Set", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"page", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "FileNameDrop", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "dir", ",", " ", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildAttachExtension", "@", "baseName"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDepth", "[", "outDir", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
               "Last"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
            "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";"}], ",", 
        "\n", "\t\t\t\t", 
        RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t\t", 
         RowBox[{"TemplateApply", "[", 
          RowBox[{"\"\<Generating ``\>\"", ",", " ", "page"}], "]"}]}]}], 
       "\n", "\t\t\t\t", "]"}], ";"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"1a50264f-08ee-49e3-b080-637eddcc6e77"]\

}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]ImportMeta\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712582203353249*^9, 
  3.712582212388088*^9}},ExpressionUUID->"5d77e8d7-bf4f-4e18-b4c6-\
0ab80161e99e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"prepMetaContent", "[", 
   RowBox[{"n_", ",", " ", "c_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"n", "->", "\n", "\t\t", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"MemberQ", "[", 
       RowBox[{"$DefaultWebSiteAggregationTypes", ",", " ", "n"}], "]"}], "||",
       "\n", "\t", "\t\t", 
      RowBox[{"StringContainsQ", "[", 
       RowBox[{"c", ",", " ", "\n", "\t", "\t\t\t", 
        RowBox[{"Repeated", "[", "\n", "\t", "\t\t\t\t", 
         RowBox[{
          RowBox[{"__", "~~", 
           RowBox[{"Except", "[", 
            RowBox[{"WhitespaceCharacter", "|", "\"\<,\>\""}], "]"}], "~~", 
           "\"\<,\>\"", "~~", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Except", "[", 
            RowBox[{"WhitespaceCharacter", "|", "\"\<,\>\""}], "]"}]}], ",", 
          "\n", "\t", "\t\t\t\t", 
          RowBox[{"{", "2", "}"}]}], "\n", "\t", "\t\t\t\t", "]"}]}], "\n", 
       "\t", "\t\t\t", "]"}], "||", "\n", "\t", "\t\t", 
      RowBox[{"StringMatchQ", "[", 
       RowBox[{"c", ",", " ", "\n", "\t", "\t\t\t", 
        RowBox[{
         RowBox[{"WordCharacter", ".."}], "~~", 
         RowBox[{"Except", "[", 
          RowBox[{"WhitespaceCharacter", "|", "\"\<,\>\""}], "]"}], "~~", 
         "\"\<,\>\"", "~~", "\n", "\t", "\t\t\t\t", 
         RowBox[{"Except", "[", 
          RowBox[{"WhitespaceCharacter", "|", "\"\<,\>\""}], "]"}], "~~", 
         RowBox[{"WordCharacter", ".."}]}]}], "\n", "\t", "\t\t\t", "]"}]}], 
     ",", "\n", "\t", "\t\t", 
     RowBox[{"StringTrim", "@", 
      RowBox[{"StringSplit", "[", 
       RowBox[{"c", ",", "\"\<,\>\""}], "]"}]}], ",", "\n", "\t", "\t\t", 
     "c"}], "\n", "\t", "\t\t", 
    "]"}]}]}]], \
"CodeInput",ExpressionUUID->"85afb9be-ad1f-4711-90e8-77cf41d2838c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteImportMeta", "[", 
    RowBox[{"xml", ":", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"XMLObject", "[", "___", "]"}], "[", "___", "]"}], "|", 
       RowBox[{"XMLElement", "[", 
        RowBox[{"\"\<html\>\"", ",", "___"}], "]"}]}], ")"}]}], "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"WebSiteImportMeta", "/@", "\n", "\t\t", 
    RowBox[{"Cases", "[", 
     RowBox[{"xml", ",", "\n", "\t", "\t\t", 
      RowBox[{"XMLElement", "[", 
       RowBox[{"\"\<meta\>\"", ",", "__"}], "]"}], ",", "\n", "\t\t\t", 
      "\[Infinity]"}], "\n", "\t\t\t", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteImportMeta", "[", 
    RowBox[{"XMLElement", "[", 
     RowBox[{"\"\<meta\>\"", ",", "info_", ",", "_"}], "]"}], "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"Replace", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Lookup", "[", 
      RowBox[{"info", ",", " ", 
       RowBox[{"{", 
        RowBox[{"\"\<name\>\"", ",", " ", "\"\<content\>\""}], "}"}], ",", 
       " ", "Nothing"}], "]"}], ",", "\n", "\t\t", 
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"n_", ",", "c_"}], "}"}], "\[RuleDelayed]", "\n", "\t", 
        "\t\t\t", 
        RowBox[{"prepMetaContent", "[", 
         RowBox[{"n", ",", " ", "c"}], "]"}]}], ",", "\n", "\t", "\t\t", 
       RowBox[{"_", "\[Rule]", "Nothing"}]}], "\n", "\t\t\t", "}"}]}], "\n", 
    "\t\t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"62b1a2ef-454a-4993-a68f-06bfd59729e9"]\

}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]ContentStackPrep\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.723325303136363*^9, 
  3.723325305307074*^9}},ExpressionUUID->"5c856d61-8270-47d4-bd50-\
a25a961fdf47"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteContentStackPrep", "]"}], "=", "\n", "\t", 
   
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{"\"\<ContentSortingFunction\>\"", "\[Rule]", "None"}], "\n", 
    "\t\t", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteContentStackPrep", "[", 
   RowBox[{"ops", ":", 
    RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{"sort", "=", 
      RowBox[{"OptionValue", "[", "\"\<ContentSortingFunction\>\"", "]"}]}], 
     "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"AssociationQ", "@", "$WebSiteBuildContentStack"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"sort", "=!=", "None"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"a", "=", 
             RowBox[{"SortBy", "[", 
              RowBox[{"$WebSiteBuildContentStack", ",", " ", "sort"}], 
              "]"}]}], "}"}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"AssociationQ", "@", "a"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"$WebSiteBuildContentStack", "=", "a"}]}], "\n", 
            "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
        "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
       RowBox[{"$WebSiteBuildContentDataStack", "=", "\n", "\t", "\t\t\t", 
        RowBox[{"Association", "@", "\n", "\t", "\t\t\t\t", 
         RowBox[{"Map", "[", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"#", "[", 
              RowBox[{"\"\<Attributes\>\"", ",", " ", "\"\<URL\>\""}], "]"}], 
             "->", "#"}], "&"}], ",", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Values", "@", "$WebSiteBuildContentStack"}]}], "\n", "\t",
           "\t\t\t\t\t", "]"}]}]}], ";", "\n", "\t", "\t\t", 
       RowBox[{"$WebSiteBuildAggStack", "=", "\n", "\t", "\t\t\t", 
        RowBox[{"<|", "\n", "\t", "\t\t\t\t", 
         RowBox[{"(*", " ", 
          RowBox[{
          "A", " ", "function", " ", "for", " ", "getting", " ", "object", 
           " ", "attributes", " ", "by", " ", "file", " ", "name"}], " ", 
          "*)"}], "\n", "\t", "\t\t\t\t", 
         RowBox[{
          RowBox[{"\"\<ContentStack\>\"", "->", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Function", "[", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{"Lookup", "[", 
             RowBox[{
             "$WebSiteBuildContentStack", ",", " ", "#", ",", "\n", "\t", 
              "\t\t\t\t\t\t\t", 
              RowBox[{"Lookup", "[", 
               RowBox[{
               "$WebSiteBuildContentDataStack", ",", " ", "#", ",", " ", 
                "None"}], "]"}]}], "\n", "\t", "\t\t\t\t\t\t\t", "]"}], "\n", 
            "\t", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t", "\t\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{
           "This", " ", "is", " ", "filled", " ", "in", " ", "later", " ", 
            "by", " ", "the", " ", "aggregation", " ", "generator", " ", 
            RowBox[{"(", 
             RowBox[{"if", " ", "aggregations", " ", "turned", " ", "on"}], 
             ")"}]}], " ", "*)"}], "\n", "\t", "\t\t\t\t", 
          RowBox[{
          "\"\<AggregationStack\>\"", "->", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Function", "@", 
            RowBox[{"PackageThrowMessage", "[", 
             RowBox[{
             "\"\<SiteBuilder\>\"", ",", " ", 
              "\"\<Aggregations not turned on\>\""}], "]"}]}]}], ",", "\n", 
          "\t", "\t\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{
           "A", " ", "function", " ", "for", " ", "getting", " ", "object", 
            " ", "attributes", " ", "by", " ", "file", " ", "name"}], " ", 
           "*)"}], "\n", "\t", "\t", "\t", "\t", "\t", 
          RowBox[{"\"\<ContentData\>\"", "->", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Function", "[", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{"Lookup", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Lookup", "[", "\n", "\t", "\t\t\t\t\t\t\t\t", 
               RowBox[{
               "$WebSiteBuildContentDataStack", ",", " ", "#", ",", "\n", 
                "\t", "\t\t\t\t\t\t\t\t", 
                RowBox[{"Lookup", "[", 
                 RowBox[{"$WebSiteBuildContentStack", ",", " ", "#", ",", " ", 
                  RowBox[{"<|", "|>"}]}], "]"}]}], "\n", "\t", 
               "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t\t\t\t\t\t\t", 
              "\"\<Attributes\>\"", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{"<|", "|>"}]}], "\n", "\t", "\t\t\t\t\t\t\t", "]"}], 
            "\n", "\t", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t", "\t\t\t\t", 
          
          RowBox[{"(*", " ", 
           RowBox[{
           "A", " ", "function", " ", "for", " ", "choosing", " ", "objects", 
            " ", "by", " ", "the", " ", "template", " ", "used"}], " ", 
           "*)"}], "\n", "\t", "\t\t\t\t", 
          RowBox[{"\"\<SelectObjects\>\"", "->", "\n", "\t", "\t", "\t\t\t\t", 
           RowBox[{"Function", "[", "\n", "\t", "\t", "\t\t\t\t\t", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"type", "=", 
                RowBox[{
                 RowBox[{"StringTrim", "[", 
                  RowBox[{
                   RowBox[{"ToLowerCase", "[", "#", "]"}], ",", " ", 
                   "\"\<.html\>\""}], "]"}], "<>", "\"\<.html\>\""}]}], "}"}],
               ",", "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{"Select", "[", "\n", "\t", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Values", "@", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"$WebSiteBuildContentStack", "[", 
                  RowBox[{"[", 
                   RowBox[{"All", ",", " ", "\"\<Attributes\>\""}], "]"}], 
                  "]"}]}], ",", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"MemberQ", "[", 
                  RowBox[{
                   RowBox[{"#", "[", "\"\<Templates\>\"", "]"}], ",", " ", 
                   "type"}], "]"}], "&"}]}], "\n", "\t", "\t\t\t\t\t\t\t\t", 
               "]"}]}], "\n", "\t", "\t", "\t", "\t", "\t\t\t\t", "]"}], "\n",
             "\t", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t", "\t\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{
           "A", " ", "function", " ", "for", " ", "getting", " ", "objects", 
            " ", "sorted", " ", "by", " ", "some", " ", "function"}], " ", 
           "*)"}], "\n", "\t", "\t\t\t\t", 
          RowBox[{"\"\<SortedObjectsBy\>\"", "->", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Function", "[", "\n", "\t", "\t", "\t\t\t\t\t", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"order", "=", "#"}], ",", "\n", "\t", 
                "\t\t\t\t\t\t\t", 
                RowBox[{"pageType", "=", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"Length", "@", 
                    RowBox[{"{", "##", "}"}]}], ">", "1"}], ",", " ", 
                   RowBox[{
                    RowBox[{"{", "##", "}"}], "[", 
                    RowBox[{"[", "2", "]"}], "]"}], ",", " ", 
                   "\"\<article\>\""}], "]"}]}]}], "\n", "\t", 
               "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"SortBy", "[", "order", "]"}], "@", "\n", "\t", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                "$WebSiteBuildAggStack", "[", "\"\<SelectObjects\>\"", "]"}], 
                "[", "pageType", "]"}]}]}], "\n", "\t", "\t\t\t\t\t\t\t", 
             "]"}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t", 
          "\t\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{
           "A", " ", "function", " ", "for", " ", "getting", " ", "the", " ", 
            "next", " ", "object", " ", "by", " ", "some", " ", "function"}], 
           " ", "*)"}], "\n", "\t", "\t\t\t\t", 
          RowBox[{"\"\<NextObjectBy\>\"", "->", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Function", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"self", "=", "#"}], ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{"order", "=", "#2"}], ",", "\n", "\t", 
                "\t\t\t\t\t\t\t", 
                RowBox[{"pageType", "=", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"Length", "@", 
                    RowBox[{"{", "##", "}"}]}], ">", "2"}], ",", " ", 
                   RowBox[{
                    RowBox[{"{", "##", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ",", " ", 
                   "\"\<article\>\""}], "]"}]}]}], "\n", "\t", 
               "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{"With", "[", "\n", "\t", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"sorted", "=", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"SortBy", "[", "order", "]"}], "@", "\n", 
                   "\t\t\t\t\t\t\t\t\t\t\t  ", 
                   RowBox[{
                    RowBox[{
                    "$WebSiteBuildAggStack", "[", "\"\<SelectObjects\>\"", 
                    "]"}], "[", "pageType", "]"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"With", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"pos", "=", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"FirstPosition", "[", 
                    RowBox[{"sorted", ",", " ", "self"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "+", "1"}]}], "}"}], ",", 
                  "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"pos", "<=", 
                    RowBox[{"Length", "@", "sorted"}]}], "//", "TrueQ"}], ",",
                     "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"sorted", "[", 
                    RowBox[{"[", "pos", "]"}], "]"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", "None"}], "\n", "\t", 
                   "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
                 "\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
               "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t\t\t", 
             "]"}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t", 
          "\t\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{
           "A", " ", "function", " ", "for", " ", "getting", " ", "the", " ", 
            "previous", " ", "object", " ", "by", " ", "some", " ", 
            "function"}], " ", "*)"}], "\n", "\t", "\t\t\t\t", 
          RowBox[{
          "\"\<PreviousObjectBy\>\"", "->", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Function", "[", "\n", "\t", "\t", "\t\t\t\t\t", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"self", "=", "#"}], ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{"order", "=", "#2"}], ",", "\n", "\t", 
                "\t\t\t\t\t\t\t", 
                RowBox[{"pageType", "=", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"Length", "@", 
                    RowBox[{"{", "##", "}"}]}], ">", "2"}], ",", " ", 
                   RowBox[{
                    RowBox[{"{", "##", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ",", " ", 
                   "\"\<article\>\""}], "]"}]}]}], "\n", "\t", 
               "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{"With", "[", "\n", "\t", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"sorted", "=", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"SortBy", "[", "order", "]"}], "@", "\n", 
                   "\t\t\t\t\t\t\t\t\t\t\t  ", 
                   RowBox[{
                    RowBox[{
                    "$WebSiteBuildAggStack", "[", "\"\<SelectObjects\>\"", 
                    "]"}], "[", "pageType", "]"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"With", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"pos", "=", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"FirstPosition", "[", 
                    RowBox[{"sorted", ",", " ", "self"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "}"}], ",", 
                  "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"pos", ">", "0"}], "//", "TrueQ"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"sorted", "[", 
                    RowBox[{"[", "pos", "]"}], "]"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", "None"}], "\n", "\t", 
                   "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
                 "\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
               "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t\t\t", 
             "]"}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t", 
          "\t\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{"The", " ", "pages"}], " ", "*)"}], "\n", "\t", "\t", "\t",
           "\t", "\t", 
          RowBox[{"\"\<Pages\>\"", ":>", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{
            "$WebSiteBuildAggStack", "[", "\"\<SelectObjects\>\"", "]"}], 
            "[", "\"\<page.html\>\"", "]"}]}], ",", "\n", "\t", "\t\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{"The", " ", "articles"}], " ", "*)"}], "\n", "\t", "\t", 
          "\t", "\t", "\t", 
          RowBox[{"\"\<Articles\>\"", ":>", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{
            "$WebSiteBuildAggStack", "[", "\"\<SelectObjects\>\"", "]"}], 
            "[", "\"\<article.html\>\"", "]"}]}], ",", "\n", "\t", "\t\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{"The", " ", "archives"}], " ", "*)"}], "\n", "\t", "\t", 
          "\t", "\t", "\t", 
          RowBox[{"\"\<Archives\>\"", ":>", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Reverse", "@", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{"GatherBy", "[", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t", 
             RowBox[{
              RowBox[{
              "Values", "@", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t", 
               RowBox[{"$WebSiteBuildContentStack", "[", 
                RowBox[{"[", 
                 RowBox[{"All", ",", "\"\<Attributes\>\""}], "]"}], "]"}]}], 
              ",", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t", 
              RowBox[{
               RowBox[{"#", "[", "\"\<Date\>\"", "]"}], "&"}]}], "\n", "\t", 
             "\t\t\t\t\t\t\t", "]"}]}]}]}], "\n", "\t", "\t\t\t\t", "|>"}]}], 
       ";"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"9d7478ac-f913-4fc9-96af-e34ab08f8b16"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]ExtractPageData\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712671619319853*^9, 
  3.712671623070841*^9}},ExpressionUUID->"5be88d25-1bcf-4c10-b234-\
28ff4625063c"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteExtractFileData\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"107b320d-e740-4d38-a255-f210a6a4925c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "nost"}], "=", 
   "\"\<$WebSiteBuildContentStack not initialzed\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteExtractFileData", "[", 
    RowBox[{"root_", ",", " ", "content_", ",", " ", "config_"}], "]"}], ":=",
    "\n", "\t", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"AssociationQ", "@", "$WebSiteBuildContentStack"}], ",", "\n", 
     "\t\t", 
     RowBox[{"Module", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
        "fileContent", ",", "\n", "\t\t\t\t", "args", ",", "\n", "\t\t\t\t", 
         "cname"}], "\n", "\t\t\t\t", "}"}], ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"fileContent", "=", "\n", "\t\t\t\t", 
         RowBox[{"Replace", "[", 
          RowBox[{"content", ",", 
           RowBox[{"{", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{"_File", "|", "_String"}], ")"}], "?", "FileExistsQ"}],
              "\[RuleDelayed]", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Switch", "[", 
              RowBox[{
               RowBox[{"FileExtension", "[", "content", "]"}], ",", "\n", 
               "\t\t\t\t\t\t\t", "\"\<md\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
               
               RowBox[{"MarkdownToXML", "[", 
                RowBox[{"Import", "[", 
                 RowBox[{"content", ",", " ", "\"\<Text\>\""}], "]"}], "]"}], 
               ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"\"\<html\>\"", "|", "\"\<xml\>\""}], ",", "\n", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{"Import", "[", 
                RowBox[{"content", ",", " ", 
                 RowBox[{"{", 
                  RowBox[{"\"\<HTML\>\"", ",", "\"\<XMLObject\>\""}], "}"}]}],
                 "]"}]}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}], "\n", 
            "\t\t\t\t\t", "}"}]}], "]"}]}], ";", "\n", "\t\t\t", 
        RowBox[{"cname", "=", 
         RowBox[{"webSitePrepContentName", "[", 
          RowBox[{"content", ",", " ", "root"}], "]"}]}], ";", "\n", "\t\t\t", 
        RowBox[{"args", "=", "\n", "\t\t\t\t", 
         RowBox[{"Merge", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{"config", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Replace", "[", 
              RowBox[{"fileContent", ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"XMLObject", "[", "___", "]"}], "[", "___", "]"}],
                     "|", 
                    RowBox[{"XMLElement", "[", 
                    RowBox[{"\"\<html\>\"", ",", "___"}], "]"}]}], ")"}], 
                  "\[RuleDelayed]", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"KeyDrop", "[", 
                   RowBox[{
                    RowBox[{"WebSiteImportMeta", "[", "fileContent", "]"}], 
                    ",", " ", "\"\<URL\>\""}], "]"}]}], ",", "\n", 
                 "\t\t\t\t\t\t\t\t", 
                 RowBox[{"_", "\[Rule]", 
                  RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t\t\t\t\t", "}"}]}], 
              "\n", "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"\"\<SourceFile\>\"", "\[Rule]", "content"}]}], "\n", 
            "\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t", "Last"}], "\n", 
          "\t\t\t\t\t", "]"}]}], ";", "\n", "\t\t\t", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"cname", "=!=", "None"}], ",", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"$WebSiteBuildContentStack", "[", "cname", "]"}], "=", 
            "\n", "\t\t\t\t\t", 
            RowBox[{"<|", "\n", "\t\t\t\t\t\t", 
             RowBox[{"\"\<Attributes\>\"", "->", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"WebSiteTemplateGatherArgs", "[", 
               RowBox[{"fileContent", ",", " ", "args"}], "]"}]}], "\n", 
             "\t\t\t\t\t\t", "|>"}]}], ";", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"$WebSiteBuildContentStack", "[", 
             RowBox[{"cname", ",", " ", "\"\<Content\>\""}], "]"}], "=", "\n",
             "\t\t\t\t\t", 
            RowBox[{"WebSiteTemplatePreProcess", "[", 
             RowBox[{"fileContent", ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"$WebSiteBuildContentStack", "[", 
               RowBox[{"cname", ",", " ", "\"\<Attributes\>\""}], "]"}]}], 
             "\n", "\t\t\t\t\t\t", "]"}]}], ";"}]}], "\n", "\t\t\t\t", "]"}], 
        ";"}]}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Message", "[", 
       RowBox[{"WebSiteBuild", "::", "nost"}], "]"}], ";", "\n", "\t\t", 
      "$Failed"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"72741471-b3e5-4de1-bd54-274522052ae9"]\

}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteExtractPageData\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"1276e6e9-aba5-4d37-ae08-478866775b68"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteExtractPageData", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Monitor", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<LastBuild\>\"", "\[Rule]", "None"}]}], "\n", "\t\t", 
    "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteExtractPageData", "[", 
    RowBox[{"rootDir_", ",", " ", "files_", ",", "config_", ",", " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Block", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"extractfile", "=", "\"\<\>\""}], ",", "\n", "\t\t\t", 
       RowBox[{"lb", "=", 
        RowBox[{"OptionValue", "[", "\"\<LastBuild\>\"", "]"}]}]}], "\n", 
      "\t\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"TrueQ", "@", 
         RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", " ", "Monitor", 
        ",", " ", 
        RowBox[{"#", "&"}]}], "]"}], "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Module", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"{", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"fname", "=", "\n", "\t\t\t\t\t\t", 
              RowBox[{"Replace", "[", 
               RowBox[{"#", ",", "\n", "\t", "\t", "\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"f", ":", 
                  RowBox[{"Except", "[", 
                   RowBox[{"_String", "|", "_File"}], "]"}]}], 
                 "\[RuleDelayed]", "\n", "\t", "\t", "\t", "\t\t\t\t\t", 
                 RowBox[{"ExpandFileName", "@", 
                  RowBox[{"First", "[", "f", "]"}]}]}]}], "\n", "\t", 
               "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t", "\t\t\t\t", 
             RowBox[{"templates", "=", "\n", "\t", "\t\t\t\t\t", 
              RowBox[{"Flatten", "@", 
               RowBox[{"List", "@", "\n", "\t", "\t\t\t\t\t", 
                RowBox[{"Replace", "[", 
                 RowBox[{"#", ",", 
                  RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"r", ":", 
                    RowBox[{"Except", "[", 
                    RowBox[{"_String", "|", "_File"}], "]"}]}], 
                    "\[RuleDelayed]", "\n", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"Last", "[", "r", "]"}]}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t", 
                    RowBox[{"_", "\[Rule]", "\"\<base.html\>\""}]}], "\n", 
                   "\t\t\t\t\t\t\t", "}"}]}], "]"}]}]}]}], ",", "\n", 
             "\t\t\t\t\t", "cname"}], "\n", "\t\t\t\t\t", "}"}], ",", "\n", 
           "\t\t\t\t", 
           RowBox[{
            RowBox[{"extractfile", "=", "fname"}], ";", "\n", "\t\t\t\t", 
            RowBox[{"cname", "=", 
             RowBox[{"webSitePrepContentName", "[", 
              RowBox[{"fname", ",", " ", "rootDir"}], "]"}]}], ";", "\n", 
            "\t\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"KeyFreeQ", "[", 
                RowBox[{"$WebSiteBuildContentStack", ",", " ", "cname"}], 
                "]"}], "||", "\n", "\t\t\t\t\t\t", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"!", 
                  RowBox[{"DateObjectQ", "[", "lb", "]"}]}], "||", 
                 RowBox[{"lb", "<=", 
                  RowBox[{"FileDate", "[", 
                   RowBox[{"fname", ",", " ", "\"\<Modification\>\""}], 
                   "]"}]}]}], ")"}]}], ",", "\n", "\t\t\t\t\t", 
              RowBox[{"WebSiteExtractFileData", "[", "\n", "\t\t\t\t\t\t", 
               RowBox[{
               "rootDir", ",", "\n", "\t\t\t\t\t\t", "fname", ",", "\n", 
                "\t\t\t\t\t\t", 
                RowBox[{"Merge", "[", "\n", "\t", "\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t", 
                   RowBox[{"config", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<Templates\>\"", "->", "\n", "\t", "\t\t\t\t\t\t\t\t",
                     "templates"}], ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<FilePath\>\"", "->", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{"WebSiteBuildFilePath", "[", 
                    RowBox[{"fname", ",", " ", "rootDir"}], "]"}]}]}], "\n", 
                   "\t", "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
                  "\t\t\t\t\t\t", "Last"}], "\n", "\t", "\t\t\t\t\t\t", 
                 "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", 
             "]"}]}]}], "\n", "\t\t\t\t", "]"}], "&"}], "/@", "files"}], ",", 
       "\n", "\t\t\t", 
       RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t", 
        RowBox[{"TemplateApply", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
         "\"\<Extracting data from ``\>\"", ",", "\n", "\t\t\t\t\t", 
          "extractfile"}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", 
      "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"096708f0-9a45-4512-a06e-a6c049b576c1"]\

}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]CopyTheme\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712537745851767*^9, 
  3.712537747002632*^9}},ExpressionUUID->"66bd6948-c203-4927-b6b6-\
d30f17b48f63"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteCopyTheme\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellLabel->
  "In[123]:=",ExpressionUUID->"2855726d-d1f9-40e2-8ac3-38e2efe8479a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteCopyTheme", "[", 
   RowBox[{"outDir_", ",", " ", "thm_", ",", " ", "mon_"}], "]"}], ":=", "\n",
   "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"fils", "=", 
      RowBox[{
       RowBox[{"Select", "[", 
        RowBox[{"Not", "@*", "DirectoryQ"}], "]"}], "@", 
       RowBox[{"FileNames", "[", 
        RowBox[{"\"\<*\>\"", ",", "thm", ",", "\[Infinity]"}], "]"}]}]}], 
     "}"}], ",", "\n", "\t\t", 
    RowBox[{"Block", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{"copyfile", ",", "\n", "\t\t\t\t", "newfile"}], "\n", 
       "\t\t\t\t", "}"}], ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"TrueQ", "@", "mon"}], ",", " ", "Monitor", ",", " ", 
         RowBox[{"#", "&"}]}], "]"}], "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"With", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"{", "\n", "\t\t\t\t\t\t", 
             RowBox[{"newf", "=", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"FileNameJoin", "@", 
               RowBox[{"{", 
                RowBox[{
                "outDir", ",", " ", "\"\<theme\>\"", ",", "\n", "\t", "\t", 
                 "\t", "\t\t\t\t\t", 
                 RowBox[{"FileNameDrop", "[", 
                  RowBox[{"#", ",", " ", 
                   RowBox[{"FileNameDepth", "[", "thm", "]"}]}], "]"}]}], 
                "\n", "\t", "\t", "\t", "\t\t\t\t\t", "}"}]}]}], "\n", 
             "\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"!", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"FileExistsQ", "[", "newf", "]"}], "&&", 
                  RowBox[{
                   RowBox[{"FileHash", "[", "#", "]"}], "==", 
                   RowBox[{"FileHash", "[", "newf", "]"}]}]}], ")"}]}], ",", 
               "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"copyfile", "=", "#"}], ";", "\n", "\t\t\t\t\t\t", 
                RowBox[{"newfile", "=", "newf"}], ";", "\n", "\t\t\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"!", 
                   RowBox[{"DirectoryQ", "@", 
                    RowBox[{"DirectoryName", "@", "newf"}]}]}], ",", "\n", 
                  "\t", "\t", "\t\t\t\t\t", 
                  RowBox[{"CreateDirectory", "[", 
                   RowBox[{
                    RowBox[{"DirectoryName", "@", "newf"}], ",", "\n", "\t", 
                    "\t", "\t\t\t\t\t\t", 
                    RowBox[{
                    "CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
                   "\n", "\t", "\t", "\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
                 "\t", "\t\t\t\t\t", "]"}], ";", "\n", "\t", "\t", "\t\t\t\t", 
                RowBox[{"CopyFile", "[", 
                 RowBox[{"#", ",", "newf", ",", 
                  RowBox[{"OverwriteTarget", "\[Rule]", "True"}]}], "]"}]}]}],
               "\n", "\t\t\t\t\t\t", "]"}], ";", "\n", "\t\t\t\t\t", 
             RowBox[{"copyfile", "=."}], ";", "\n", "\t\t\t\t\t", 
             RowBox[{"newfile", "=."}], ";"}]}], "\n", "\t\t\t\t\t", "]"}], 
          "&"}], "/@", "fils"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"AllTrue", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"copyfile", ",", "newfile"}], "}"}], ",", "StringQ"}], 
            "]"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"TemplateApply", "[", 
            RowBox[{"\"\<Copying `` to ``\>\"", ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"copyfile", ",", "\n", "\t\t\t\t\t\t\t\t", "newfile"}], 
              "\n", "\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t\t", 
            "]"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"TemplateApply", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
            "\"\<Copying theme ``\>\"", ",", "\n", "\t\t\t\t\t\t\t", "thm"}], 
            "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}]}], 
       "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"0440efab-1206-4922-9936-b5275cfbdd8a"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteCopyTheme\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"76e97703-0fe7-4eae-a5ed-96290b7c3945"],

Cell[BoxData[
 RowBox[{"WebSiteCopyTheme", "//", "Clear"}]], "CodeInput",
 CellChangeTimes->{{3.7206493467372713`*^9, 
  3.720649347545315*^9}},ExpressionUUID->"02cb94e7-fa5b-4006-b08e-\
96bffe2113f6"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteCopyTheme", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{"Monitor", "\[Rule]", "True"}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteCopyTheme", "[", 
   RowBox[{"dir_", ",", "outDir_", ",", " ", "theme_", ",", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"With", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"thm", "=", "\n", "\t\t\t\t", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", "\n", "\t", "\t\t\t\t", 
         RowBox[{
          RowBox[{"WebSiteFindTheme", "[", 
           RowBox[{"dir", ",", " ", "theme", ",", " ", 
            RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "True"}]}], "]"}], 
          ",", "\n", "\t", "\t", "\t\t\t", "\"\<static\>\""}], "\n", 
         "\t\t\t\t\t", "}"}]}]}], ",", "\n", "\t\t\t", 
      RowBox[{"common", "=", "\n", "\t\t\t\t", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
         "$WebSiteTemplateLibDirectory", ",", "\n", "\t\t\t\t\t", 
          "\"\<static\>\""}], "\n", "\t\t\t\t\t", "}"}]}]}]}], "\n", "\t\t\t",
      "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Quiet", "@", 
      RowBox[{"CreateDirectory", "[", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"outDir", ",", " ", "\"\<theme\>\""}], "}"}]}], "]"}]}], ";",
      "\n", "\t\t", 
     RowBox[{"webSiteCopyTheme", "[", 
      RowBox[{"outDir", ",", " ", "common", ",", " ", 
       RowBox[{"TrueQ", "@", 
        RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "]"}], ";", "\n", 
     "\t\t", 
     RowBox[{"webSiteCopyTheme", "[", 
      RowBox[{"outDir", ",", " ", "thm", ",", " ", 
       RowBox[{"TrueQ", "@", 
        RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "]"}], ";", "\n", 
     "\t\t", 
     RowBox[{"FileNameJoin", "@", 
      RowBox[{"{", 
       RowBox[{"outDir", ",", "\"\<theme\>\""}], "}"}]}]}]}], "\n", "\t", 
   "\t", "]"}]}]}], \
"CodeInput",ExpressionUUID->"e0881678-925f-4d4a-ace0-8f775cc3f42e"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]CopyContent\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7125936627358007`*^9, 
  3.7125936645108232`*^9}},ExpressionUUID->"c62338a3-2157-4be5-893d-\
4f45c982e074"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteCopyContentSpec\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"43ac99e6-70ab-4feb-8357-bd9f54b5a21b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"webSiteCopyContentSpec", "//", "Clear"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"webSiteCopyContentSpec", "[", 
    RowBox[{"True", "|", "Automatic"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Except", "[", 
    RowBox[{"\"\<posts\>\"", "|", "\"\<pages\>\""}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"webSiteCopyContentSpec", "[", 
    RowBox[{"l", ":", 
     RowBox[{"{", "__String", "}"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Alternatives", "@@", "l"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"webSiteCopyContentSpec", "[", 
    RowBox[{"l", ":", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", 
         RowBox[{"{", "__String", "}"}]}], ")"}], "..."}], "}"}]}], "]"}], ":=",
    "\n", "\t", 
   RowBox[{"webSiteCopyContentSpec", "[", 
    RowBox[{"Replace", "[", 
     RowBox[{"l", ",", " ", 
      RowBox[{
       RowBox[{"f", ":", 
        RowBox[{"{", "__String", "}"}]}], "\[RuleDelayed]", 
       RowBox[{"FileNameJoin", "[", "f", "]"}]}], ",", " ", "1"}], "]"}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"webSiteCopyContentSpec", "[", "e_", "]"}], ":=", "\n", "\t", 
   "e"}], ";"}]}], \
"CodeInput",ExpressionUUID->"f7e2b82d-cdfa-41ba-bd2e-4bd2f3c36d9b"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteCopyContent\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"df1aa82a-caf7-410d-a8f1-db6fb250fcd7"],

Cell[BoxData[
 RowBox[{"Clear", "[", 
  RowBox[{"iWebSiteCopyContent", ",", " ", "WebSiteCopyContent"}], 
  "]"}]], "CodeInput",ExpressionUUID->"f83d8d89-0eed-453f-a1ac-929107e54a76"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteCopyContent", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{"Monitor", "\[Rule]", "True"}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"Options", "[", "iWebSiteCopyContent", "]"}], "=", "\n", "\t", 
  RowBox[{"Options", "[", "WebSiteCopyContent", "]"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"iWebSiteCopyContent", "[", "\n", "\t", 
    RowBox[{"dir_", ",", "\n", "\t", "outDir_", ",", "\n", "\t", 
     RowBox[{"sel", ":", "_"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{
       RowBox[{"selPat", "=", "sel"}], ",", "\n", "\t\t", 
       RowBox[{"contDir", "=", "\n", "\t\t\t", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"dir", ",", " ", "\"\<content\>\""}], "}"}]}]}], 
       RowBox[{"(*", " ", 
        RowBox[{"TODO", ":", " ", 
         RowBox[{"generalize", " ", "this", " ", "path"}]}], " ", "*)"}], ",",
        "\n", "\t\t", 
       RowBox[{"monitor", "=", "\n", "\t\t\t", 
        RowBox[{"TrueQ", "@", 
         RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}]}], "\n", "\t\t", 
      "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", "\n", "\t\t\t", 
         RowBox[{"fils", "=", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"Select", "[", "\n", "\t\t\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"StringPattern`StringPatternQ", "[", "selPat", "]"}], 
              ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"StringMatchQ", "[", 
                RowBox[{
                 RowBox[{"FileNameTake", "[", 
                  RowBox[{"#", ",", " ", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"FileNameDepth", "[", "contDir", "]"}], "+", 
                    "1"}], "}"}]}], "]"}], ",", " ", "selPat"}], "]"}], "&"}],
               ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"MatchQ", "[", 
                RowBox[{
                 RowBox[{"FileNameTake", "[", 
                  RowBox[{"#", ",", " ", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"FileNameDepth", "[", "contDir", "]"}], "+", 
                    "1"}], "}"}]}], "]"}], ",", " ", "selPat"}], "]"}], 
               "&"}]}], "\n", "\t\t\t\t\t\t", "]"}], "\n", "\t\t\t\t\t", 
            "]"}], "@", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Select", "[", 
             RowBox[{"Not", "@*", "DirectoryQ"}], "]"}], "@", "\n", "\t", 
            "\t", "\t\t\t\t", 
            RowBox[{"FileNames", "[", 
             RowBox[{"\"\<*\>\"", ",", "contDir", ",", "\[Infinity]"}], 
             "]"}]}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
        RowBox[{"Block", "[", 
         RowBox[{
          RowBox[{"{", "\n", "\t\t\t\t", 
           RowBox[{"copyfile", ",", "\n", "\t\t\t\t", "newfile"}], "\n", 
           "\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{"monitor", ",", " ", "Monitor", ",", " ", 
             RowBox[{"#", "&"}]}], "]"}], "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"With", "[", 
               RowBox[{
                RowBox[{"{", "\n", "\t\t\t\t\t\t", 
                 RowBox[{"newf", "=", "\n", "\t", "\t", "\t\t\t\t\t", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{"outDir", ",", "\n", "\t", "\t", "\t\t\t\t\t\t", 
                    RowBox[{"FileNameDrop", "[", 
                    RowBox[{"#", ",", 
                    RowBox[{"FileNameDepth", "[", "contDir", "]"}]}], "]"}]}],
                     "\n", "\t", "\t", "\t\t\t\t\t\t", "}"}]}]}], "\n", "\t", 
                 "\t", "\t\t\t\t\t", "}"}], ",", "\n", "\t", "\t", "\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"!", 
                    RowBox[{"FileExistsQ", "[", "newf", "]"}]}], "||", 
                   RowBox[{
                    RowBox[{"FileHash", "[", "#", "]"}], "=!=", 
                    RowBox[{"FileHash", "[", "newf", "]"}]}]}], ",", "\n", 
                  "\t", "\t", "\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"!", 
                    RowBox[{"DirectoryQ", "@", 
                    RowBox[{"DirectoryName", "@", "newf"}]}]}], ",", "\n", 
                    "\t", "\t", "\t\t\t\t\t\t", 
                    RowBox[{"CreateDirectory", "[", 
                    RowBox[{
                    RowBox[{"DirectoryName", "@", "newf"}], ",", "\n", "\t", 
                    "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    "CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
                    "\n", "\t", "\t", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
                    "\t", "\t\t\t\t\t\t", "]"}], ";", "\n", "\t", "\t", 
                   "\t\t\t\t\t", 
                   RowBox[{"CopyFile", "[", 
                    RowBox[{"#", ",", "newf", ",", 
                    RowBox[{"OverwriteTarget", "\[Rule]", "True"}]}], 
                    "]"}]}]}], "\n", "\t", "\t", "\t\t\t\t\t", "]"}]}], "\n", 
               "\t", "\t", "\t\t\t\t", "]"}], "&"}], "/@", "fils"}], ",", 
            "\n", "\t\t\t\t\t", 
            RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"AllTrue", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"copyfile", ",", "newfile"}], "}"}], ",", 
                 "StringQ"}], "]"}], ",", "\n", "\t", "\t\t\t\t\t\t", 
               RowBox[{"TemplateApply", "[", 
                RowBox[{
                "\"\<Copying `` to ``\>\"", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                 RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "copyfile", ",", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                   "newfile"}], "\n", "\t", "\t\t\t\t\t\t\t\t", "}"}]}], "\n",
                 "\t", "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
               "\t\t\t\t\t\t", 
               RowBox[{"TemplateApply", "[", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                "\"\<Copying content from ``\>\"", ",", "\n", 
                 "\t\t\t\t\t\t\t\t", "contDir"}], "\n", "\t\t\t\t\t\t\t\t", 
                "]"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
           "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", 
       "]"}], ";", "\n", "\t\t", "outDir"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteCopyContent", "[", "\n", "\t", 
    RowBox[{"dir_", ",", "\n", "\t", "outDir_", ",", "\n", "\t", 
     RowBox[{"e", ":", 
      RowBox[{"Except", "[", 
       RowBox[{
        RowBox[{"_", "?", "OptionQ"}], "|", 
        RowBox[{"_", "?", "AssociationQ"}]}], "]"}], ":", "Automatic"}], ",", 
     "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"s", "=", 
       RowBox[{"webSiteCopyContentSpec", "[", "e", "]"}]}], "}"}], ",", "\n", 
     "\t\t", 
     RowBox[{"iWebSiteCopyContent", "[", 
      RowBox[{"dir", ",", " ", "outDir", ",", " ", "s", ",", " ", "ops"}], 
      "]"}]}], 
    RowBox[{"(*", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"StringPattern`StringPatternQ", "[", "s", "]"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"WebSiteCopyContent", "[", 
        RowBox[{"dir", ",", " ", "outDir", ",", " ", "s", ",", " ", "ops"}], 
        "]"}], ",", "\n", "\t\t\t", 
       RowBox[{"{", "}"}]}], "\n", "\t\t\t", "]"}], "*)"}], "\n", "\t\t", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteCopyContent", "[", "\n", "\t", 
   RowBox[{"dir_", ",", "\n", "\t", "outDir_", ",", "\n", "\t", 
    RowBox[{"e", ":", 
     RowBox[{"Except", "[", 
      RowBox[{
       RowBox[{"_", "?", "OptionQ"}], "|", 
       RowBox[{"_", "?", "AssociationQ"}]}], "]"}], ":", "Automatic"}], ",", 
    "\n", "\t", 
    RowBox[{"ops_", "?", "AssociationQ"}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"WebSiteCopyContent", "[", 
   RowBox[{"dir", ",", " ", "outDir", ",", " ", "e", ",", " ", 
    RowBox[{"Normal", "[", "ops", "]"}]}], 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"c1f49294-b2cc-4204-bfd1-fcda3686b63b"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]GenerateAggregationPages\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712664403157797*^9, 3.7126644060687113`*^9}, {
   3.7126644483009977`*^9, 3.712664450555676*^9}, 3.7126658795980988`*^9, 
   3.7126809235504093`*^9},ExpressionUUID->"f1c94e9e-528b-43ac-b00e-\
d53e82566bae"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Aggregation Types\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"a88c0cd5-64de-40f3-84e3-35e67766c346"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteGenerateAggregationPages", "//", "ClearAll"}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.712666323483973*^9, 
  3.712666343287422*^9}},ExpressionUUID->"7712c6b0-c5e2-47dc-aa93-\
f428897ccc52"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$DefaultWebSiteAggregationTypes", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t\t", 
    RowBox[{
    "\"\<Authors\>\"", ",", "\n", "\t\t\t", "\"\<Categories\>\"", ",", "\n", 
     "\t\t\t", "\"\<Tags\>\""}], "\n", "\t\t\t", "}"}]}], ";"}]], "CodeInput",
 
 CellChangeTimes->{{3.712705943659857*^9, 3.712705952957896*^9}, 
   3.733680714076387*^9},ExpressionUUID->"6642152b-be5a-4bd8-93b0-\
fc29e285a6fc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteGenerateAggregationPages", ":=", "\n", "\t", 
   RowBox[{"AssociationMap", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{"singular", "=", "\n", "\t\t\t\t", 
           RowBox[{"ToLowerCase", "@", 
            RowBox[{"Switch", "[", 
             RowBox[{
             "#", ",", "\n", "\t\t\t\t\t", "\"\<Categories\>\"", ",", "\n", 
              "\t\t\t\t\t\t", "\"\<Category\>\"", ",", "\n", "\t\t\t\t\t", 
              "_", ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"StringTrim", "[", 
               RowBox[{"#", ",", "\"\<s\>\""}], "]"}]}], "\n", "\t\t\t\t\t", 
             "]"}]}]}], ",", "\n", "\t\t\t", 
          RowBox[{"plural", "=", 
           RowBox[{"ToLowerCase", "[", "#", "]"}]}]}], "\n", "\t\t\t", "}"}], 
        ",", "\n", "\t\t\t", 
        RowBox[{"<|", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"\"\<AggregationTemplates\>\"", "\[Rule]", 
           RowBox[{"plural", "<>", "\"\<.html\>\""}]}], ",", "\n", "\t", 
          "\t\t\t", 
          RowBox[{"\"\<AggregationFile\>\"", "\[Rule]", 
           RowBox[{"plural", "<>", "\"\<.html\>\""}]}], ",", "\n", "\t\t\t\t", 
          RowBox[{"\"\<Templates\>\"", "->", 
           RowBox[{"singular", "<>", "\"\<.html\>\""}]}], ",", "\n", "\t", 
          "\t\t\t", 
          RowBox[{"\"\<File\>\"", "\[Rule]", 
           RowBox[{"Function", "@", 
            RowBox[{"{", 
             RowBox[{"plural", ",", " ", 
              RowBox[{
               RowBox[{"ToLowerCase", "[", "#", "]"}], "<>", 
               "\"\<.html\>\""}]}], "}"}]}]}]}], "\n", "\t\t\t\t", "|>"}]}], 
       "\n", "\t\t\t", "]"}], "&"}], ",", "\n", "\t\t", 
     "$WebSiteAggregationTypes"}], "\n", "\t\t", "]"}]}], ";"}]], "CodeInput",
 
 CellChangeTimes->{{3.71266514945728*^9, 3.7126651860668383`*^9}, {
   3.712665217439394*^9, 3.7126652341440487`*^9}, {3.712665304813098*^9, 
   3.712665428035041*^9}, {3.712665820160141*^9, 3.712665997496722*^9}, {
   3.712666029859069*^9, 3.712666072930785*^9}, 3.712666106464913*^9, {
   3.712666344321274*^9, 3.71266635599087*^9}, {3.712666433920295*^9, 
   3.7126664953914213`*^9}, {3.712666527956365*^9, 3.7126666573618298`*^9}, {
   3.712666718700697*^9, 3.712666844960993*^9}, {3.7126668754405527`*^9, 
   3.712666928789379*^9}, {3.712667120971504*^9, 3.712667127604598*^9}, {
   3.712667218115181*^9, 3.712667240576004*^9}, {3.71266727175488*^9, 
   3.712667284035528*^9}, {3.712667338725422*^9, 3.7126674668569603`*^9}, {
   3.712667540498931*^9, 3.712667723958869*^9}, {3.7126678308875837`*^9, 
   3.712667974003702*^9}, {3.7126680713811483`*^9, 3.712668090906543*^9}, {
   3.712668122843464*^9, 3.7126681342228823`*^9}, {3.712670116674231*^9, 
   3.712670132930787*^9}, {3.7126701995660133`*^9, 3.712670215441181*^9}, {
   3.7126702552547092`*^9, 3.7126702562391033`*^9}, {3.712670727512183*^9, 
   3.712670801565055*^9}, 3.712670833219757*^9, {3.712670922503469*^9, 
   3.712670956287449*^9}, {3.7126710571253643`*^9, 3.712671088301495*^9}, {
   3.712671148908391*^9, 3.7126712578300858`*^9}, 3.7126715967553673`*^9, {
   3.712674875166005*^9, 3.712674875173706*^9}, {3.7126810289175043`*^9, 
   3.712681035579097*^9}, {3.712702414645706*^9, 3.712702416467229*^9}, {
   3.712702795080298*^9, 3.712702796916643*^9}, {3.71270286078234*^9, 
   3.712702861684805*^9}, 3.712703141508515*^9, {3.712703232060111*^9, 
   3.712703236673512*^9}, {3.712703305842944*^9, 3.712703318983124*^9}, {
   3.712703354391477*^9, 3.712703369105493*^9}, {3.7127035916567993`*^9, 
   3.7127035984471207`*^9}, {3.7127041854870777`*^9, 
   3.7127042196636753`*^9}, {3.712704270845909*^9, 3.712704329291606*^9}, {
   3.712704361760964*^9, 3.712704363693431*^9}, {3.712704415708521*^9, 
   3.712704433747364*^9}, {3.712704509184999*^9, 3.712704598835371*^9}, {
   3.7127046727669764`*^9, 3.7127046906090593`*^9}, {3.712704721687557*^9, 
   3.712704813152484*^9}, {3.712704876106822*^9, 3.712704918979272*^9}, 
   3.712704956613119*^9, {3.712705543757841*^9, 3.7127055510485983`*^9}, {
   3.712705599726549*^9, 3.712705620908826*^9}, {3.712705665729251*^9, 
   3.712705677020603*^9}, {3.7127057192498703`*^9, 3.712705743660692*^9}, 
   3.712705942219935*^9, 3.712705978452525*^9, {3.712706253572679*^9, 
   3.712706322942292*^9}, {3.712706358611857*^9, 3.712706411080462*^9}, {
   3.712707117106607*^9, 3.7127071781295147`*^9}, {3.7127074323146772`*^9, 
   3.712707506300933*^9}, 3.712707773204713*^9, {3.712708420610333*^9, 
   3.712708421044088*^9}, 3.7127085364888983`*^9, {3.712708576528717*^9, 
   3.7127086082550297`*^9}, {3.712708658709816*^9, 3.712708660341799*^9}, {
   3.71270871738135*^9, 3.712708731028211*^9}, {3.712708790548338*^9, 
   3.712708846797104*^9}, 3.712708881601253*^9, {3.712708954540971*^9, 
   3.712708966018165*^9}, {3.712709440863057*^9, 3.712709498349432*^9}, {
   3.712709531329755*^9, 3.71270956485249*^9}, {3.71270960498212*^9, 
   3.712709629997939*^9}, {3.7127096903116007`*^9, 3.712709753268268*^9}, {
   3.712709876179242*^9, 3.712709877687233*^9}, {3.712709932969009*^9, 
   3.712710062043097*^9}, {3.712710094952511*^9, 3.712710153113101*^9}, {
   3.712710194604219*^9, 3.712710203574037*^9}, {3.71271023532255*^9, 
   3.71271026069308*^9}, {3.712710317351536*^9, 3.712710335970428*^9}, 
   3.712710383790448*^9, {3.7127104242309113`*^9, 3.712710451576961*^9}, {
   3.712710717817768*^9, 3.7127107382210093`*^9}, {3.720649260973762*^9, 
   3.720649265321301*^9}, 3.723298935982943*^9, 3.733673939702389*^9, 
   3.733680813480165*^9},ExpressionUUID->"f9f8d174-4c0d-4074-8b16-\
2b1af7d210dc"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteCollectAggPages\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.733680862336738*^9, 
  3.733680881736965*^9}},ExpressionUUID->"0903e3ed-23d7-4eb2-b47d-\
8a7175533601"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"iWebSiteCollectAggPages", "[", "aggthing_", "]"}], ":=", "\n", 
   "\t", 
   RowBox[{"Module", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
      "aggContent", ",", "\n", "\t\t\t", "groupedUp", ",", "\n", "\t\t\t", 
       "threaded"}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"aggContent", "=", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"Lookup", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"Lookup", "[", 
            RowBox[{"#", ",", " ", "\"\<Attributes\>\"", ",", " ", 
             RowBox[{"<|", "|>"}]}], "]"}], ",", "\n", "\t\t\t\t", "aggthing",
            ",", "\n", "\t\t\t\t", 
           RowBox[{"{", "}"}]}], "\n", "\t\t\t\t", "]"}], "&"}], "/@", 
        "$WebSiteBuildContentStack"}]}], ";", "\n", "\t\t", 
      RowBox[{"threaded", "=", "\n", "\t\t\t", 
       RowBox[{"Flatten", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Thread", "[", 
           RowBox[{"Reverse", "[", "#", "]"}], "]"}], "&"}], "/@", 
         RowBox[{"Normal", "[", "aggContent", "]"}]}], "]"}]}], ";", "\n", 
      "\t\t", 
      RowBox[{"groupedUp", "=", "\n", "\t\t\t", 
       RowBox[{"GroupBy", "[", "\n", "\t\t\t\t", 
        RowBox[{"threaded", ",", "\n", "\t\t\t\t", 
         RowBox[{"First", "\[Rule]", "Last"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"Flatten", "@*", "List"}]}], "\n", "\t\t\t\t", "]"}]}], ";", 
      "\n", "\t\t", 
      RowBox[{"KeySort", "@", 
       RowBox[{"KeySelect", "[", 
        RowBox[{"groupedUp", ",", " ", "StringQ"}], "]"}]}]}]}], "\n", "\t\t",
     "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"iWebSitePruneUnchangedAggPages", "[", "aggthing_", "]"}], "[", 
    "aggs_", "]"}], ":=", "\n", "\t", 
   RowBox[{"Module", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", "oldAggs", "\n", "\t\t\t", "}"}], ",", "\n",
      "\t\t", 
     RowBox[{
      RowBox[{"oldAggs", "=", "\n", "\t\t\t", 
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
          "$WebSiteBuildContentStack", "=", 
           "$WebSiteBuildCachedContentStack"}], "}"}], ",", "\n", "\t\t\t\t", 
         
         RowBox[{"iWebSiteCollectAggPages", "[", "aggthing", "]"}]}], "\n", 
        "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"Complement", "[", "\n", "\t\t\t", 
       RowBox[{"aggs", ",", "\n", "\t\t\t", "oldAggs"}], "\n", "\t\t\t", 
       "]"}]}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteCollectAggPages", "[", 
   RowBox[{"aggthing_", ",", " ", 
    RowBox[{"check", ":", 
     RowBox[{"True", "|", "False"}], ":", "True"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{"If", "[", 
    RowBox[{"check", ",", " ", "\n", "\t\t", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"iWebSitePruneUnchangedAggPages", "[", "aggthing", "]"}], 
         "[", "#", "]"}], ",", " ", "#"}], "}"}], "&"}], ",", " ", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"#", ",", " ", "#"}], "}"}], "&"}]}], "\n", "\t\t", "]"}], "@",
    "\n", "\t\t", 
   RowBox[{
   "iWebSiteCollectAggPages", "[", "aggthing", 
    "]"}]}]}]}], \
"CodeInput",ExpressionUUID->"5483e856-bd16-4765-8f92-0739aebdaf9d"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteAggSingularize\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"c5e53a2c-6c2d-49ac-a759-bab9493ab67c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$WebSiteAggregationSingularizeMap", "=", "\n", "\t", 
   RowBox[{"<|", "\n", "\t\t", 
    RowBox[{"\"\<Categories\>\"", "\[Rule]", "\"\<Category\>\""}], "\n", 
    "\t\t", "|>"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteAggSingularize", "[", "name_", "]"}], ":=", "\n", "\t", 
  RowBox[{"Lookup", "[", 
   RowBox[{
   "$WebSiteAggregationSingularizeMap", ",", "\n", "\t\t", "name", ",", "\n", 
    "\t\t", 
    RowBox[{"Which", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"StringMatchQ", "[", 
       RowBox[{"name", ",", " ", "\n", "\t\t\t\t", 
        RowBox[{"Alternatives", "@@", "$DefaultWebSiteAggregationTypes"}]}], 
       "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
      RowBox[{"StringTrim", "[", 
       RowBox[{"name", ",", "\"\<s\>\""}], "]"}], ",", "\n", "\t\t\t", 
      RowBox[{"MemberQ", "[", 
       RowBox[{"$WebSiteAggregationTypes", ",", " ", 
        RowBox[{"StringTrim", "[", 
         RowBox[{"name", ",", " ", "\"\<s\>\""}], "]"}]}], "]"}], ",", "\n", 
      "\t\t\t\t", 
      RowBox[{"StringTrim", "[", 
       RowBox[{"name", ",", "\"\<s\>\""}], "]"}], ",", "\n", "\t\t\t", "True",
       ",", "\n", "\t\t\t\t", "None"}], "\n", "\t\t\t", "]"}]}], "\n", "\t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"ddc2e2cd-553a-4d4b-b9a4-bdbb6fe7e479"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]iWebSiteAggExportOverall\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"ec51e05d-cac7-4df6-9ef4-8553f78f027e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"iWebSiteAggExportOverall", "[", "\n", "\t", 
   RowBox[{
   "monitor_", ",", "\n", "\t", "outDir_", ",", " ", "thm_", ",", " ", 
    "longDir_", ",", " ", "config_", ",", "\n", "\t", "aggdata_", ",", " ", 
    "aggsingular_", ",", " ", "aggthing_", ",", "\n", "\t", 
    RowBox[{"Hold", "[", 
     RowBox[{"aggbit_", ",", " ", "$aggregationFiles_"}], "]"}], ",", "\n", 
    "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"With", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"fout", "=", "\n", "\t\t\t\t", 
       RowBox[{"WebSiteBuildSlug", "@", "\n", "\t", "\t\t\t", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", "\n", "\t", "\t\t\t\t", 
           RowBox[{"outDir", ",", "\n", "\t", "\t\t\t\t", 
            RowBox[{"aggdata", "[", "\"\<AggregationFile\>\"", "]"}]}], "\n", 
           "\t", "\t\t\t\t", "}"}]}]}]}]}], ",", "\n", "\t", "\t\t", 
      RowBox[{"templates", "=", "\n", "\t", "\t\t\t", 
       RowBox[{"Flatten", "@", 
        RowBox[{"List", "@", "\n", "\t", "\t\t\t\t", 
         RowBox[{
         "aggdata", "[", "\"\<AggregationTemplates\>\"", "]"}]}]}]}]}], "\n", 
     "\t", "\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"aggbit", "=", 
      RowBox[{"ToLowerCase", "@", "aggthing"}]}], ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"DirectoryQ", "@", 
         RowBox[{"DirectoryName", "@", "fout"}]}]}], ",", "\n", "\t\t\t", 
       RowBox[{"CreateDirectory", "@", 
        RowBox[{"DirectoryName", "@", "fout"}]}]}], "\n", "\t\t\t", "]"}], 
     ";", "\n", "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{"monitor", ",", "\n", "\t\t\t", 
        RowBox[{"Function", "[", 
         RowBox[{"Null", ",", "\n", "\t\t\t\t", 
          RowBox[{"Monitor", "[", 
           RowBox[{"#", ",", " ", "\n", "\t\t\t\t\t", 
            RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t\t\t", 
             RowBox[{"TemplateApply", "[", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"\"\<Generating ``\>\"", ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"WebSiteBuildURL", "@", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"FileNameDrop", "[", 
                 RowBox[{"fout", ",", 
                  RowBox[{"FileNameDepth", "@", "outDir"}]}], "]"}]}]}], "\n",
               "\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t", "]"}], ",", 
          "\n", "\t\t\t\t", "HoldAllComplete"}], "\n", "\t\t\t\t", "]"}], ",",
         "\n", "\t\t\t", "Identity"}], "\n", "\t\t\t", "]"}], "@", "\n", 
      "\t\t\t", 
      RowBox[{"WebSiteTemplateExport", "[", "\n", "\t\t\t\t", 
       RowBox[{
       "aggbit", ",", "\n", "\t", "\t\t\t", "fout", ",", "\n", "\t", "\t\t\t", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"thm", ",", "\"\<templates\>\""}], "}"}]}], ",", 
          "longDir"}], "}"}], ",", "\n", "\t", "\t\t\t", "None", ",", "\n", 
        "\t", "\t\t\t", "templates", ",", "\n", "\t", "\t\t\t", 
        RowBox[{"Merge", "[", "\n", "\t", "\t\t\t\t", 
         RowBox[{
          RowBox[{"{", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"config", ",", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{"aggthing", "->", 
             RowBox[{"Values", "@", "$aggregationFiles"}]}], ",", "\n", "\t", 
            "\t\t\t\t\t", 
            RowBox[{"\"\<URL\>\"", "->", "\n", "\t", "\t\t\t\t\t\t", 
             RowBox[{"Set", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{"aggbit", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
               RowBox[{"WebSiteBuildURL", "@", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                RowBox[{"FileNameDrop", "[", 
                 RowBox[{"fout", ",", 
                  RowBox[{"FileNameDepth", "@", "outDir"}]}], "]"}]}]}], "\n",
               "\t", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t", "\t\t\t\t\t", 
           "}"}], ",", "\n", "\t", "\t\t\t\t", "Last"}], "\n", "\t", 
         "\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t", "]"}]}], ";", "\n", 
     "\t\t", 
     RowBox[{"aggbit", "=."}], ";"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"29547a3c-fde3-42d1-8e3c-40fe097764dc"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]iWebSiteAggExportItem\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"718d02c4-474d-4f41-a209-7739c9ee7437"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"iWebSiteAggExportItem", "[", "\n", "\t", 
    RowBox[{
    "monitor_", ",", "\n", "\t", "outDir_", ",", " ", "thm_", ",", " ", 
     "longDir_", ",", " ", "config_", ",", "\n", "\t", "aggdata_", ",", " ", 
     "aggsingular_", ",", " ", "aggthing_", ",", "\n", "\t", 
     RowBox[{"Hold", "[", 
      RowBox[{"aggbit_", ",", " ", "$aggregationFiles_"}], "]"}], ",", "\n", 
     "\t", "pruningList_", ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], "[", 
   RowBox[{"aggKey_", ",", " ", "aggFiles_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"fout", "=", "\n", "\t\t\t", 
       RowBox[{"(*", 
        RowBox[{
        "The", " ", "file", " ", "to", " ", "export", " ", "the", " ", 
         "aggregation", " ", "file", " ", "to"}], "*)"}], "\n", "\t\t\t", 
       RowBox[{"WebSiteBuildSlug", "@", "\n", "\t\t\t\t", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", "\n", "\t\t\t\t\t", 
           RowBox[{"outDir", ",", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"aggdata", "[", "\"\<File\>\"", "]"}], "@", "aggKey"}]}],
            "\n", "\t\t\t\t\t", "}"}]}]}]}]}], ",", "\n", "\t\t", 
      RowBox[{"templates", "=", "\n", "\t\t\t", 
       RowBox[{"(*", 
        RowBox[{"The", " ", "template", " ", "file", " ", "to", " ", "use"}], 
        "*)"}], "\n", "\t\t\t", 
       RowBox[{"Flatten", "@", 
        RowBox[{"List", "@", "\n", "\t\t\t\t", 
         RowBox[{"aggdata", "[", "\"\<Templates\>\"", "]"}]}]}]}]}], "\n", 
     "\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"$aggregationFiles", "[", "aggKey", "]"}], "=", "\n", "\t\t\t", 
      
      RowBox[{"<|", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"aggsingular", "\[Rule]", "aggKey"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"\"\<File\>\"", "->", "fout"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"\"\<Articles\>\"", "\[Rule]", "aggFiles"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"\"\<URL\>\"", "->", 
         RowBox[{"WebSiteBuildURL", "@", 
          RowBox[{"FileNameDrop", "[", 
           RowBox[{"fout", ",", " ", 
            RowBox[{"FileNameDepth", "@", "outDir"}]}], "]"}]}]}]}], "\n", 
       "\t\t\t\t", "|>"}]}], ";", "\n", "\t\t", 
     RowBox[{"aggbit", "=", 
      RowBox[{"ToLowerCase", "[", 
       RowBox[{"aggthing", "<>", "\"\</\>\"", "<>", "aggKey"}], "]"}]}], ";", 
     "\n", "\t\t", 
     RowBox[{"(*", " ", 
      RowBox[{"Make", " ", "sure", " ", "directory", " ", "exists"}], " ", 
      "*)"}], "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"DirectoryQ", "@", 
         RowBox[{"DirectoryName", "@", "fout"}]}]}], ",", "\n", "\t\t\t", 
       RowBox[{"CreateDirectory", "@", 
        RowBox[{"DirectoryName", "@", "fout"}]}]}], "\n", "\t\t\t", "]"}], 
     ";", "\n", "\t\t", 
     RowBox[{"(*", " ", "\n", "\t\t", 
      RowBox[{
       RowBox[{"Export", " ", "aggregation", " ", "file"}], ",", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"e", ".", "g", ".", " ", "tags"}], "/", 
         RowBox[{"mathematica", ".", "html"}]}], " ", "passing", " ", "the", 
        " ", "\n", "\t", "\t", "list", " ", "of", " ", "file", " ", "URLs", 
        " ", "as", " ", "the", " ", "aggregation", " ", "name"}], ",", " ", 
       RowBox[{"e", ".", "g", ".", " ", "Tags"}]}], "\n", "\t", "\t", "*)"}], 
     "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"KeyExistsQ", "[", 
        RowBox[{"pruningList", ",", " ", "aggKey"}], "]"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"WebSiteTemplateExportPaginated", "[", "\n", "\t\t\t\t", 
        RowBox[{"aggbit", ",", "\n", "\t", "\t", "\t", "\t", 
         RowBox[{"FileBaseName", "[", "fout", "]"}], ",", "\n", "\t", "\t", 
         "\t", "\t", 
         RowBox[{"FileNameTake", "[", 
          RowBox[{"fout", ",", " ", 
           RowBox[{"{", 
            RowBox[{"1", ",", " ", 
             RowBox[{"-", "2"}]}], "}"}]}], "]"}], ",", "\n", "\t", "\t", 
         "\t", "\t", "outDir", ",", "\n", "\t", "\t", "\t", "\t", 
         RowBox[{"{", "\n", "\t", "\t", "\t", "\t\t", 
          RowBox[{"thm", ",", "\n", "\t", "\t", "\t", "\t\t", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{"thm", ",", " ", "\"\<templates\>\""}], "}"}]}], ",", 
           "\n", "\t", "\t", "\t", "\t\t", "longDir"}], "\n", "\t", "\t", 
          "\t", "\t\t", "}"}], ",", "\n", "\t", "\t", "\t", "\t", "None", ",",
          "\n", "\t", "\t", "\t", "\t", "templates", ",", " ", "\n", "\t", 
         "\t", "\t", "\t", 
         RowBox[{"Append", "[", 
          RowBox[{"config", ",", " ", 
           RowBox[{"aggsingular", "\[Rule]", "aggKey"}]}], "]"}], ",", "\n", 
         "\t", "\t\t\t", 
         RowBox[{"Lookup", "[", "\n", "\t", "\t", "\t", "\t\t", 
          RowBox[{
           RowBox[{"Lookup", "[", 
            RowBox[{
            "$WebSiteBuildContentStack", ",", " ", "aggFiles", ",", " ", 
             RowBox[{"<|", "|>"}]}], "]"}], ",", "\n", "\t", "\t", "\t", 
           "\t\t", "\"\<Attributes\>\"", ",", "\n", "\t", "\t", "\t", "\t\t", 
           
           RowBox[{"<|", "|>"}]}], "\n", "\t", "\t", "\t", "\t\t", "]"}], ",",
          "\n", "\t", "\t\t\t", 
         RowBox[{"FilterRules", "[", "\n", "\t", "\t\t\t\t", 
          RowBox[{
           RowBox[{"{", "ops", "}"}], ",", " ", "\n", "\t", "\t", "\t", 
           "\t\t", 
           RowBox[{"Options", "@", "WebSiteTemplateExportPaginated"}]}], "\n",
           "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", 
      "]"}], ";", "\n", "\t\t\t", 
     RowBox[{"aggbit", "=."}], ";"}]}], "\n", "\t\t", "]"}]}], "\n", 
 RowBox[{"\t"}]}], \
"CodeInput",ExpressionUUID->"697b2aa8-1760-4a7b-9c94-374e1bba4625"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]iWebSiteGenerateAggPages\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"12aed323-2f1f-4c8a-a7f9-4d017b0083f4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"iWebSiteGenerateAggPages", "[", "\n", "\t", 
   RowBox[{
   "outDir_", ",", "\n", "\t", "longDir_", ",", "\n", "\t", "thm_", ",", "\n",
     "\t", "config_", ",", "\n", "\t", "aggthing_", ",", "\n", "\t", 
    "aggsingular_", ",", "\n", "\t", "aggdata_", ",", "\n", "\t", 
    "checkChanged_", ",", "\n", "\t", 
    RowBox[{"Hold", "[", "aggbit_", "]"}], ",", "\n", "\t", "monitor_", ",", 
    "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"Block", "[", "\n", "\t\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t\t", 
     RowBox[{"(*", " ", 
      RowBox[{
      "Files", " ", "to", " ", "be", " ", "collected", " ", "and", " ", 
       "passed", " ", "to", " ", "combined", " ", "aggregation"}], " ", 
      "*)"}], "\n", "\t\t\t\t", 
     RowBox[{
      RowBox[{"$aggregationFiles", "=", 
       RowBox[{"<|", "|>"}]}], ",", "\n", "\t\t\t\t", 
      RowBox[{"(*", 
       RowBox[{
       "Collect", " ", "type", " ", "name", " ", "and", " ", "templates"}], 
       "*)"}], "\n", "\t\t\t\t", "pragglist", ",", "\n", "\t\t\t\t", 
      RowBox[{"agglist", "=", 
       RowBox[{"WebSiteCollectAggPages", "[", 
        RowBox[{"aggthing", ",", " ", "checkChanged"}], "]"}]}]}], "\n", 
     "\t\t\t\t", 
     RowBox[{"(*", 
      RowBox[{
      "Gather", " ", "elements", " ", "in", " ", "the", " ", "content", " ", 
       "stack", "  ", "by", " ", "type", " ", "in", " ", "the", " ", 
       "aggregation"}], "*)"}], "\n", "\t\t\t\t", "}"}], ",", "\n", "\t\t\t", 
    
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"pragglist", ",", " ", "agglist"}], "}"}], "=", 
      RowBox[{"WebSiteCollectAggPages", "[", 
       RowBox[{"aggthing", ",", " ", "checkChanged"}], "]"}]}], ";", "\n", 
     "\t\t\t", 
     RowBox[{"KeyValueMap", "[", "\n", "\t\t\t\t", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Map", " ", "over", " ", "aggregated", " ", "elements"}], ",",
         " ", 
        RowBox[{"e", ".", "g", "."}], ",", " ", 
        RowBox[{
        "over", " ", "each", " ", "tag", " ", "or", " ", "category"}]}], 
       "*)"}], "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{"iWebSiteAggExportItem", "[", "\n", "\t\t\t\t\t", 
        RowBox[{
        "monitor", ",", "\n", "\t\t\t\t\t", "outDir", ",", " ", "thm", ",", 
         " ", "longDir", ",", " ", "config", ",", "\n", "\t\t\t\t\t", 
         "aggdata", ",", " ", "aggsingular", ",", " ", "aggthing", ",", "\n", 
         "\t\t\t\t\t", 
         RowBox[{"Hold", "[", 
          RowBox[{"aggbit", ",", " ", "$aggregationFiles"}], "]"}], ",", "\n",
          "\t\t\t\t\t", "pragglist", ",", "\n", "\t\t\t\t\t", "ops"}], "\n", 
        "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", "agglist"}], "\n", 
      "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
     RowBox[{"If", "[", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{"If", " ", 
         RowBox[{"there", "'"}], "s", " ", "a", " ", "overall", " ", 
         "aggregation", " ", "to", " ", "use"}], ",", " ", 
        RowBox[{
         RowBox[{"e", ".", "g", ".", " ", "all"}], " ", "tags", " ", "or", 
         " ", "categories"}]}], "*)"}], "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{"AllTrue", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
          "\"\<AggregationFile\>\"", ",", "\"\<AggregationTemplates\>\""}], 
          "}"}], ",", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"KeyMemberQ", "[", 
           RowBox[{"aggdata", ",", "#"}], "]"}], "&"}]}], "\n", "\t\t\t\t\t", 
        "]"}], ",", "\n", "\t\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "@", "agglist"}], ">", "0"}], ",", "\n", 
         "\t\t\t\t\t", 
         RowBox[{"iWebSiteAggExportOverall", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
          "monitor", ",", "\n", "\t", "\t\t\t\t\t", "outDir", ",", " ", "thm",
            ",", " ", "longDir", ",", " ", "config", ",", "\n", "\t", 
           "\t\t\t\t\t", "aggdata", ",", " ", "aggsingular", ",", " ", 
           "aggthing", ",", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Hold", "[", 
            RowBox[{"aggbit", ",", " ", "$aggregationFiles"}], "]"}], ",", 
           "\n", "\t\t\t\t\t\t", "ops"}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n",
         "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"08223277-b5fb-45e0-b50f-e4788d72de66"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteGenerateAggregationPages\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.733680862336738*^9, 
  3.733680886994101*^9}},ExpressionUUID->"f3fccf07-f02e-4006-bad7-\
40263690b888"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "badagg"}], "=", 
   "\"\<Can't deal with aggregation type ``\>\""}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.733704808046063*^9, 
  3.7337048146851892`*^9}},ExpressionUUID->"d7494d15-eec1-441b-838b-\
519307ebc753"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Options", "[", "WebSiteGenerateAggregationPages", "]"}], "=", "\n",
   "\t", 
  RowBox[{"{", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Monitor", "\[Rule]", "True"}], ",", "\n", "\t\t", 
    RowBox[{"\"\<PageSize\>\"", "\[Rule]", "0"}], ",", "\n", "\t\t", 
    RowBox[{"\"\<CheckChanges\>\"", "\[Rule]", "True"}]}], "\n", "\t\t", 
   "}"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteGenerateAggregationPages", "[", "\n", "\t", 
    RowBox[{
    "dir_", ",", "\n", "\t", "aggpages_", ",", "\n", "\t", "outDir_", ",", 
     "\n", "\t", "theme_", ",", "\n", "\t", "config_", ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Module", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"longDir", "=", 
        RowBox[{"ExpandFileName", "@", "dir"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"thm", "=", 
        RowBox[{"WebSiteFindTheme", "[", 
         RowBox[{"dir", ",", "theme", ",", " ", 
          RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "True"}]}], "]"}]}], 
       ",", "\n", "\t\t\t", 
       RowBox[{"checkChanged", "=", 
        RowBox[{"TrueQ", "@", 
         RowBox[{"OptionValue", "[", "\"\<CheckChanges\>\"", "]"}]}]}]}], 
      "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Block", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"{", "\n", "\t\t\t\t", 
         RowBox[{
         "aggbit", ",", "\n", "\t\t\t\t", "outfile", ",", "\n", "\t", 
          "\t\t\t", 
          RowBox[{"$WebSiteAggregationTypes", "=", "\n", "\t", "\t\t\t\t", 
           RowBox[{"Join", "[", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{
            "$DefaultWebSiteAggregationTypes", ",", " ", "\n", "\t", 
             "\t\t\t\t\t", 
             RowBox[{"(*", "\n", "\t", "\t\t\t\t", 
              RowBox[{
              "Include", " ", "custom", " ", "aggregation", " ", "types", " ",
                "from", " ", "templates", " ", 
               RowBox[{"dir", ":", "\n", "\t", "\t\t\t\t\t", "TODO", ":", " ", 
                RowBox[{
                "link", " ", "to", " ", "custom", " ", "agg", " ", "pages", 
                 " ", "in", " ", "later", " ", "bit", " ", "and", " ", 
                 "check", " ", "metainfo", " ", "for", " ", "key"}]}]}], 
              "\t\t", "\n", "\t", "\t\t\t\t", "*)"}], "\n", "\t", 
             "\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"{", 
                 RowBox[{"\"\<aggregations\>\"", ",", " ", 
                  RowBox[{"FileBaseName", "[", "#", "]"}]}], "}"}]}], "&"}], "/@",
               "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{"FileNames", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"\"\<*.html\>\"", "|", "\"\<*.xml\>\""}], ",", "\n", 
                "\t", "\t\t\t\t\t\t\t", 
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{
                  "thm", ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                   "\"\<templates\>\"", ",", "\n", "\t", "\t", 
                   "\t\t\t\t\t\t\t", "\"\<aggregations\>\""}], "\n", "\t", 
                  "\t\t\t\t\t\t\t\t", "}"}]}]}], "\n", "\t", "\t\t\t\t\t\t\t",
                "]"}]}]}], "\n", "\t", "\t\t\t\t\t", "]"}]}]}], "\n", "\t", 
         "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"KeyValueMap", "[", 
          RowBox[{"(*", 
           RowBox[{
           "Map", " ", "over", " ", "aggregation", " ", "types", " ", "and", 
            " ", "templates"}], "*)"}], "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", "\n", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{"aggthing", "=", "#"}], ",", "\n", "\t\t\t\t\t", 
                RowBox[{"aggdata", "=", "#2"}], ",", "\n", "\t\t\t\t\t", 
                RowBox[{"aggsingular", "=", 
                 RowBox[{"WebSiteAggSingularize", "[", "#", "]"}]}]}], 
               RowBox[{"(*", " ", 
                RowBox[{
                 RowBox[{
                 "this", " ", "should", " ", "be", " ", "a", " ", "little", 
                  " ", "top"}], "-", 
                 RowBox[{"level", " ", "function"}]}], " ", "*)"}], "\n", 
               "\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"aggsingular", "===", "None"}], ",", "\n", 
                "\t\t\t\t\t\t", 
                RowBox[{"(*", " ", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                   "Dunno", " ", "what", " ", "to", " ", "do", " ", "here"}], 
                   " ", "..."}], ".."}], " ", "*)"}], "\n", "\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"PackageThrowMessage", "[", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{
                  "\"\<SiteBuilder\>\"", ",", "\n", "\t\t\t\t\t\t\t", 
                   RowBox[{"Evaluate", "[", 
                    RowBox[{"WebSiteBuild", "::", "badagg"}], "]"}], ",", 
                   "\n", "\t\t\t\t\t\t\t", "aggthing"}], "\n", 
                  "\t\t\t\t\t\t\t", "]"}], ";"}], ",", "\n", "\t\t\t\t\t\t", 
                RowBox[{
                "iWebSiteGenerateAggPages", "[", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{
                 "outDir", ",", "\n", "\t\t\t\t\t\t\t", "longDir", ",", "\n", 
                  "\t\t\t\t\t\t\t", "thm", ",", "\n", "\t\t\t\t\t\t\t", 
                  "config", ",", "\n", "\t\t\t\t\t\t\t", "aggthing", ",", 
                  "\n", "\t\t\t\t\t\t\t", "aggsingular", ",", "\n", 
                  "\t\t\t\t\t\t\t", "aggdata", ",", "\n", "\t\t\t\t\t\t\t", 
                  "checkChanged", ",", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{"Hold", "[", "aggbit", "]"}], ",", "\n", 
                  "\t\t\t\t\t\t\t", 
                  RowBox[{"TrueQ", "@", 
                   RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", "\n", 
                  "\t\t\t\t\t\t\t", "ops"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], 
               "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], 
            "&"}], ",", "\n", "\t\t\t\t", 
           RowBox[{"Replace", "[", 
            RowBox[{"aggpages", ",", 
             RowBox[{
             "Automatic", "\[RuleDelayed]", 
              "$WebSiteGenerateAggregationPages"}]}], "]"}]}], "\n", 
          "\t\t\t\t", "]"}], ";"}]}], "\n", "\t\t\t", "]"}], ";"}]}], "\n", 
    "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteGenerateAggregationPages", "[", "\n", "\t", 
   RowBox[{
   "dir_", ",", "\n", "\t", "aggpages_", ",", "\n", "\t", "outDir_", ",", 
    "\n", "\t", "theme_", ",", "\n", "\t", "config_", ",", "\n", "\t", 
    RowBox[{"ops_", "?", "AssociationQ"}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"WebSiteGenerateAggregationPages", "[", "\n", "  \t", 
   RowBox[{
   "dir", ",", "\n", "  \t", "aggpages", ",", "\n", "  \t", "outDir", ",", 
    "\n", "  \t", "theme", ",", "\n", "  \t", "config", ",", "\n", "  \t", 
    RowBox[{"Normal", "@", "ops"}]}], "\n", "  \t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"f7bbe0bd-d2da-494c-b42f-c586fc94e553"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]GenerateIndexPages\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7126809292195377`*^9, 3.712680932106715*^9}, 
   3.733711198323041*^9},ExpressionUUID->"01fc11ca-ac85-45c0-bc17-\
d8d85746369d"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteGatherIndexTemplates\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"f8843227-02ce-4d38-aa49-960d053e1de3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteGatherIndexTemplates", "[", "thm_", "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{
    RowBox[{"FileNameDrop", "[", 
     RowBox[{"#", ",", " ", 
      RowBox[{"1", "+", 
       RowBox[{"FileNameDepth", "[", "thm", "]"}]}]}], "]"}], "&"}], "/@", 
   "\n", "\t\t", 
   RowBox[{"Join", "[", "\n", "\t\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t\t", 
      RowBox[{"FileNameJoin", "[", 
       RowBox[{"{", 
        RowBox[{
        "thm", ",", " ", "\"\<templates\>\"", ",", " ", 
         "\"\<index.html\>\""}], "}"}], "]"}], "\n", "\t\t\t\t", "}"}], ",", 
     "\n", "\t\t\t", 
     RowBox[{"FileNames", "[", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{"\"\<*.html\>\"", "|", "\"\<*.xml\>\""}], ",", " ", "\n", 
       "\t\t\t\t", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{
         "thm", ",", " ", "\"\<templates\>\"", ",", " ", "\"\<indexes\>\""}], 
         "}"}]}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", 
    "]"}]}]}]], \
"CodeInput",ExpressionUUID->"a55ca65a-f2b7-4f84-8786-85cd335ce6ad"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteGenerateIndexPages\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"3b2fe8bd-ed34-4cc1-a923-66bdae56ef2d"],

Cell[BoxData[
 RowBox[{"WebSiteGenerateIndexPages", "//", "ClearAll"}]], "CodeInput",
 CellChangeTimes->{{3.712687458977841*^9, 3.7126874598570538`*^9}, 
   3.733704533727862*^9},ExpressionUUID->"4fff3669-9950-4125-9fde-\
9c52c8fb2454"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteGenerateIndexPages", "]"}], "=", "\n", 
   "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<PageSize\>\"", "\[Rule]", "0"}], ",", "\n", "\t\t", 
     RowBox[{"Monitor", "\[Rule]", "True"}]}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteGenerateIndexPages", "[", 
    RowBox[{
    "dir_", ",", " ", "outDir_", ",", " ", "theme_", ",", " ", "config_", ",",
      " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"longDir", "=", 
        RowBox[{"ExpandFileName", "@", "dir"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"thm", "=", 
        RowBox[{"WebSiteFindTheme", "[", 
         RowBox[{"dir", ",", " ", "theme", ",", " ", 
          RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "True"}]}], "]"}]}]}], 
      "\n", "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"WebSiteTemplateExportPaginated", "[", "\n", "\t\t\t\t", 
        RowBox[{"#", ",", "\n", "\t\t\t\t", 
         RowBox[{"StringReplace", "[", 
          RowBox[{
           RowBox[{"StringTrim", "[", 
            RowBox[{"#", ",", " ", "\"\<.html\>\""}], "]"}], ",", " ", 
           RowBox[{"\"\<indexes\>\"", "\[Rule]", "\"\<index\>\""}]}], "]"}], 
         ",", "\n", "\t\t\t\t", "outDir", ",", " ", "outDir", ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{"thm", ",", "\n", "\t\t\t\t\t", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{"thm", ",", " ", "\"\<templates\>\""}], "}"}]}], ",", 
           " ", "\n", "\t\t\t\t\t", "longDir"}], "\n", "\t\t\t\t\t", "}"}], 
         ",", "\n", "\t\t\t\t", "None", ",", "\n", "\t\t\t\t", 
         RowBox[{"{", "#", "}"}], ",", " ", "\n", "\t\t\t\t", "config", ",", 
         "\n", "\t\t\t\t", 
         RowBox[{"$WebSiteBuildAggStack", "[", "\"\<Articles\>\"", "]"}], ",",
          "\n", "\t\t\t\t", 
         RowBox[{"FilterRules", "[", 
          RowBox[{
           RowBox[{"{", "ops", "}"}], ",", " ", "\n", "\t\t\t\t\t", 
           RowBox[{"Options", "@", "WebSiteTemplateExportPaginated"}]}], "\n",
           "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}], "&"}], "/@", 
      RowBox[{"WebSiteGatherIndexTemplates", "[", "thm", "]"}]}]}], "\n", 
    "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteGenerateIndexPages", "[", 
   RowBox[{
   "dir_", ",", " ", "outDir_", ",", " ", "theme_", ",", " ", "config_", ",", 
    " ", 
    RowBox[{"ops_", "?", "AssociationQ"}]}], "]"}], ":=", "\n", "  ", 
  RowBox[{"WebSiteGenerateIndexPages", "[", 
   RowBox[{
   "dir", ",", " ", "outDir", ",", " ", "theme", ",", " ", "config", ",", " ", 
    RowBox[{"Normal", "[", "ops", "]"}]}], 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"438dd022-f67a-463f-b4d1-a6f8249628ca"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]GenerateContent\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"afadb497-a2c8-4cf8-a839-e1b44702156a"],

Cell[BoxData[
 RowBox[{"WebSiteGenerateContent", "//", "ClearAll"}]], "CodeInput",
 CellChangeTimes->{{3.712597235663507*^9, 3.712597236408803*^9}, 
   3.712664442599132*^9},ExpressionUUID->"1e68d2df-1113-4612-830f-\
a5a5613729b7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "genfl"}], "=", 
   "\"\<Failed to generate HTML for file ``\>\""}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.712626329552887*^9, 
  3.712626343921582*^9}},ExpressionUUID->"fbcc0138-9e5a-4f58-8dd6-\
ca7e7654cbde"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteGenerateContent", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Monitor", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<LastBuild\>\"", "\[Rule]", "None"}]}], "\n", "\t\t", 
    "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteGenerateContent", "[", "\n", "\t", 
    RowBox[{
    "dir_", ",", "files_", ",", "\n", "\t", "outDir_", ",", "theme_", ",", 
     "config_", ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Module", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"longDir", "=", 
        RowBox[{"ExpandFileName", "@", "dir"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"thm", "=", 
        RowBox[{"WebSiteFindTheme", "[", 
         RowBox[{"dir", ",", " ", "theme", ",", " ", 
          RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "True"}]}], "]"}]}], 
       ",", "\n", "\t\t\t", 
       RowBox[{"lb", "=", 
        RowBox[{"OptionValue", "[", "\"\<LastBuild\>\"", "]"}]}], ",", "\n", 
       "\t\t\t", "fname", ",", "\n", "\t\t\t", "cname", ",", "\n", "\t\t\t", 
       "path", ",", "\n", "\t\t\t", "fout", ",", "\n", "\t\t\t", "conf", ",", 
       "\n", "\t\t\t", "mod"}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Block", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"{", "\n", "\t\t\t\t", 
         RowBox[{"genfile", ",", "\n", "\t\t\t\t", "outfile"}], "\n", 
         "\t\t\t\t", "}"}], ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"TrueQ", "@", 
            RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", " ", 
           "Monitor", ",", " ", 
           RowBox[{"#", "&"}]}], "]"}], "[", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"With", "[", "\n", "\t\t\t\t", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"f", "=", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], "}"}], ",", "\n", 
               "\t\t\t\t", 
               RowBox[{"Function", "[", "\n", "\t\t\t\t\t", 
                RowBox[{"Null", ",", "\n", "\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"mod", "=", "\n", "\t\t\t\t\t\t", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"DateObjectQ", "@", 
                    RowBox[{"conf", "[", "\"\<Modified\>\"", "]"}]}], ",", 
                    " ", "\n", "\t\t\t\t\t\t\t", 
                    RowBox[{"conf", "[", "\"\<Modified\>\"", "]"}], ",", " ", 
                    "\n", "\t\t\t\t\t\t\t", 
                    RowBox[{"FileDate", "[", 
                    RowBox[{"f", ",", " ", "\"\<Modification\>\""}], "]"}]}], 
                    "\n", "\t\t\t\t\t\t\t", "]"}]}], ";", "\n", "\t\t\t\t\t", 
                  
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"!", 
                    RowBox[{"DateObjectQ", "@", "lb"}]}], "||", 
                    RowBox[{"mod", "\[GreaterEqual]", "lb"}]}], ",", "\n", 
                    "\t\t\t\t\t\t", "#", ",", "\n", "\t\t\t\t\t\t", 
                    "Nothing"}], "\n", "\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                 "\t\t\t\t\t", "HoldAllComplete"}], "\n", "\t\t\t\t\t", 
                "]"}]}], "\n", "\t\t\t\t", "]"}], "@", "\n", "\t\t\t\t", 
             RowBox[{"CompoundExpression", "[", "\n", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"fname", "=", "\n", "\t\t\t\t\t\t", 
                RowBox[{"(*", " ", 
                 RowBox[{
                 "In", " ", "case", " ", "the", " ", "file", " ", "had", " ", 
                  "a", " ", "path", " ", "already"}], " ", "*)"}], "\n", 
                "\t\t\t\t\t\t", 
                RowBox[{"ExpandFileName", "@", "\n", "\t", "\t\t\t\t\t\t", 
                 RowBox[{"Replace", "[", 
                  RowBox[{"#", ",", 
                   RowBox[{
                    RowBox[{"Except", "[", 
                    RowBox[{"_String", "|", "_File"}], "]"}], 
                    "\[RuleDelayed]", 
                    RowBox[{"First", "[", "#", "]"}]}]}], "]"}]}]}], ",", 
               "\n", "\t\t\t\t\t", 
               RowBox[{"cname", "=", 
                RowBox[{"webSitePrepContentName", "[", 
                 RowBox[{"fname", ",", " ", "dir"}], "]"}]}], ",", "\n", 
               "\t\t\t\t\t", 
               RowBox[{"path", "=", "\n", "\t\t\t\t\t\t", 
                RowBox[{"(*", " ", 
                 RowBox[{
                  RowBox[{"Use", " ", "path", " ", "if", " ", "provided"}], 
                  ",", " ", 
                  RowBox[{"else", " ", 
                   RowBox[{"base", ".", "html"}]}]}], " ", "*)"}], "\n", "\t",
                 "\t\t\t\t\t", 
                RowBox[{"Flatten", "@", 
                 RowBox[{"List", "@", "\n", "\t", "\t\t\t\t\t\t", 
                  RowBox[{"Replace", "[", 
                   RowBox[{"#", ",", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t", 
                    RowBox[{"{", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Except", "[", 
                    RowBox[{"_String", "|", "_File"}], "]"}], 
                    "\[RuleDelayed]", 
                    RowBox[{"Last", "[", "#", "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"_", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildGetTemplates", "[", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "ExpandFileName", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Replace", "[", 
                    RowBox[{"#", ",", 
                    RowBox[{
                    RowBox[{"Except", "[", 
                    RowBox[{"_String", "|", "_File"}], "]"}], 
                    "\[RuleDelayed]", 
                    RowBox[{"First", "[", "#", "]"}]}]}], "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "longDir"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t\t\t", 
                   "]"}]}]}]}], ",", "\n", "\t\t\t\t\t", 
               RowBox[{"fout", "=", "\n", "\t\t\t\t\t\t", 
                RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"Fold", "[", "\n", "\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{"#", ",", " ", "#2", ",", " ", 
                    RowBox[{"<|", "|>"}]}], "]"}], "&"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t", "$WebSiteBuildContentStack", ",", 
                    "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", 
                    RowBox[{
                    "fname", ",", " ", "\"\<Attributes\>\"", ",", " ", 
                    "\"\<URL\>\""}], "}"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}],
                   ",", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"u_String", ":>", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"outDir", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"URLParse", "[", 
                    RowBox[{"u", ",", " ", "\"\<Path\>\""}], "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "}"}]}]}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"_", ":>", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildAttachExtension", "@", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"outDir", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildSlug", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "Lookup", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    "$WebSiteBuildContentStack", ",", " ", "cname", ",", " ", 
                    
                    RowBox[{"<|", "|>"}]}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", "\"\<Attributes\>\"", ",",
                     "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"<|", "|>"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "\"\<FilePath\>\"", ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"WebSiteBuildFilePath", "[", 
                    RowBox[{"cname", ",", " ", "outDir"}], "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "}"}]}]}]}]}], "\n", 
                   "\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t\t", 
                 "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"genfile", "=", "fname"}], ";", "\n", "\t\t\t\t\t\t", 
                
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"!", 
                   RowBox[{"DirectoryQ", "@", 
                    RowBox[{"DirectoryName", "@", "fout"}]}]}], ",", "\n", 
                  "\t", "\t", "\t\t\t\t\t", 
                  RowBox[{"CreateDirectory", "@", 
                   RowBox[{"DirectoryName", "@", "fout"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"conf", "=", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"config", ",", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<URL\>\"", "\[Rule]", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "WebSiteBuildURL", "@", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameDrop", "[", 
                    RowBox[{"fout", ",", " ", 
                    RowBox[{"FileNameDepth", "@", "outDir"}]}], "]"}]}]}]}], 
                   "\n", "\t", "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t", "Last"}], "\n", "\t\t\t\t\t\t\t\t", 
                 "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{
               "WebSiteSetContentAttributes", "[", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"fname", ",", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{"\"\<URL\>\"", "->", 
                  RowBox[{"conf", "[", "\"\<URL\>\"", "]"}]}]}], "\n", 
                "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"WebSiteTemplateExport", "[", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{
                "genfile", ",", "\n", "\t\t\t\t\t\t\t", "fout", ",", "\n", 
                 "\t\t\t\t\t\t\t", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"thm", ",", " ", "\"\<templates\>\""}], "}"}]}], 
                   ",", "longDir"}], "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
                 "fname", ",", "\n", "\t\t\t\t\t\t\t", "path", ",", "\n", 
                 "\t\t\t\t\t\t\t", "conf"}], "\n", "\t\t\t\t\t\t\t", "]"}], 
               ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"outfile", "=."}], ";"}]}], "\n", "\t\t\t\t\t\t", 
              "]"}]}], "&"}], "/@", "files"}], ",", "\n", "\t\t\t\t", 
          RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t\t", 
           RowBox[{"TemplateApply", "[", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{"\"\<Exporting ``\>\"", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{
             "{", "\n", "\t\t\t\t\t\t\t", "genfile", "\n", "\t\t\t\t\t\t\t", 
              "}"}]}], "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", 
         "]"}]}], "\n", "\t\t\t", "]"}], ";"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteGenerateContent", "[", "\n", "\t", 
   RowBox[{
   "dir_", ",", "files_", ",", "\n", "\t", "outDir_", ",", "theme_", ",", 
    "config_", ",", "\n", "\t", 
    RowBox[{"ops_", "?", "AssociationQ"}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"WebSiteGenerateContent", "[", "\n", "  \t", 
   RowBox[{
   "dir", ",", " ", "files", ",", "\n", "  \t", "outDir", ",", " ", "theme", 
    ",", " ", "config", ",", "\n", "  \t", 
    RowBox[{"Normal", "@", "ops"}]}], "\n", "  \t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"ac306d4d-cd75-48ec-ad43-d1e031383d27"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]GenerateSearchPage\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"e6b147ac-a7de-4053-a3f7-616daf6fd2df"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]iWebSiteGenerateSearchIndex\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"2067fae4-a53f-4d0b-a6ce-5e0e596b2432"],

Cell[BoxData[
 RowBox[{
  RowBox[{"iWebSiteGenerateSearchIndex", "[", "\n", "\t", 
   RowBox[{
   "dir_", ",", " ", "\n", "\t", "outDir_", ",", "\n", "\t", "config_"}], 
   "\n", "\t", "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"contentData", "=", "\n", "\t\t\t\t", 
       RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"Values", "@", "$WebSiteBuildContentStack"}], ",", "\n", 
         "\t\t\t\t\t", "\"\<Attributes\>\""}], "\n", "\t\t\t\t\t", "]"}]}], 
      ",", "\n", "\t\t\t", "siteIndexedContent", ",", "\n", "\t\t\t", 
      "selector", ",", "\n", "\t\t\t", "pagesForReal"}], "\n", "\t\t\t", 
     "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"siteIndexedContent", "=", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"Except", "[", 
          RowBox[{"{", "__String", "}"}], "]"}], "\[RuleDelayed]", 
         RowBox[{"{", "\"\<Articles\>\"", "}"}]}], "\n", "\t\t\t\t", "]"}], 
       "@", 
       RowBox[{"config", "[", "\"\<SearchedPages\>\"", "]"}]}]}], ";", "\n", 
     "\t\t", 
     RowBox[{"selector", "=", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"Evaluate", "[", "\n", "\t\t\t\t", 
         RowBox[{"holdMemQ", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"#", "[", "\"\<Templates\>\"", "]"}], ",", " ", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"Alternatives", "@@", "\n", "\t\t\t\t\t", 
            RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t", 
             RowBox[{"siteIndexedContent", ",", " ", "\n", "\t\t\t\t\t\t", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                "\"\<Articles\>\"", "\[Rule]", "\"\<article.html\>\""}], ",", 
                "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"\"\<Pages\>\"", "\[Rule]", "\"\<page.html\>\""}], 
                ",", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"\"\<Images\>\"", "|", "\"\<Themes\>\""}], ":>", 
                 "Nothing"}], ",", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"s_String", "\[RuleDelayed]", 
                 RowBox[{
                  RowBox[{"StringTrim", "[", 
                   RowBox[{"s", ",", " ", "\"\<.html\>\""}], "]"}], "<>", 
                  "\"\<.html\>\""}]}]}], "\n", "\t\t\t\t\t\t\t", "}"}], ",", 
              "\n", "\t\t\t\t\t\t", "1"}], "\n", "\t\t\t\t\t\t", "]"}]}]}], 
          "\n", "\t\t\t\t\t", "]"}], "\n", "\t\t\t\t", "]"}], "&"}], "/.", 
       RowBox[{"holdMemQ", "\[Rule]", "MemberQ"}]}]}], ";", "\n", "\t\t", 
     RowBox[{"contentData", "=", "\n", "\t\t\t", 
      RowBox[{"Map", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"AssociationThread", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
            "\"\<title\>\"", ",", " ", "\"\<text\>\"", ",", " ", 
             "\"\<tags\>\"", ",", " ", "\"\<url\>\"", ",", " ", 
             "\"\<note\>\""}], "}"}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Lookup", "[", 
              RowBox[{
              "#", ",", " ", "\"\<Title\>\"", ",", " ", "\"\<Untitled\>\""}], 
              "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"ImportString", "[", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"Lookup", "[", 
                RowBox[{
                "#", ",", " ", "\"\<Content\>\"", ",", " ", 
                 "\"\<<p>No content...</p>\>\""}], "]"}], ",", "\n", 
               "\t\t\t\t\t\t\t", "\"\<HTML\>\""}], "\n", "\t\t\t\t\t\t\t", 
              "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"StringRiffle", "[", 
              RowBox[{"Lookup", "[", 
               RowBox[{"#", ",", " ", "\"\<Tags\>\"", ",", " ", 
                RowBox[{"{", "}"}]}], "]"}], "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Lookup", "[", 
              RowBox[{
              "#", ",", " ", "\"\<URL\>\"", ",", " ", 
               "\"\<??_y_dough_??.html\>\""}], "]"}], ",", "\n", 
             "\t\t\t\t\t\t", "\"\<\>\""}], 
            RowBox[{"(*", 
             RowBox[{"Lookup", "[", 
              RowBox[{
              "#", ",", " ", "\"\<Summary\>\"", ",", " ", 
               "\"\<No summary...\>\""}], "]"}], "*)"}], "\n", "\t\t\t\t\t\t",
             "}"}]}], "\n", "\t\t\t\t\t", "]"}], "&"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"Select", "[", "\n", "\t\t\t\t\t", 
         RowBox[{"contentData", ",", "\n", "\t\t\t\t\t", "selector"}], "\n", 
         "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     
     RowBox[{"Export", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{
         "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"", ",",
           " ", "\"\<search_index.json\>\""}], "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"<|", 
        RowBox[{"\"\<pages\>\"", "\[Rule]", 
         RowBox[{"Replace", "[", 
          RowBox[{"contentData", ",", " ", 
           RowBox[{
            RowBox[{"Except", "[", 
             RowBox[{"{", 
              RowBox[{"__", "?", "AssociationQ"}], "}"}], "]"}], "->", 
            RowBox[{"{", "}"}]}]}], "]"}]}], "|>"}]}], "\n", "\t\t\t", 
      "]"}]}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"5012a836-2d87-4f9e-9bcb-a82e4c7c35b5"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]iWebSiteGenerateSearchConfig\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"9bb81249-d16d-4ffe-8643-ea310746afad"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebSiteTipueSearchOptions", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<ContextBuffer\>\"", "\[Rule]", "60"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<ContextLength\>\"", "\[Rule]", "60"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<ContextStart\>\"", "\[Rule]", "90"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<Debug\>\"", "\[Rule]", "False"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<DescriptiveWords\>\"", "\[Rule]", "25"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<FooterPages\>\"", "\[Rule]", "3"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<HighlightTerms\>\"", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<ImageZoom\>\"", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<MinimumLength\>\"", "\[Rule]", "3"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<NewWindow\>\"", "\[Rule]", "False"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<Show\>\"", "\[Rule]", "10"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<ShowContext\>\"", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<ShowRelated\>\"", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<ShowTime\>\"", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<ShowTitleCount\>\"", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<ShowURL\>\"", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<WholeWords\>\"", "\[Rule]", "False"}]}], "\n", "\t\t", 
    "}"}]}], ";"}]], \
"CodeInput",ExpressionUUID->"41738406-cce9-4424-8bec-bc9ae8a8e493"],

Cell[BoxData[
 RowBox[{
  RowBox[{"iWebSiteGenerateSearchConfig", "[", "\n", "\t", 
   RowBox[{
   "dir_", ",", " ", "\n", "\t", "outDir_", ",", "\n", "\t", "config_"}], 
   "\n", "\t", "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
     "stopWords", ",", "\n", "\t\t\t", "reps", ",", "\n", "\t\t\t", "weights",
       ",", "\n", "\t\t\t", "stems", ",", "\n", "\t\t\t", "includes", ",", 
      "\n", "\t\t\t", "related", ",", "\n", "\t\t\t", "ops"}], "\n", "\t\t\t",
      "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"stopWords", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"config", "[", "\"\<Stopwords\>\"", "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"DeleteDuplicates", "@", 
            RowBox[{"ToLowerCase", "@", 
             RowBox[{"WordList", "[", "\"\<Stopwords\>\"", "]"}]}]}]}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"e", ":", 
            RowBox[{"{", "__String", "}"}]}], ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"DeleteDuplicates", "@", 
            RowBox[{"ToLowerCase", "@", "e"}]}]}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"_", "\[Rule]", "None"}]}], "\n", "\t\t\t\t\t", "}"}]}], 
       "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"reps", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"config", "[", "\"\<Replacements\>\"", "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"s", ":", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"_String", "\[Rule]", "_String"}], ")"}], "..."}], 
             "}"}]}], ":>", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Map", "[", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<word\>\"", "\[Rule]", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], ",", " ", 
                RowBox[{"\"\<replace_with\>\"", "\[Rule]", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}], "&"}], ",", "\n",
              "\t\t\t\t\t\t\t", "s"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{"_", "\[Rule]", "None"}]}], "\n", "\t\t\t\t\t", "}"}]}], 
       "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"weights", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"config", "[", "\"\<URLWeights\>\"", "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"s", ":", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"_String", "\[Rule]", "_Integer"}], ")"}], "..."}], 
             "}"}]}], ":>", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<url\>\"", "\[Rule]", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], ",", " ", 
                RowBox[{"\"\<score\>\"", "\[Rule]", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}], "&"}], ",", "\n",
              "\t\t\t\t\t\t\t", "s"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{"_", "\[Rule]", "None"}]}], "\n", "\t\t\t\t\t", "}"}]}], 
       "\n", "\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"stems", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"config", "[", "\"\<WordStems\>\"", "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"s", ":", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"_String", "\[Rule]", "_String"}], ")"}], "..."}], 
             "}"}]}], ":>", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<word\>\"", "\[Rule]", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], ",", " ", 
                RowBox[{"\"\<stem\>\"", "\[Rule]", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}], "&"}], ",", "\n",
              "\t\t\t\t\t\t\t", "s"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{"_", "\[Rule]", "None"}]}], "\n", "\t\t\t\t\t", "}"}]}], 
       "\n", "\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"includes", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"config", "[", "\"\<IncludedTerms\>\"", "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"s", ":", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"_String", "\[Rule]", "_String"}], ")"}], "..."}], 
             "}"}]}], ":>", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<search\>\"", "\[Rule]", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], ",", " ", 
                RowBox[{"\"\<related\>\"", "\[Rule]", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "2", "]"}], "]"}]}], ",", " ", 
                RowBox[{"\"\<include\>\"", "\[Rule]", "1"}]}], "}"}], "&"}], 
             ",", "\n", "\t\t\t\t\t\t\t", "s"}], "\n", "\t\t\t\t\t\t\t", 
            "]"}]}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"_", "\[Rule]", "None"}]}], "\n", "\t\t\t\t\t", "}"}]}], 
       "\n", "\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"related", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"config", "[", "\"\<RelatedTerms\>\"", "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"s", ":", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"_String", "\[Rule]", "_String"}], ")"}], "..."}], 
             "}"}]}], ":>", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<search\>\"", "\[Rule]", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], ",", " ", 
                RowBox[{"\"\<related\>\"", "\[Rule]", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}], "&"}], ",", "\n",
              "\t\t\t\t\t\t\t", "s"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{"_", "\[Rule]", "None"}]}], "\n", "\t\t\t\t\t", "}"}]}], 
       "\n", "\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"related", "=", "\n", "\t\t\t", 
      RowBox[{"Which", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"ListQ", "@", "related"}], "&&", 
         RowBox[{"ListQ", "@", "includes"}]}], ",", "\n", "\t", "\t\t\t\t", 
        RowBox[{"DeleteDuplicates", "@", 
         RowBox[{"Join", "[", 
          RowBox[{"includes", ",", " ", "related"}], "]"}]}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"ListQ", "@", "related"}], ",", "\n", "\t\t\t\t\t", 
        RowBox[{"DeleteDuplicates", "@", "related"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"ListQ", "@", "includes"}], ",", "\n", "\t\t\t\t\t", 
        RowBox[{"DeleteDuplicates", "@", "includes"}], ",", "\n", "\t\t\t\t", 
        "True", ",", "\n", "\t\t\t\t\t", "None"}], "\n", "\t\t\t\t", "]"}]}], 
     ";", "\n", "\t\t", 
     RowBox[{"ops", "=", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", 
       RowBox[{
        RowBox[{"config", "[", "\"\<Options\>\"", "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"ToLowerCase", "@", 
                 RowBox[{"StringTake", "[", 
                  RowBox[{
                   RowBox[{"#", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", " ", "1"}], "]"}]}], 
                "<>", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"StringDrop", "[", 
                 RowBox[{
                  RowBox[{"#", "[", 
                   RowBox[{"[", "1", "]"}], "]"}], ",", " ", "1"}], "]"}]}], "->", 
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "&"}], ",", "\n", 
             "\t\t\t\t\t\t\t", "$WebSiteTipueSearchOptions"}], "\n", 
            "\t\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"o", ":", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"_String", "\[Rule]", "_"}], ")"}], ".."}], "}"}]}], ":>",
            "\n", "\t\t\t\t\t\t", 
           RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"ToLowerCase", "@", 
                 RowBox[{"StringTake", "[", 
                  RowBox[{
                   RowBox[{"#", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", " ", "1"}], "]"}]}], 
                "<>", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"StringDrop", "[", 
                 RowBox[{
                  RowBox[{"#", "[", 
                   RowBox[{"[", "1", "]"}], "]"}], ",", " ", "1"}], "]"}]}], "->", 
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "&"}], ",", "\n", 
             "\t\t\t\t\t\t\t", "o"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{"_", "\[Rule]", "None"}]}], "\n", "\t\t\t\t\t", "}"}]}], 
       "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"<|", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"\"\<StopWords\>\"", "->", "\n", "\t\t\t\t", 
        RowBox[{"Which", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"ListQ", "@", "stopWords"}], ",", "\n", "\t", "\t\t\t\t\t", 
          
          RowBox[{"Export", "[", "\n", "\t", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_stopwords.json\>\""}], "}"}]}], ",", 
            "\n", "\t", "\t\t\t\t\t\t", "stopWords"}], "\n", "\t", 
           "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"FileExistsQ", "@", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{
             "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"", 
              ",", " ", "\"\<search_stopwords.json\>\""}], "}"}]}]}], ",", 
          "\n", "\t\t\t\t\t\t", "None", ",", "\n", "\t\t\t\t\t", "True", ",", 
          "\n", "\t\t\t\t\t\t", 
          RowBox[{"Export", "[", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_stopwords.json\>\""}], "}"}]}], ",", 
            "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", 
         "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<Replacements\>\"", "->", "\n", "\t\t\t\t", 
        RowBox[{"Which", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"ListQ", "@", "reps"}], ",", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"Export", "[", "\n", "\t", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_replacements.json\>\""}], "}"}]}], ",", 
            "\n", "\t", "\t", "\t", "\t\t\t\t", 
            RowBox[{"{", 
             RowBox[{"\"\<words\>\"", "->", "reps"}], "}"}]}], "\n", 
           "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"FileExistsQ", "@", "\n", "\t\t\t\t\t\t", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{
             "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"", 
              ",", " ", "\"\<search_replacements.json\>\""}], "}"}]}]}], ",", 
          "\n", "\t\t\t\t\t\t", "None", ",", "\n", "\t\t\t\t\t", "True", ",", 
          "\n", "\t\t\t\t\t\t", 
          RowBox[{"Export", "[", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_replacements.json\>\""}], "}"}]}], ",", 
            "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"{", 
             RowBox[{"\"\<words\>\"", "->", 
              RowBox[{"{", "}"}]}], "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], 
         "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<URLWeights\>\"", "->", "\n", "\t\t\t\t", 
        RowBox[{"Which", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"ListQ", "@", "weights"}], ",", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"Export", "[", "\n", "\t", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_weights.json\>\""}], "}"}]}], ",", "\n",
             "\t", "\t", "\t", "\t\t\t\t", 
            RowBox[{"{", 
             RowBox[{"\"\<weight\>\"", "\[Rule]", "weights"}], "}"}]}], "\n", 
           "\t", "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"FileExistsQ", "@", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{
             "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"", 
              ",", " ", "\"\<search_weights.json\>\""}], "}"}]}]}], ",", "\n",
           "\t\t\t\t\t\t", "None", ",", "\n", "\t\t\t\t\t", "True", ",", "\n",
           "\t\t\t\t\t\t", 
          RowBox[{"Export", "[", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_weights.json\>\""}], "}"}]}], ",", "\n",
             "\t\t\t\t\t\t\t", 
            RowBox[{"{", 
             RowBox[{"\"\<weight\>\"", "->", 
              RowBox[{"{", "}"}]}], "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], 
         "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<WordStems\>\"", "->", "\n", "\t\t\t\t", 
        RowBox[{"Which", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"ListQ", "@", "stems"}], ",", "\n", "\t", "\t", "\t\t\t\t", 
          
          RowBox[{"Export", "[", "\n", "\t", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_stems.json\>\""}], "}"}]}], ",", "\n", 
            "\t", "\t", "\t", "\t\t\t\t", 
            RowBox[{"{", 
             RowBox[{"\"\<words\>\"", "\[Rule]", "stems"}], "}"}]}], "\n", 
           "\t", "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"FileExistsQ", "@", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{
             "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"", 
              ",", " ", "\"\<search_stems.json\>\""}], "}"}]}]}], ",", "\n", 
          "\t\t\t\t\t\t", "None", ",", "\n", "\t\t\t\t\t", "True", ",", "\n", 
          "\t\t\t\t\t\t", 
          RowBox[{"Export", "[", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_stems.json\>\""}], "}"}]}], ",", "\n", 
            "\t\t\t\t\t\t\t", 
            RowBox[{"{", 
             RowBox[{"\"\<words\>\"", "\[Rule]", 
              RowBox[{"{", "}"}]}], "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], 
         "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<RelatedTerms\>\"", "->", "\n", "\t\t\t\t", 
        RowBox[{"Which", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"ListQ", "@", "related"}], ",", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"Export", "[", "\n", "\t", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_related.json\>\""}], "}"}]}], ",", "\n",
             "\t", "\t\t\t\t\t\t", 
            RowBox[{"{", 
             RowBox[{"\"\<Related\>\"", "\[Rule]", "related"}], "}"}]}], "\n",
            "\t", "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"FileExistsQ", "@", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{
             "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"", 
              ",", " ", "\"\<search_related.json\>\""}], "}"}]}]}], ",", "\n",
           "\t\t\t\t\t\t", "None", ",", "\n", "\t\t\t\t\t", "True", ",", "\n",
           "\t\t\t\t\t\t", 
          RowBox[{"Export", "[", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_related.json\>\""}], "}"}]}], ",", "\n",
             "\t\t\t\t\t\t\t", 
            RowBox[{"{", 
             RowBox[{"\"\<Related\>\"", "->", 
              RowBox[{"{", "}"}]}], "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], 
         " ", "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<Options\>\"", "->", "\n", "\t\t\t\t", 
        RowBox[{"Which", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"ListQ", "@", "ops"}], ",", "\n", "\t\t\t\t\t\t", 
          RowBox[{"Export", "[", "\n", "\t", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_options.json\>\""}], "}"}]}], ",", "\n",
             "\t\t\t\t\t\t\t", "ops"}], "\n", "\t\t\t\t\t\t\t", "]"}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{"FileExistsQ", "@", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{
             "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"", 
              ",", " ", "\"\<search_options.json\>\""}], "}"}]}]}], ",", "\n",
           "\t\t\t\t\t\t", "None", ",", "\n", "\t\t\t\t\t", "True", ",", "\n",
           "\t\t\t\t\t\t", 
          RowBox[{"Export", "[", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{
              "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\"",
                ",", " ", "\"\<search_options.json\>\""}], "}"}]}], ",", "\n",
             "\t\t\t\t\t\t\t", 
            RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], " ", "\n", 
         "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", "|>"}]}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"085fd2d6-8ac1-42c0-9744-b6ea628363d3"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteGenerateSearchPage\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"545f45a5-e605-4a7c-8111-050eaaab6ced"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteGenerateSearchPage", "]"}], "=", "\n", 
   "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<SearchPageOptions\>\"", "\[Rule]", 
      RowBox[{"{", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"\"\<SearchedPages\>\"", "\[Rule]", 
         RowBox[{"{", "\"\<Articles\>\"", "}"}]}], ",", "\n", "\t\t\t", 
        RowBox[{"\"\<Stopwords\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"\"\<Replacements\>\"", "\[Rule]", "None"}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"\"\<URLWeights\>\"", "\[Rule]", "None"}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"\"\<WordStems\>\"", "\[Rule]", "None"}], ",", "\n", "\t\t\t", 
        RowBox[{"\"\<IncludedTerms\>\"", "\[Rule]", "None"}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"\"\<RelatedTerms\>\"", "\[Rule]", "None"}], ",", "\n", 
        "\t\t\t", 
        RowBox[{
        "\"\<Options\>\"", "\[Rule]", "$WebSiteTipueSearchOptions"}]}], "\n", 
       "\t\t\t", "}"}]}], ",", "\n", "\t\t", 
     RowBox[{"Monitor", "\[Rule]", "True"}]}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteGenerateSearchPage", "[", "\n", "\t", 
   RowBox[{
   "dir_", ",", " ", "\n", "\t", "outDir_", ",", "\n", "\t", "theme_", ",", 
    "\n", "\t", "config_", ",", " ", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"With", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"searchOps", "=", "\n", "\t\t\t\t", 
       RowBox[{"Association", "@", "\n", "\t\t\t\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<SearchPageOptions\>\"", "]"}], ",",
           "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Except", "[", 
            RowBox[{
             RowBox[{"_", "?", "OptionQ"}], "|", 
             RowBox[{"_", "?", "AssociationQ"}]}], "]"}], "\[RuleDelayed]", 
           RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t\t\t", "]"}]}]}], ",", "\n",
       "\t\t\t", 
      RowBox[{"thm", "=", "\n", "\t\t\t\t", 
       RowBox[{"WebSiteFindTheme", "[", 
        RowBox[{"dir", ",", " ", "theme", ",", " ", 
         RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "True"}]}], "]"}]}]}], 
     "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"DirectoryQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{
           "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\""}], 
           "}"}]}]}]}], ",", "\n", "\t\t\t", 
       RowBox[{"CreateDirectory", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{
           "outDir", ",", " ", "\"\<theme\>\"", ",", " ", "\"\<search\>\""}], 
           "}"}]}], ",", "\n", "\t\t\t\t", 
         RowBox[{"CreateIntermediateDirectories", "\[Rule]", "True"}]}], "\n",
         "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
     RowBox[{"Prepend", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"TrueQ", "@", 
           RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", " ", "\n", 
          "\t\t\t\t\t", 
          RowBox[{"Function", "[", 
           RowBox[{"Null", ",", " ", "\n", "\t", "\t", "\t", "\t\t\t", 
            RowBox[{"Monitor", "[", 
             RowBox[{"#", ",", " ", 
              RowBox[{
              "Internal`LoadingPanel", "@", 
               "\"\<Generating search config...\>\""}]}], "]"}], ",", " ", 
            "\n", "\t", "\t", "\t", "\t\t\t", "HoldFirst"}], "\n", "\t", "\t",
            "\t", "\t\t\t", "]"}], ",", "\n", "\t", "\t", "\t", "\t\t", 
          "Identity"}], "\n", "\t\t\t\t\t", "]"}], "@", 
        RowBox[{"iWebSiteGenerateSearchConfig", "[", 
         RowBox[{"dir", ",", " ", "outDir", ",", " ", "searchOps"}], "]"}]}], 
       ",", "\n", "\t\t\t", 
       RowBox[{"\"\<Index\>\"", "->", "\n", "\t\t\t\t", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"searchOps", "[", "\"\<SearchedPages\>\"", "]"}], "=!=", 
           "None"}], ",", "\n", "\t", "\t\t\t\t", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"TrueQ", "@", 
              RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", " ", "\n", 
             "\t", "\t", "\t\t\t\t", 
             RowBox[{"Function", "[", 
              RowBox[{
              "Null", ",", " ", "\n", "\t", "\t", "\t", "\t", "\t\t\t", 
               RowBox[{"Monitor", "[", 
                RowBox[{"#", ",", " ", 
                 RowBox[{
                 "Internal`LoadingPanel", "@", 
                  "\"\<Generating search index...\>\""}]}], "]"}], ",", " ", 
               "\n", "\t", "\t", "\t", "\t", "\t\t\t", "HoldFirst"}], "\n", 
              "\t", "\t", "\t", "\t", "\t\t\t", "]"}], ",", "\n", "\t", "\t", 
             "\t", "\t", "\t\t", "Identity"}], "\n", "\t", "\t", "\t\t\t\t", 
            "]"}], "@", 
           RowBox[{"iWebSiteGenerateSearchIndex", "[", 
            RowBox[{"dir", ",", " ", "outDir", ",", " ", "searchOps"}], 
            "]"}]}], ",", "\n", "\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t", 
         "]"}]}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"DirectoryQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{
           "outDir", ",", " ", "\"\<theme\>\"", ",", " ", 
            "\"\<tipuesearch\>\""}], "}"}]}]}]}], ",", "\n", "\t\t\t", 
       RowBox[{"CopyDirectory", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"PackageFilePath", "[", 
          RowBox[{
          "\"\<Resources\>\"", ",", " ", "\"\<Themes\>\"", ",", " ", 
           "\"\<template_lib\>\"", ",", " ", "\"\<tipuesearch\>\""}], "]"}], 
         ",", "\n", "\t\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{
           "outDir", ",", " ", "\"\<theme\>\"", ",", " ", 
            "\"\<tipuesearch\>\""}], "}"}]}]}], "\n", "\t\t\t\t", "]"}]}], 
      "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"TrueQ", "@", 
         RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", " ", "\n", 
        "\t\t\t\t\t", 
        RowBox[{"Function", "[", 
         RowBox[{"Null", ",", " ", "\n", "\t", "\t", "\t", "\t\t\t", 
          RowBox[{"Monitor", "[", 
           RowBox[{"#", ",", " ", 
            RowBox[{
            "Internal`LoadingPanel", "@", 
             "\"\<Generating search.html\>\""}]}], "]"}], ",", " ", "\n", 
          "\t\t\t\t\t\t", "HoldFirst"}], "\n", "\t", "\t", "\t", "\t\t\t", 
         "]"}], ",", "\n", "\t", "\t", "\t", "\t\t", "Identity"}], "\n", 
       "\t\t\t\t\t", "]"}], "@", "\n", "\t\t\t", 
      RowBox[{"WebSiteTemplateExport", "[", "\n", "\t\t\t\t", 
       RowBox[{"\"\<search\>\"", ",", "\n", "\t", "\t\t\t", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"outDir", ",", " ", "\"\<search.html\>\""}], "}"}]}], ",", 
        "\n", "\t\t\t\t", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"thm", ",", " ", "\"\<templates\>\""}], "}"}]}], ",", 
          "\n", "\t\t\t\t\t", "dir"}], "\n", "\t\t\t\t\t", "}"}], ",", "\n", 
        "\t\t\t\t", "None", ",", "\n", "\t\t\t\t", 
        RowBox[{"{", "\"\<search.html\>\"", "}"}], ",", "\n", "\t\t\t\t", 
        "config"}], "\n", "\t", "\t\t\t", "]"}]}]}]}], "\n", "\t\t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"4d2724a7-1c1e-440a-9f3e-268c3d051591"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]GenerateRedirectPages\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"a5dd65d1-f359-49be-a556-862b53b02a72"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteGenerateRedirectPages", "]"}], "=", "\n", 
   "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<RedirectPages\>\"", "\[Rule]", 
      RowBox[{"{", "}"}]}], ",", "\n", "\t\t", 
     RowBox[{"Monitor", "\[Rule]", "True"}]}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteGenerateRedirectPages", "[", "\n", "\t", 
    RowBox[{
    "dir_", ",", " ", "\n", "\t", "outDir_", ",", "\n", "\t", "theme_", ",", 
     "\n", "\t", "config_", ",", " ", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Block", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{"from", ",", " ", "\n", "\t\t\t", "to", ",", "\n", "\t\t\t", 
       RowBox[{"thm", "=", "\n", "\t\t\t\t", 
        RowBox[{"WebSiteFindTheme", "[", 
         RowBox[{"dir", ",", " ", "theme", ",", " ", 
          RowBox[{"\"\<DownloadTheme\>\"", "\[Rule]", "True"}]}], "]"}]}], 
       ",", "\n", "\t\t\t", 
       RowBox[{"pages", "=", "\n", "\t\t\t\t", 
        RowBox[{"Association", "@", "\n", "\t\t\t\t\t", 
         RowBox[{"Replace", "[", 
          RowBox[{
           RowBox[{"OptionValue", "[", "\"\<RedirectPages\>\"", "]"}], ",", 
           "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Except", "[", 
             RowBox[{
              RowBox[{"_", "?", "OptionQ"}], "|", 
              RowBox[{"_", "?", "AssociationQ"}]}], "]"}], "\[RuleDelayed]", 
            RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t\t\t", "]"}]}]}], ",", 
       "\n", "\t\t\t", "pagesDefault"}], "\n", "\t\t\t", "}"}], ",", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{"pages", "=", "\n", "\t\t\t", 
       RowBox[{"Association", "/@", "\n", "\t\t\t\t", 
        RowBox[{"Select", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Replace", "[", 
             RowBox[{"s_String", "\[RuleDelayed]", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"\"\<RedirectURL\>\"", "\[Rule]", "s"}], "\n", 
               "\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t\t", "]"}], 
            ",", "\n", "\t\t\t\t\t\t", "pages"}], "\n", "\t\t\t\t\t\t", "]"}],
           ",", "\n", "\t\t\t\t\t", "OptionQ"}], "\n", "\t\t\t\t\t", 
         "]"}]}]}], ";", "\n", "\t\t", 
      RowBox[{"pagesDefault", "=", "\n", "\t\t\t", 
       RowBox[{"<|", "\n", "\t\t\t\t", 
        RowBox[{"\"\<PauseTime\>\"", "\[Rule]", "0"}], "\n", "\t\t\t\t", 
        "|>"}]}], ";", "\n", "\t\t", 
      RowBox[{"pages", "=", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"Join", "[", 
          RowBox[{"pagesDefault", ",", " ", "#"}], "]"}], "&"}], "/@", 
        "pages"}]}], ";", "\n", "\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"TrueQ", "@", 
          RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", " ", "\n", 
         "\t\t\t\t\t", 
         RowBox[{"Function", "[", 
          RowBox[{"Null", ",", " ", "\n", "\t", "\t", "\t", "\t\t\t", 
           RowBox[{"Monitor", "[", 
            RowBox[{"#", ",", " ", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"TemplateApply", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{
               "\"\<Generating redirect for `` to ``\>\"", ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"{", 
                 RowBox[{"from", ",", " ", "to"}], "}"}]}], "\n", 
               "\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t", 
            "]"}], ",", " ", "\n", "\t\t\t\t\t\t", "HoldFirst"}], "\n", 
          "\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t", "\t", "\t\t", 
         "Identity"}], "\n", "\t\t\t\t\t", "]"}], "@", "\n", "\t\t\t", 
       RowBox[{"KeyValueMap", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"Function", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"from", "=", "#"}], ";", "\n", "\t\t\t\t\t", 
           RowBox[{"to", "=", 
            RowBox[{"Lookup", "[", 
             RowBox[{"#2", ",", " ", "\"\<RedirectURL\>\""}], "]"}]}], ";", 
           "\n", "\t\t\t\t\t", 
           RowBox[{"WebSiteTemplateExport", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{"#", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", 
               RowBox[{"outDir", ",", " ", 
                RowBox[{"#", "<>", "\"\<.html\>\""}]}], "}"}]}], ",", "\n", 
             "\t", "\t", "\t\t\t\t", 
             RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"{", 
                 RowBox[{"thm", ",", " ", "\"\<templates\>\""}], "}"}]}], ",",
                "\n", "\t", "\t", "\t\t\t\t\t", "dir"}], "\n", "\t", "\t", 
              "\t\t\t\t\t", "}"}], ",", "\n", "\t", "\t", "\t\t\t\t", "None", 
             ",", "\n", "\t", "\t", "\t\t\t\t", 
             RowBox[{"{", "\"\<redirect.html\>\"", "}"}], ",", "\n", "\t", 
             "\t\t\t\t\t", 
             RowBox[{"Join", "[", "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{"#2", ",", "\n", "\t", "\t\t\t\t\t\t", "config"}], "\n",
               "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n",
           "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", "pages"}], "\n", 
        "\t\t\t\t", "]"}]}]}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteGenerateRedirectPages", "[", "\n", "\t", 
    RowBox[{
    "dir_", ",", " ", "\n", "\t", "outDir_", ",", "\n", "\t", "theme_", ",", 
     "\n", "\t", "config_", ",", " ", "\n", "\t", 
     RowBox[{"ops_", "?", "AssociationQ"}]}], "\n", "\t", "]"}], ":=", "\n", 
   "\t", 
   RowBox[{"WebSiteGenerateRedirectPages", "[", "\n", "\t  ", 
    RowBox[{
    "dir", ",", " ", "\n", "  \t", "outDir", ",", "\n", "  \t", "theme", ",", 
     "\n", "  \t", "config", ",", " ", "\n", "  \t", 
     RowBox[{"Normal", "@", "ops"}]}], "\n", "  \t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"ed884127-1b00-406c-abb4-188550fdf431"]\

}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Logging\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"e02c8a3b-705f-4839-91b4-d9aff7d71959"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteBuildLogError\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"82302ae0-d61e-46ec-8e9b-4731a2ad7f5e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WebSiteBuildLogError", "[", 
   RowBox[{"file_", ",", " ", "key_", ",", " ", "body_"}], "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"!", 
     RowBox[{"KeyExistsQ", "[", 
      RowBox[{"$WebSiteBuildErrors", ",", " ", "file"}], "]"}]}], ",", "\n", 
    "\t\t", 
    RowBox[{
     RowBox[{"$WebSiteBuildErrors", "[", "file", "]"}], "=", 
     RowBox[{"<|", 
      RowBox[{"key", "\[Rule]", "body"}], "|>"}]}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"$WebSiteBuildErrors", "[", 
      RowBox[{"file", ",", " ", "key"}], "]"}], "=", "body"}]}], "\n", "\t\t",
    "]"}]}]], \
"CodeInput",ExpressionUUID->"88e94806-fb8d-40c7-ab79-4edd82cbf93e"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Build\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"eafb5cdb-adfb-4e26-a89d-fbc5b8f3dbc0"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]iWebSiteBuildGetFiles\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"4e2d4e88-c362-426b-9baa-bb9ee382e638"],

Cell[BoxData[
 RowBox[{
  RowBox[{"iWebSiteBuildGetFiles", "[", 
   RowBox[{
   "patt_", ",", " ", "dir_", ",", " ", "dirs_", ",", " ", "templates_"}], 
   "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{"temps", "=", "\n", "\t\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
       RowBox[{"templates", ",", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"Except", "[", 
          RowBox[{
           RowBox[{"_", "?", "OptionQ"}], "|", 
           RowBox[{"_", "?", "AssociationQ"}]}], "]"}], "->", "\n", "\t", 
         "\t", "\t\t\t\t", 
         RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"\"\<posts\>\"", "\[Rule]", "\"\<article.html\>\""}], ",", 
           "\n", "\t", "\t", "\t", "\t", "\t\t\t", 
           RowBox[{"_", "\[Rule]", "\"\<page.html\>\""}]}], "\n", "\t", "\t", 
          "\t\t\t\t\t", "}"}]}]}], "\n", "\t", "\t", "\t\t\t", "]"}]}], "\n", 
     "\t\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{"Join", "@@", "\n", "\t\t\t", 
     RowBox[{"Map", "[", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"Thread", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"FileNames", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{"patt", ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<content\>\"", ",", " ", "#"}], 
              "}"}]}], ",", "\n", "\t\t\t\t\t\t", "\[Infinity]"}], "\n", 
           "\t\t\t\t\t\t", "]"}], "\[Rule]", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Function", "[", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"FileExtension", "[", "#", "]"}], "\[Equal]", 
               "\"\<\>\""}], ",", " ", 
              RowBox[{"#", "<>", "\"\<.html\>\""}], ",", " ", "#"}], "]"}], 
            "]"}], "@", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{"Lookup", "[", 
            RowBox[{"temps", ",", " ", "#", ",", " ", "\"\<page.html\>\""}], 
            "]"}]}]}], "\n", "\t\t\t\t\t", "]"}], "&"}], ",", "\n", 
       "\t\t\t\t", 
       RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
        RowBox[{"dirs", ",", "\n", "\t\t\t\t\t", 
         RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
          RowBox[{"{", 
           RowBox[{"\"\<posts\>\"", ",", " ", "\"\<pages\>\""}], "}"}]}]}], 
        "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}]}], "\n", 
   "\t\t", "]"}]}]], \
"CodeInput",ExpressionUUID->"d6fa777f-9a93-4024-8717-3bb1fefe65fb"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]iWebSiteBuild\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"6bff39d5-1591-43a9-acf9-d06ea71236f2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "iWebSiteBuild", "]"}], "=", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", "\t\t", 
    RowBox[{"Join", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"\"\<GenerateContent\>\"", "\[Rule]", "True"}], ",", "\n", 
        "\t", "\t", "\t\t", 
        RowBox[{"\"\<GenerateIndex\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
        "\t", "\t", "\t", "\t", 
        RowBox[{"\"\<GenerateAggregations\>\"", "\[Rule]", "Automatic"}], ",",
         "\n", "\t\t\t\t", 
        RowBox[{"\"\<GenerateSearchPage\>\"", "\[Rule]", "False"}], ",", "\n",
         "\t\t\t\t", 
        RowBox[{"\"\<GenerateRedirectPages\>\"", "\[Rule]", "False"}], ",", 
        "\n", "\t\t\t\t", 
        RowBox[{"\"\<PageSize\>\"", "\[Rule]", "0"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"\"\<UseCache\>\"", "\[Rule]", "True"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"\"\<LastBuild\>\"", "\[Rule]", "Automatic"}]}], "\n", 
       "\t\t\t\t", "}"}], ",", "\n", "\t\t\t", 
      RowBox[{"Options", "[", "WebSiteGenerateContent", "]"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"Options", "[", "WebSiteGenerateIndex", "]"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"Options", "[", "WebSiteGenerateAggregations", "]"}], ",", "\n",
       "\t\t\t", 
      RowBox[{"Options", "[", "WebSiteGenerateSearchPage", "]"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"Options", "[", "WebSiteGenerateRedirectPages", "]"}], ",", 
      "\n", "\t\t\t", 
      RowBox[{"Options", "[", "WebSiteContentStackPrep", "]"}]}], "\n", 
     "\t\t\t", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"iWebSiteBuild", "[", "\n", "\t", 
    RowBox[{
    "dir_", ",", "\n", "\t", "outDir_", ",", "\n", "\t", "thm_", ",", "\n", 
     "\t", "fileNames_", ",", "\n", "\t", "conf_", ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Block", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"$WebSiteBuildTime", "=", "Now"}], ",", "\n", "\t\t\t", 
       RowBox[{"$WebSiteLastBuild", "=", 
        RowBox[{"OptionValue", "[", "\"\<LastBuild\>\"", "]"}]}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{
        "may", " ", "get", " ", "overwritten", " ", "so", " ", "this", " ", 
         "is", " ", "a", " ", "safety", " ", "net"}], " ", "*)"}], "\n", 
       "\t\t\t", 
       RowBox[{"$Path", "=", "$Path"}], ",", "\n", "\t\t\t", 
       RowBox[{"$TemplatePath", "=", "$TemplatePath"}], ",", "\n", "\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{"Template", " ", "lib", " ", "vars"}], " ", "*)"}], "\n", 
       "\t\t\t", 
       RowBox[{"Templating`$TemplateArguments", "=", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", "$templateLibLoaded", ",", 
       "\n", "\t\t\t", "Templating`lib`$$templateLib", ",", "\n", "\t\t\t", 
       "Templating`lib`$$", ",", "\n", "\t\t\t", "Templating`lib`$$libdir", 
       ",", "\n", "\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{"The", " ", "stacks", " ", "to", " ", "populate"}], " ", 
        "*)"}], "\n", "\t\t\t", 
       RowBox[{"$WebSiteBuildContentStack", "=", "\n", "\t\t\t\t", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"TrueQ", "@", 
           RowBox[{"OptionValue", "[", "\"\<UseCache\>\"", "]"}]}], ",", "\n",
           "\t\t\t\t\t", 
          RowBox[{"WebSiteLoadCache", "[", "dir", "]"}], ",", "\n", 
          "\t\t\t\t\t", 
          RowBox[{"<|", "|>"}]}], "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", 
       "\t\t\t", "$WebSiteBuildCachedContentStack", ",", "\n", "\t\t\t", 
       RowBox[{"$WebSiteBuildContentDataStack", "=", "\n", "\t\t\t\t", 
        RowBox[{"<|", "|>"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"$WebSiteBuildAggStack", "=", "\n", "\t\t\t\t", 
        RowBox[{"<|", "|>"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{
        "Template", " ", "cache", " ", "to", " ", "prevent", " ", 
         "reloading"}], " ", "*)"}], "\n", "\t\t\t", 
       RowBox[{"$WebSiteTemplateCache", "=", "\n", "\t\t\t\t", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"TrueQ", "@", 
           RowBox[{"OptionValue", "[", "\"\<UseCache\>\"", "]"}]}], ",", "\n",
           "\t\t\t\t\t", 
          RowBox[{"WebSiteLoadTemplateCache", "[", "dir", "]"}], ",", "\n", 
          "\t\t\t\t\t", 
          RowBox[{"<|", "|>"}]}], "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{"Build", " ", "flags"}], " ", "*)"}], "\n", "\t\t\t", 
       RowBox[{"genCont", "=", "\n", "\t\t\t\t", 
        RowBox[{"OptionValue", "[", "\"\<GenerateContent\>\"", "]"}]}], ",", 
       "\n", "\t\t\t", 
       RowBox[{"genAggs", "=", "\n", "\t\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<GenerateAggregations\>\"", "]"}], 
          ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "[", "\"\<GenerateContent\>\"", "]"}]}]}], 
         "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"genInd", "=", "\n", "\t\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<GenerateIndex\>\"", "]"}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "[", "\"\<GenerateContent\>\"", "]"}]}]}], 
         "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"genSP", "=", "\n", "\t\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<GenerateSearchPage\>\"", "]"}], 
          ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "[", "\"\<GenerateContent\>\"", "]"}]}]}], 
         "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"genRed", "=", "\n", "\t\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<GenerateRedirectPages\>\"", "]"}], 
          ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "[", "\"\<GenerateContent\>\"", "]"}]}]}], 
         "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"newconf", "=", "\n", "\t\t\t\t", 
        RowBox[{"KeyDrop", "[", "\n", "\t\t\t\t\t", 
         RowBox[{"conf", ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Keys", "@", 
           RowBox[{"Options", "[", "iWebSiteBuild", "]"}]}]}], "\n", 
         "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
     
     RowBox[{
      RowBox[{
      "$WebSiteBuildCachedContentStack", "=", "\n", "\t\t\t\t", 
       "$WebSiteBuildContentStack"}], ";", "\n", "\t\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"AnyTrue", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
           "genCont", ",", " ", "genAggs", ",", " ", "genInd", ",", " ", 
            "genSP"}], "}"}], ",", " ", "TrueQ"}], "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteExtractPageData", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"ExpandFileName", "@", "dir"}], ",", "\n", "\t\t\t\t\t", 
           "fileNames", ",", "\n", "\t\t\t\t\t", "newconf", ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"ops", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Monitor", "\[Rule]", 
                   RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                "First"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
             "\t\t\t\t\t\t", 
             RowBox[{"Options", "[", "WebSiteExtractPageData", "]"}]}], "\n", 
            "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";", "\n", 
         "\t\t\t\t", 
         RowBox[{"Export", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"WebSiteCachePath", "[", "dir", "]"}], ",", "\n", 
           "\t\t\t\t\t", "$WebSiteBuildContentStack"}], "\n", "\t\t\t\t\t", 
          "]"}], ";"}]}], "\n", "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
      RowBox[{"WebSiteContentStackPrep", "[", "\n", "\t\t\t\t", 
       RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t\t\t", 
         RowBox[{"Options", "[", "WebSiteContentStackPrep", "]"}]}], "\n", 
        "\t\t\t\t\t", "]"}], "\n", "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
      RowBox[{"If", "[", 
       RowBox[{"genCont", ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteGenerateContent", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
          "dir", ",", "\n", "\t\t\t\t\t", "fileNames", ",", "\n", 
           "\t\t\t\t\t", "outDir", ",", "\n", "\t\t\t\t\t", "thm", ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"Join", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"<|", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"\"\<SiteDirectory\>\"", "\[Rule]", "dir"}], ",", "\n",
                "\t\t\t\t\t\t\t", 
               RowBox[{"\"\<OutputDirectory\>\"", "\[Rule]", "outDir"}]}], 
              "\n", "\t\t\t\t\t\t\t", "|>"}], ",", "\n", "\t\t\t\t\t\t", 
             "newconf"}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"OptionQ", "@", 
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}]}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<PageSize\>\"", "->", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}], 
                    ",", " ", "\"\<Content\>\"", ",", " ", "0"}], "]"}]}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", "Nothing"}], 
                   "\n", "\t", "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
                  "\t\t\t\t\t\t\t\t", "ops", ",", "\n", "\t", 
                  "\t\t\t\t\t\t\t\t", 
                  RowBox[{"Monitor", "\[Rule]", 
                   RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                "First"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
             "\t\t\t\t\t\t", 
             RowBox[{"Options", "[", "WebSiteGenerateContent", "]"}]}], "\n", 
            "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";", "\n", 
         "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"FileExistsQ", "@", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<BuildInfo.m\>\""}], "}"}]}]}], 
           ",", "\n", "\t\t\t\t\t", 
           RowBox[{"DeleteFile", "@", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<BuildInfo.m\>\""}], "}"}]}]}]}], 
          "\n", "\t\t\t\t\t", "]"}], ";", "\n", "\t\t\t\t", 
         RowBox[{"Export", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{"dir", ",", " ", "\"\<BuildInfo.wl\>\""}], "}"}]}], ",", 
           "\n", "\t\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{"\"\<LastBuild\>\"", "\[Rule]", "Now"}], "\n", 
            "\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", 
       "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
      RowBox[{"If", "[", 
       RowBox[{"genAggs", ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteGenerateAggregationPages", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
          "dir", ",", "\n", "\t\t\t\t\t", "Automatic", ",", "\n", 
           "\t\t\t\t\t", "outDir", ",", "\n", "\t\t\t\t\t", "thm", ",", "\n", 
           "\t\t\t\t\t", "newconf", ",", "\n", "\t\t\t\t\t", 
           RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                  "\"\<CheckChanges\>\"", "->", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                   
                   RowBox[{"Not", "@", 
                    RowBox[{"TrueQ", "@", 
                    RowBox[{
                    "OptionValue", "[", "\"\<GenerateAggregations\>\"", 
                    "]"}]}]}]}], ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"OptionQ", "@", 
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}]}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<PageSize\>\"", "->", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}], 
                    ",", " ", "\"\<Aggregations\>\"", ",", " ", "0"}], 
                    "]"}]}], ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    "Nothing"}], "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", "]"}], 
                  ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t", "ops", ",", "\n", 
                  "\t", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{"Monitor", "\[Rule]", 
                   RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
                 "\t", "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
                "\t\t\t\t\t\t\t", "First"}], "\n", "\t", "\t\t\t\t\t\t\t", 
               "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{
             "Options", "[", "WebSiteGenerateAggregationPages", "]"}]}], "\n",
             "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";"}]}], 
       "\n", "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
      RowBox[{"If", "[", 
       RowBox[{"genInd", ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"WebSiteGenerateIndexPages", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
          "dir", ",", "\n", "\t\t\t\t\t", "outDir", ",", "\n", "\t\t\t\t\t", 
           "thm", ",", "\n", "\t\t\t\t\t", "newconf", ",", "\n", "\t\t\t\t\t", 
           RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"OptionQ", "@", 
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}]}], 
                    ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<PageSize\>\"", "->", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    RowBox[{"OptionValue", "[", "\"\<PageSize\>\"", "]"}], 
                    ",", " ", "\"\<Index\>\"", ",", " ", "0"}], "]"}]}], ",", 
                    "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", "Nothing"}], "\n", 
                   "\t", "\t", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
                  "\t", "\t\t\t\t\t\t\t", "ops", ",", "\n", "\t", "\t", 
                  "\t\t\t\t\t\t\t", 
                  RowBox[{"Monitor", "\[Rule]", 
                   RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
                 "\t", "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
                "\t\t\t\t\t\t\t", "First"}], "\n", "\t", "\t\t\t\t\t\t\t", 
               "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Options", "[", "WebSiteGenerateIndexPages", "]"}]}], 
            "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";"}]}],
        "\n", "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
      RowBox[{"If", "[", 
       RowBox[{"genSP", ",", "\n", "\t\t\t\t", 
        RowBox[{"WebSiteGenerateSearchPage", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
         "dir", ",", "\n", "\t\t\t\t\t", "outDir", ",", "\n", "\t\t\t\t\t", 
          "thm", ",", "\n", "\t\t\t\t\t", "newconf", ",", "\n", "\t\t\t\t\t", 
          
          RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"Options", "[", "WebSiteGenerateSearchPage", "]"}]}], 
           "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
       "\t\t\t\t", "]"}], ";", "\n", "\t\t\t", 
      RowBox[{"If", "[", 
       RowBox[{"genRed", ",", "\n", "\t\t\t\t", 
        RowBox[{"WebSiteGenerateRedirectPages", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
         "dir", ",", "\n", "\t\t\t\t\t", "outDir", ",", "\n", "\t\t\t\t\t", 
          "thm", ",", "\n", "\t\t\t\t\t", "newconf", ",", "\n", "\t\t\t\t\t", 
          
          RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"Options", "[", "WebSiteGenerateRedirectPages", "]"}]}], 
           "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
       "\t\t\t\t", "]"}], ";"}]}], "\n", "\t\t\t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"2f25caa5-33c1-46bb-92ec-16e02b77c05e"]\

}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteBuild\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"826470b7-abc6-4af0-b359-ed29371d5442"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "::", "ndcnt"}], "=", 
   "\"\<Can't generate `` without generating content first\>\""}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.7126662241888113`*^9, 3.7126662455222607`*^9}, {
  3.712680873415894*^9, 3.712680889884789*^9}, {3.721060951339415*^9, 
  3.721060954133233*^9}},ExpressionUUID->"4fb703dd-d510-41bc-ba9a-\
baf4bcc22db0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteBuild", "]"}], "=", "\n", "\t", 
   RowBox[{"Join", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Options", "[", "iWebSiteBuild", "]"}], ",", "\n", "\t", "\t", 
     RowBox[{"{", "\n", "\t", "\t\t", 
      RowBox[{
       RowBox[{"\"\<CopyContent\>\"", "\[Rule]", "True"}], ",", "\n", "\t", 
       "\t", "\t", 
       RowBox[{"\"\<CopyTheme\>\"", "\[Rule]", "True"}], ",", "\n", "\t", 
       "\t", "\t", 
       RowBox[{"\"\<ConfigurationOptions\>\"", "\[Rule]", "Automatic"}], ",", 
       "\n", "\t", "\t", "\t", 
       RowBox[{"\"\<ConfigurationFile\>\"", "\[Rule]", "Automatic"}], ",", 
       "\n", "\t", "\t", "\t", 
       RowBox[{"\"\<OutputDirectory\>\"", "\[Rule]", "Automatic"}], ",", "\n",
        "\t", "\t", "\t", 
       RowBox[{"\"\<DefaultTheme\>\"", "->", "\"\<minimal\>\""}], ",", "\n", 
       "\t", "\t", "\t", 
       RowBox[{"\"\<AutoDeploy\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t", "\t", "\t", 
       RowBox[{"\"\<DeployOptions\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t", "\t", "\t", 
       RowBox[{"\"\<LastBuild\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t",
        "\t", "\t", 
       RowBox[{"\"\<ContentDirectories\>\"", "\[Rule]", "Automatic"}], ",", 
       "\n", "\t", "\t", "\t", 
       RowBox[{"\"\<ContentDirectoryTemplates\>\"", "\[Rule]", "Automatic"}], 
       ",", "\n", "\t", "\t\t", 
       RowBox[{"\"\<ContentTypes\>\"", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
         "\"\<*.html\>\"", ",", " ", "\"\<*.md\>\"", ",", " ", 
          "\"\<*.xml\>\""}], "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<UseCache\>\"", "\[Rule]", "True"}]}], "\n", "\t", "\t\t", 
      "}"}]}], "\n", "\t", "\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteBuild", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
     RowBox[{"files", ":", "\n", "\t\t", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"_String", "?", "FileExistsQ"}], "|", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{"_String", "?", "FileExistsQ"}], ")"}], "\[Rule]", 
             "_List"}], ")"}]}], ")"}], ".."}], "}"}], "|", "\n", "\t", 
       "\t\t", 
       RowBox[{"s_", "?", 
        RowBox[{"(", "StringPattern`StringPatternQ", ")"}]}], "|", 
       "Automatic"}], ":", "Automatic"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Module", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
      "outDir", ",", "\n", "\t\t\t", "fileNames", ",", "\n", "\t\t\t", 
       "config", ",", "\n", "\t\t\t", "confOps", ",", "\n", "\t\t\t", 
       "buildOps", ",", "\n", "\t\t\t", "res"}], "\n", "\t\t\t", "}"}], ",", 
     "\n", "\t\t", 
     RowBox[{
      RowBox[{"$WebSiteBuildErrors", "=", 
       RowBox[{"<|", "|>"}]}], ";", "\n", "\t\t", 
      RowBox[{"config", "=", "\n", "\t\t\t", 
       RowBox[{"Join", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Replace", "[", 
            RowBox[{
             RowBox[{"OptionValue", "[", "\"\<ConfigurationFile\>\"", "]"}], 
             ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{
                RowBox[{"fname_String", "?", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"FileExistsQ", "[", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dir", ",", " ", "#"}], "}"}]}], "]"}], "&"}], 
                  ")"}]}], ":>", "\n", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{"{", 
                  RowBox[{"dir", ",", " ", "fname"}], "}"}]}]}], ",", "\n", 
               "\t", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Except", "[", 
                 RowBox[{"_String", "?", "FileExistsQ"}], "]"}], 
                "\[RuleDelayed]", "\n", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"FileExistsQ", "@", 
                   RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dir", ",", "\"\<SiteConfig.m\>\""}], "}"}]}]}], 
                  ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{"dir", ",", "\"\<SiteConfig.m\>\""}], "}"}]}], 
                  ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{"dir", ",", "\"\<SiteConfig.wl\>\""}], "}"}]}]}], 
                 "\n", "\t", "\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t", 
              "\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n",
            "\t\t\t\t\t", 
           RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"f_String", "?", "FileExistsQ"}], ":>", "\n", "\t", 
              "\t", "\t\t\t\t\t\t", 
              RowBox[{"Replace", "[", 
               RowBox[{
                RowBox[{"Import", "[", "f", "]"}], ",", " ", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"o", ":", 
                    RowBox[{
                    RowBox[{"_", "?", "OptionQ"}], "|", 
                    RowBox[{"_", "?", "AssociationQ"}]}]}], "\[RuleDelayed]", 
                   
                   RowBox[{"Association", "[", "o", "]"}]}], ",", 
                  RowBox[{"_", "\[Rule]", 
                   RowBox[{"<|", "|>"}]}]}], "}"}]}], "]"}]}], ",", "\n", 
             "\t\t\t\t\t\t\t", 
             RowBox[{"_", "\[Rule]", 
              RowBox[{"<|", "|>"}]}]}], "\n", "\t\t\t\t\t\t", "}"}]}], "]"}], 
         ",", "\n", "\t\t\t\t", 
         RowBox[{"Replace", "[", 
          RowBox[{
           RowBox[{"Normal", "@", 
            RowBox[{
            "OptionValue", "[", "\"\<ConfigurationOptions\>\"", "]"}]}], ",", 
           "\n", "\t\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"o", ":", 
               RowBox[{
                RowBox[{"_", "?", "OptionQ"}], "|", 
                RowBox[{"_", "?", "AssociationQ"}]}]}], "\[RuleDelayed]", 
              RowBox[{"Association", "@", "o"}]}], ",", "\n", "\t\t\t\t\t\t", 
             
             RowBox[{"_", "\[Rule]", 
              RowBox[{"<|", "|>"}]}]}], "\n", "\t\t\t\t\t\t", "}"}]}], "\n", 
          "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"confOps", "=", "\n", "\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"config", ",", " ", "\"\<BuildOptions\>\"", ",", " ", 
         RowBox[{"{", "}"}]}], "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"outDir", "=", "\n", "\t\t\t", 
       RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"Lookup", "[", 
          RowBox[{
          "confOps", ",", " ", "\n", "\t\t\t\t\t", "\"\<OutputDirectory\>\"", 
           ",", " ", "\n", "\t\t\t\t\t", 
           RowBox[{"OptionValue", "[", "\"\<OutputDirectory\>\"", "]"}]}], 
          "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<output\>\""}], "}"}]}]}], ",", 
           "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"p_String", "?", 
             RowBox[{"(", 
              RowBox[{"Not", "@*", "DirectoryQ"}], ")"}]}], ":>", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "p"}], "}"}]}]}]}], "\n", "\t\t\t\t\t",
           "}"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"fileNames", "=", "\n", "\t\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{"files", ",", "\n", "\t\t\t\t", 
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"fpat_", "?", 
             RowBox[{"(", "StringPattern`StringPatternQ", ")"}]}], ":>", "\n",
             "\t\t\t\t\t\t", 
            RowBox[{"iWebSiteBuildGetFiles", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
             "fpat", ",", "\n", "\t\t\t\t\t\t\t", "dir", ",", "\n", 
              "\t\t\t\t\t\t\t", 
              RowBox[{"Lookup", "[", 
               RowBox[{
               "confOps", ",", " ", "\n", "\t\t\t\t\t\t\t\t", 
                "\"\<ContentDirectories\>\"", ",", " ", "\n", 
                "\t\t\t\t\t\t\t\t", 
                RowBox[{
                "OptionValue", "[", "\"\<ContentDirectories\>\"", "]"}]}], 
               "\n", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"Lookup", "[", 
               RowBox[{
               "confOps", ",", " ", "\n", "\t\t\t\t\t\t\t\t", 
                "\"\<ContentDirectoryTemplates\>\"", ",", " ", "\n", "\t", 
                "\t", "\t", "\t", "\t\t\t\t", 
                RowBox[{
                "OptionValue", "[", "\"\<ContentDirectoryTemplates\>\"", 
                 "]"}]}], "\n", "\t", "\t", "\t", "\t", "\t\t\t\t", "]"}]}], 
             "\n", "\t\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"Automatic", "\[RuleDelayed]", "\n", "\t\t\t\t\t\t", 
            RowBox[{"iWebSiteBuildGetFiles", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Alternatives", "@@", 
               RowBox[{"OptionValue", "[", "\"\<ContentTypes\>\"", "]"}]}], 
              ",", "\n", "\t\t\t\t\t\t\t", "dir", ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"Lookup", "[", 
               RowBox[{
               "confOps", ",", " ", "\n", "\t\t\t\t\t\t\t\t", 
                "\"\<ContentDirectories\>\"", ",", " ", "\n", 
                "\t\t\t\t\t\t\t\t", 
                RowBox[{
                "OptionValue", "[", "\"\<ContentDirectories\>\"", "]"}]}], 
               "\n", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"Lookup", "[", 
               RowBox[{
               "confOps", ",", " ", "\n", "\t\t\t\t\t\t\t\t", 
                "\"\<ContentDirectoryTemplates\>\"", ",", " ", "\n", "\t", 
                "\t", "\t", "\t", "\t\t\t\t", 
                RowBox[{
                "OptionValue", "[", "\"\<ContentDirectoryTemplates\>\"", 
                 "]"}]}], "\n", "\t", "\t", "\t", "\t", "\t\t\t\t", "]"}]}], 
             "\n", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t", "}"}]}], 
        "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"buildOps", "=", "\n", "\t\t\t", 
       RowBox[{"Merge", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{
          "confOps", ",", "\n", "\t\t\t\t\t", "ops", ",", "\n", "\t\t\t\t\t", 
           
           RowBox[{
            RowBox[{"Replace", "[", 
             RowBox[{
              RowBox[{"Except", "[", 
               RowBox[{
                RowBox[{"_", "?", "OptionQ"}], "|", 
                RowBox[{"_", "?", "AssociationQ"}]}], "]"}], "\[Rule]", 
              RowBox[{"{", "}"}]}], "]"}], "@", "\n", "\t\t\t\t\t\t", 
            RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"{", 
                 RowBox[{"dir", ",", " ", "\"\<BuildInfo.wl\>\""}], "}"}]}], 
               ",", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t", 
               RowBox[{"{", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{"f_String", "?", "FileExistsQ"}], ":>", "\n", "\t", 
                  "\t", "\t", "\t", "\t\t\t\t\t\t", 
                  RowBox[{"Import", "[", "f", "]"}]}], ",", "\n", "\t", 
                 "\t\t\t\t\t\t\t\t", 
                 RowBox[{"_String", ":>", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "Replace", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dir", ",", " ", "\"\<BuildInfo.m\>\""}], "}"}]}],
                     ",", "\n", "\t", "\t", "\t", "\t", "\t", "\t", "\t", 
                    "\t\t\t\t", 
                    RowBox[{
                    "{", "\n", "\t", "\t", "\t", "\t", "\t", "\t", "\t", 
                    "\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"f_String", "?", "FileExistsQ"}], ":>", "\n", 
                    "\t", "\t", "\t", "\t", "\t", "\t", "\t", "\t\t\t\t\t\t", 
                    
                    RowBox[{"Import", "[", "f", "]"}]}], "\n", "\t", "\t", 
                    "\t", "\t", "\t", "\t\t\t\t\t\t\t", "}"}]}], "\n", "\t", 
                   "\t", "\t", "\t", "\t", "\t\t\t\t\t\t", "]"}]}]}], "\n", 
                "\t", "\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t", 
              "\t\t\t\t\t\t\t", "]"}]}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"Normal", "@", "config"}]}], "\n", "\t\t\t\t\t", "}"}], 
         ",", "\n", "\t\t\t\t", "First"}], "\n", "\t\t\t\t", "]"}]}], ";", 
      "\n", "\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"!", 
         RowBox[{"DirectoryQ", "[", "outDir", "]"}]}], ",", "\n", "\t\t\t", 
        RowBox[{"CreateDirectory", "@", "outDir"}]}], "\n", "\t\t\t", "]"}], 
      ";", "\n", "\t\t", 
      RowBox[{"If", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"Lookup", "[", 
         RowBox[{
         "confOps", ",", " ", "\n", "\t\t\t\t", "\"\<CopyTheme\>\"", ",", " ",
           "\n", "\t\t\t\t", 
          RowBox[{"OptionValue", "[", "\"\<CopyTheme\>\"", "]"}]}], "\n", 
         "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
        RowBox[{"WebSiteCopyTheme", "[", "\n", "\t\t\t\t", 
         RowBox[{
         "dir", ",", "\n", "\t\t\t\t", "outDir", ",", "\n", "\t\t\t\t", 
          RowBox[{"Lookup", "[", 
           RowBox[{
           "config", ",", " ", "\"\<Theme\>\"", ",", " ", "\n", "\t\t\t\t\t", 
            
            RowBox[{"Lookup", "[", 
             RowBox[{"confOps", ",", " ", "\"\<Theme\>\"", ",", " ", 
              RowBox[{"OptionValue", "[", "\"\<DefaultTheme\>\"", "]"}]}], 
             "]"}]}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
          RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Normal", "@", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"buildOps", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                 RowBox[{"Monitor", "\[Rule]", 
                  RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
                "\t", "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
               "\t\t\t\t\t\t", "First"}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}],
             ",", "\n", "\t\t\t\t\t", 
            RowBox[{"Options", "[", "WebSiteCopyTheme", "]"}]}], "\n", 
           "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", 
       "]"}], ";", "\n", "\t\t", 
      RowBox[{"WebSiteCopyContent", "[", "\n", "\t\t\t", 
       RowBox[{"dir", ",", "\n", "\t\t\t", "outDir", ",", "\n", "\t\t\t", 
        RowBox[{"Lookup", "[", 
         RowBox[{"confOps", ",", " ", "\"\<CopyContent\>\"", ",", " ", 
          RowBox[{"OptionValue", "[", "\"\<CopyContent\>\"", "]"}]}], "]"}], 
        ",", "\n", "\t\t\t", 
        RowBox[{"FilterRules", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Normal", "@", "\n", "\t\t\t\t\t", 
           RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"buildOps", ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"Monitor", "\[Rule]", 
                RowBox[{"OptionValue", "[", "Monitor", "]"}]}]}], "\n", 
              "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t", "First"}], 
            "\n", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t", 
          RowBox[{"Options", "[", "WebSiteCopyContent", "]"}]}], "\n", 
         "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
      RowBox[{"iWebSiteBuild", "[", "\n", "\t\t\t", 
       RowBox[{"dir", ",", "\n", "\t\t\t", "outDir", ",", "\n", "\t\t\t", 
        RowBox[{"Lookup", "[", 
         RowBox[{
         "config", ",", "\n", "\t\t\t\t", "\"\<Theme\>\"", ",", "\n", 
          "\t\t\t\t", 
          RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
           "confOps", ",", "\n", "\t\t\t\t\t", "\"\<DefaultTheme\>\"", ",", 
            " ", "\n", "\t", "\t\t\t\t", 
            RowBox[{"OptionValue", "[", "\"\<DefaultTheme\>\"", "]"}]}], "\n",
            "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", 
        "\t\t\t", "fileNames", ",", "\n", "\t\t\t", "config", ",", "\n", 
        "\t\t\t", 
        RowBox[{"FilterRules", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Normal", "@", "\n", "\t\t\t\t\t", 
           RowBox[{"Merge", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
              "confOps", ",", "\n", "\t\t\t\t\t\t\t", "config", ",", "\n", 
               "\t\t\t\t\t\t\t", "buildOps"}], "\n", "\t\t\t\t\t\t\t", "}"}], 
             ",", "\n", "\t\t\t\t\t\t", "First"}], "\n", "\t\t\t\t\t\t", 
            "]"}]}], ",", " ", "\n", "\t\t\t\t", 
          RowBox[{"Options", "@", "iWebSiteBuild"}]}], "\n", "\t\t\t\t", 
         "]"}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
      RowBox[{"res", "=", "\n", "\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"TrueQ", "[", 
           RowBox[{"OptionValue", "[", "\"\<AutoDeploy\>\"", "]"}], "]"}], "||",
           "\n", "\t", "\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"OptionValue", "[", "\"\<AutoDeploy\>\"", "]"}], "===", 
            "Automatic"}], "&&", "\n", "\t", "\t\t\t\t", 
           RowBox[{"OptionQ", "@", 
            RowBox[{"OptionValue", "[", "\"\<DeployOptions\>\"", "]"}]}]}]}], 
         ",", "\n", "\t\t\t\t", 
         RowBox[{"WebSiteCloudDeploy", "[", "\n", "\t\t\t\t\t", 
          RowBox[{"outDir", ",", "\n", "\t", "\t\t\t\t", 
           RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Lookup", "[", 
              RowBox[{"config", ",", " ", "\"\<SiteURL\>\""}], "]"}], ",", 
             "\n", "\t", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Except", "[", "_String", "]"}], ":>", "\n", "\t", 
              "\t\t\t\t\t\t", 
              RowBox[{"Replace", "[", 
               RowBox[{
                RowBox[{"FileBaseName", "[", "dir", "]"}], ",", "\n", "\t", 
                "\t", "\t\t\t\t\t\t", 
                RowBox[{
                "\"\<output\>\"", ":>", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                 RowBox[{"FileBaseName", "@", 
                  RowBox[{"DirectoryName", "[", "dir", "]"}]}]}]}], "\n", 
               "\t", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t", "\t\t\t\t\t", 
            "]"}], ",", "\n", "\t", "\t\t\t\t", 
           RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Replace", "[", 
              RowBox[{
               RowBox[{"OptionValue", "[", "\"\<DeployOptions\>\"", "]"}], 
               ",", "\n", "\t", "\t\t\t\t\t\t", 
               RowBox[{"Automatic", ":>", 
                RowBox[{"Lookup", "[", 
                 RowBox[{"config", ",", "\"\<DeployOptions\>\"", ",", 
                  RowBox[{"{", "}"}]}], "]"}]}]}], "\n", "\t", "\t\t\t\t\t\t",
               "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Except", "[", 
               RowBox[{
                RowBox[{"_", "?", "OptionQ"}], "|", 
                RowBox[{"_", "?", "AssociationQ"}]}], "]"}], "\[Rule]", 
              RowBox[{"{", "}"}]}]}], "\n", "\t", "\t\t\t\t\t", "]"}]}], "\n",
           "\t", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", "outDir"}], "\n", 
        "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "@", "$WebSiteBuildErrors"}], ">", "0"}], ",", 
        "\n", "\t\t\t", 
        RowBox[{"PackageThrowMessage", "[", "\n", "\t\t\t\t", 
         RowBox[{
         "\"\<SiteBuilder\>\"", ",", "\n", "\t\t\t\t", 
          "\"\<WebSiteBuild encountered errors. Check \
$WebSiteBuildErrors.\>\""}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}],
       ";", "\n", "\t\t", "res"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"721b2262-8790-42b0-8977-8e97f9d13803"]\

}, Closed]]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Deployment\[RightFloor]", "CodeSubsection",
 Evaluatable->True,ExpressionUUID->"1b3af7ba-0ea6-4b48-a4cd-9d1cfc1a93eb"],

Cell["\<\
\[LeftCeiling]
\tOriginally only had Wolfram Cloud deployment but I also need to support \
GitHub Pages since the WC
\tis no longer a viable free option
\[RightFloor]\
\>", "Text",
 Evaluatable->True,ExpressionUUID->"3171290b-9514-4b8a-ac7b-583524765f9f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteCloudDeploy", "::", "depfail"}], "=", 
   "\"\<Failed to deploy `` to ``\>\""}], 
  ";"}]], "CodeInput",ExpressionUUID->"f65c3df3-bbbc-4500-b6d9-22b4f25c024c"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]CloudDeploy\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"a7b7c927-032d-49f5-97b7-c6ce916a5d87"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]getWebsiteDeployDir\[RightFloor]", "CodeSubsubsubsection",
 
 Evaluatable->True,ExpressionUUID->"0547779f-6401-4039-bfe7-213e9aaf1d11"],

Cell[BoxData[
 RowBox[{
  RowBox[{"getWebsiteDeployDir", "[", 
   RowBox[{"outDir_", ",", " ", "opd_"}], "]"}], ":=", "\n", "  ", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", "\n", "    ", 
     RowBox[{"ext", "=", "\n", "      ", 
      RowBox[{"Replace", "[", "\n", "        ", 
       RowBox[{"opd", ",", "\n", "        ", 
        RowBox[{"{", "\n", "          ", 
         RowBox[{
          RowBox[{"Automatic", ":>", "\n", "            ", "\"\<output\>\""}],
           ",", "\n", "          ", 
          RowBox[{
           RowBox[{
            RowBox[{"_String", "?", "DirectoryQ"}], "|", 
            RowBox[{"Except", "[", "_String", "]"}]}], "\[Rule]", 
           "\"\<\>\""}]}], "\n", "          ", "}"}]}], "\n", "        ", 
       "]"}]}], "\n", "      ", "}"}], ",", "\n", "    ", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"StringEndsQ", "[", 
        RowBox[{"outDir", ",", " ", "ext"}], "]"}], "&&", 
       RowBox[{
        RowBox[{"FileNameDepth", "[", "ext", "]"}], ">", "0"}]}], ",", "\n", 
      "      ", 
      RowBox[{"FileNameDrop", "[", 
       RowBox[{"outDir", ",", " ", "\n", "        ", 
        RowBox[{"-", 
         RowBox[{"FileNameDepth", "[", "ext", "]"}]}]}], "\n", "        ", 
       "]"}], ",", "\n", "      ", "outDir"}], "\n", "      ", "]"}]}], "\n", 
   "    ", "]"}]}]], \
"CodeInput",ExpressionUUID->"febf1a31-ea56-4187-8c97-e0477fc6ad18"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteDeploySelectFiles\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{
  3.720636070143309*^9, {3.720636183092206*^9, 
   3.720636185234379*^9}},ExpressionUUID->"4befbb5f-1e12-4cc2-8659-\
3eb6c3232893"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteDeploySelectFiles", "[", "\n", "\t", 
   RowBox[{
   "dir_", ",", "\n", "\t", "last_", ",", "\n", "\t", "select_", ",", "\n", 
    "\t", "fileForms_", ",", "\n", "\t", "alwaysDeployForms_", ",", "\n", 
    "\t", "includes_"}], "\n", "\t", "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{"Select", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"FileExistsQ", "[", "#", "]"}], "&&", "\n", "\t\t", 
      RowBox[{"!", 
       RowBox[{"DirectoryQ", "[", "#", "]"}]}], "&&", "\n", "\t\t\t", 
      RowBox[{"(", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"StringMatchQ", "[", "\n", "\t\t\t\t\t", 
         RowBox[{"#", ",", "\n", "\t\t\t\t\t", "alwaysDeployForms"}], "\n", 
         "\t\t\t\t\t", "]"}], "||", "\n", "\t\t\t\t", 
        RowBox[{"StringMatchQ", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"FileNameTake", "[", "#", "]"}], ",", "\n", "\t\t\t\t\t", 
          "alwaysDeployForms"}], "\n", "\t\t\t\t\t", "]"}], "||", "\n", 
        "\t\t\t\t", 
        RowBox[{"!", 
         RowBox[{"DateObjectQ", "[", "last", "]"}]}], "||", "\n", "\t\t\t\t", 
        
        RowBox[{"Quiet", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileDate", "[", "#", "]"}], ">", "last"}], ",", 
          RowBox[{"Greater", "::", "nordol"}]}], "]"}]}], "\n", "\t\t\t\t", 
       ")"}], "&&", "\n", "\t\t\t", 
      RowBox[{"select", "[", "#", "]"}]}], "&"}], "\n", "\t\t\t", "]"}], "@", 
   "\n", "\t\t", 
   RowBox[{
    RowBox[{"SortBy", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"FileBaseName", "[", "#", "]"}], "===", "\"\<index\>\""}], 
      "&"}], "]"}], "@", "\n", "\t\t", 
    RowBox[{"Join", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Sequence", "@@", "\n", "\t\t\t", 
       RowBox[{"Map", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"FileNames", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
           "fileForms", ",", "\n", "\t\t\t\t\t", "#", ",", "\n", "\t\t\t\t\t",
             "\[Infinity]"}], "]"}], "&"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"Select", "[", 
          RowBox[{
           RowBox[{"Flatten", "@", 
            RowBox[{"{", 
             RowBox[{"dir", ",", " ", "includes"}], "}"}]}], ",", " ", 
           "DirectoryQ"}], "]"}]}], "\n", "\t\t\t\t", "]"}]}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"Select", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Flatten", "@", 
         RowBox[{"List", "@", "includes"}]}], ",", " ", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"Not", "@", 
           RowBox[{"DirectoryQ", "[", "#", "]"}]}], "&&", "\n", "\t\t\t\t\t", 
          
          RowBox[{"StringMatchQ", "[", 
           RowBox[{"#", ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"___", "~~", "fileForms"}]}], "\n", "\t\t\t\t\t\t", 
           "]"}]}], "&"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", 
     "]"}]}]}]}]], "CodeInput",
 CellChangeTimes->{{3.720636187965932*^9, 3.7206363170031443`*^9}, {
  3.7206366275312977`*^9, 
  3.720636632691968*^9}},ExpressionUUID->"64f363ba-876a-45af-b930-\
5a1c721fd286"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteDeployFile\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{
  3.720636070143309*^9},ExpressionUUID->"0f1ce515-7f0d-415d-b25c-\
3f1946273f94"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteDeployFile", "[", 
   RowBox[{
   "f_", ",", " ", "uri_", ",", " ", "outDir_", ",", " ", "trueDir_", ",", 
    " ", "stripDirs_", ",", " ", 
    RowBox[{"ops___", "?", "OptionQ"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{"(*", " ", 
      RowBox[{"Build", " ", "export", " ", "URI"}], " ", "*)"}], "\n", "\t\t", 
     RowBox[{"url", ",", "\n", "\t\t", "perm"}], "\n", "\t\t", "}"}], ",", 
    "\n", "\t\t", 
    RowBox[{
     RowBox[{"url", "=", "\n", "\t\t\t", 
      RowBox[{"URLBuild", "@", "\n", "\t\t\t\t", 
       RowBox[{"Flatten", "@", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{"uri", ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"FileBaseName", "[", "trueDir", "]"}]}]}], "\n", 
           "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"FileNameSplit", "@", "\n", "\t\t\t\t\t\t", 
           RowBox[{"FileNameDrop", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"f", ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"FileNameDepth", "@", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"SelectFirst", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"SortBy", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Minus", "@*", "FileNameDepth"}], "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", "]"}], "@", "\n", 
                 "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"Flatten", "@", 
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "outDir", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", "trueDir", 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t", "stripDirs"}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t", "}"}]}]}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"StringStartsQ", "[", 
                  RowBox[{"f", ",", " ", "#"}], "]"}], "&"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", "outDir"}], "\n", "\t\t\t\t\t\t\t\t\t", 
               "]"}]}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
         "\t\t\t\t\t", "}"}]}]}]}], ";", "\n", "\t\t", 
     RowBox[{"perm", "=", "\n", "\t\t\t", 
      RowBox[{"Lookup", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Flatten", "@", 
         RowBox[{"{", 
          RowBox[{"ops", ",", " ", 
           RowBox[{"Options", "[", "WebSiteCloudDeploy", "]"}]}], "}"}]}], 
        ",", "\n", "\t\t\t\t", "Permissions", ",", "\n", "\t\t\t\t", 
        "\"\<Private\>\""}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"StringQ", "@", "url"}], "&&", 
        RowBox[{"StringEndsQ", "[", 
         RowBox[{"url", ",", "\"\</index.html\>\""}], "]"}]}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{
        "make", " ", "sure", " ", "permissions", " ", "are", " ", "set", " ", 
         "correctly", " ", "on", " ", "the", " ", "main", " ", "page"}], " ", 
        "*)"}], "\n", "\t\t\t", 
       RowBox[{"Quiet", "@", 
        RowBox[{"SetPermissions", "[", 
         RowBox[{
          RowBox[{"StringTrim", "[", 
           RowBox[{"url", ",", " ", "\"\</index.html\>\""}], "]"}], ",", " ", 
          "perm"}], "]"}]}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Replace", "[", "\n", "\t\t\t", 
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"CloudObject", "[", 
           RowBox[{"c_", ",", " ", "___"}], "]"}], "\[RuleDelayed]", 
          RowBox[{"CloudObject", "[", "c", "]"}]}], ",", "\n", "\t\t\t\t", 
         RowBox[{"e_", "\[RuleDelayed]", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Message", "[", 
             RowBox[{
              RowBox[{"WebSiteCloudDeploy", "::", "depfail"}], ",", " ", "f", 
              ",", " ", "url"}], "]"}], ";", "e"}], ")"}]}]}], "\n", 
        "\t\t\t\t", "}"}], "\n", "\t\t\t", "]"}], "@", "\n", "\t\t\t", 
      RowBox[{"CopyFile", "[", "\n", "\t\t\t\t", 
       RowBox[{"f", ",", "\n", "\t\t\t\t", 
        RowBox[{"CloudObject", "[", "\n", "\t\t\t\t\t", 
         RowBox[{"url", ",", "\n", "\t\t\t\t\t", 
          RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Flatten", "@", 
             RowBox[{"{", 
              RowBox[{"ops", ",", " ", 
               RowBox[{"Options", "[", "WebSiteCloudDeploy", "]"}]}], "}"}]}],
             ",", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{"Options", "[", "CloudObject", "]"}]}], "\n", 
           "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"ext", "=", 
            RowBox[{"ToUpperCase", "@", 
             RowBox[{"FileExtension", "[", "f", "]"}]}]}], "}"}], ",", "\n", 
          "\t\t\t\t\t", 
          RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Quiet", "@", 
             RowBox[{"ImportExport`GetMIMEType", "[", "ext", "]"}]}], ",", 
            "\n", "\t\t\t\t\t\t", 
            RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"{", 
                RowBox[{"s_String", ",", " ", "___"}], "}"}], 
               "\[RuleDelayed]", 
               RowBox[{"(", 
                RowBox[{"\"\<MIMEType\>\"", "\[Rule]", "s"}], ")"}]}], ",", 
              "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"_", "\[RuleDelayed]", 
               RowBox[{"Sequence", "@@", 
                RowBox[{"{", "}"}]}]}]}], "\n", "\t\t\t\t\t\t\t", "}"}]}], 
           "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
       "\t\t\t\t", "]"}]}]}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"f51e9a66-da41-46c8-8b62-a06740f55e31"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webSiteDeploy\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"4c263bc0-3776-47bc-8876-7416e6fa510d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"webSiteDeploy", "[", "\n", "\t", 
   RowBox[{
   "uri_", ",", " ", "outDir_", ",", " ", "trueDir_", ",", " ", "\n", "\t", 
    "last_", ",", " ", "select_", ",", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "WebSiteCloudDeploy", "]"}]}]}], "]"}], ":=",
   " ", "\n", "\t", 
  RowBox[{"(", "\n", "\t\t", 
   RowBox[{
    RowBox[{"KeychainConnect", "[", 
     RowBox[{"OptionValue", "[", "CloudConnect", "]"}], "]"}], ";", "\n", 
    "\t\t", 
    RowBox[{"Block", "[", 
     RowBox[{
      RowBox[{"{", "file", "}"}], ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"TrueQ", "@", 
          RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"Function", "[", 
          RowBox[{"Null", ",", " ", "\n", "\t", "\t\t\t\t", 
           RowBox[{"Monitor", "[", 
            RowBox[{"#", ",", " ", "\n", "\t", "\t\t\t\t\t", 
             RowBox[{"Internal`LoadingPanel", "[", "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{"TemplateApply", "[", 
               RowBox[{"\"\<Deploying ``\>\"", ",", "file"}], "]"}], "\n", 
              "\t", "\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t", "]"}], 
           ",", " ", "\n", "\t\t\t\t\t", "HoldAllComplete"}], "\n", 
          "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", "Identity"}], "\n", 
        "\t\t\t\t", "]"}], "@", "\n", "\t\t\t\t", 
       RowBox[{"Map", "[", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"Function", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"file", "=", "#"}], ";", "\n", "\t\t\t\t\t\t", 
           RowBox[{"webSiteDeployFile", "[", 
            RowBox[{
            "#", ",", "\n", "\t\t\t\t\t\t\t", "uri", ",", " ", "outDir", ",", 
             " ", "trueDir", ",", " ", 
             RowBox[{"OptionValue", "[", "\"\<StripDirectories\>\"", "]"}], 
             ",", " ", "\n", "\t\t\t\t\t\t\t", "ops"}], "\n", 
            "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n",
          "\t\t\t\t\t", 
         RowBox[{"webSiteDeploySelectFiles", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
          "outDir", ",", "\n", "\t\t\t\t\t\t", "last", ",", "\n", 
           "\t\t\t\t\t\t", "select", ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Alternatives", "@@", 
              RowBox[{"List", "@", 
               RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"OptionValue", "[", "FileNameForms", "]"}], ",", 
                 "\n", "\t", "\t\t\t\t\t\t\t", 
                 RowBox[{
                 "OptionValue", "[", "\"\<ExtraFileNameForms\>\"", "]"}]}], 
                "\n", "\t", "\t\t\t\t\t\t\t", "}"}]}]}], ",", "\n", "\t", 
             "\t\t\t\t\t\t", 
             RowBox[{"All", "\[Rule]", "\"\<*\>\""}]}], "\n", "\t", "\t", 
            "\t", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "@", "\"\<AlwaysDeployForms\>\""}], ",", 
           "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "@", "\"\<IncludeFiles\>\""}]}], "\n", 
          "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", 
     "\t\t\t", "]"}]}], "\n", "\t\t", 
   ")"}]}]], \
"CodeInput",ExpressionUUID->"b15615b7-f2f5-4220-8a99-016fc742dcd5"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]webGitHubDeploy\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"8439b48b-ebc1-4f7a-b590-2924055f91bb"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"webGitHubDeploy", "[", "\n", "\t", 
    RowBox[{
    "uri_", ",", " ", "outDir_", ",", " ", "trueDir_", ",", " ", "\n", "\t", 
     "last_", ",", " ", "select_", ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "WebSiteCloudDeploy", "]"}]}]}], "\n", 
    "\t", "]"}], ":=", " ", "\n", "\t", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"TrueQ", "@", 
         RowBox[{"OptionValue", "[", "Monitor", "]"}]}], ",", "\n", "\t\t\t", 
        
        RowBox[{"Function", "[", 
         RowBox[{"Null", ",", " ", "\n", "\t\t\t\t", 
          RowBox[{"Monitor", "[", 
           RowBox[{"#", ",", " ", "\n", "\t\t\t\t\t", 
            RowBox[{"Internal`LoadingPanel", "[", "\n", "\t\t\t\t\t\t", 
             RowBox[{"TemplateApply", "[", 
              RowBox[{"\"\<Deploying ``\>\"", ",", "file"}], "]"}], "\n", 
             "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ",", " ", 
          "\n", "\t\t\t\t", "HoldAllComplete"}], "\n", "\t\t\t\t", "]"}], ",",
         "\n", "\t\t\t", "Identity"}], "\n", "\t\t\t", "]"}], "@", "\n", 
      "\t\t\t", 
      RowBox[{"Map", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Function", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"file", "=", "#"}], ";", "\n", "\t\t\t\t\t", 
          RowBox[{"webSiteDeployFile", "[", 
           RowBox[{
           "#", ",", "\n", "\t\t\t\t\t\t", "uri", ",", " ", "outDir", ",", 
            " ", "trueDir", ",", " ", 
            RowBox[{"OptionValue", "[", "\"\<StripDirectories\>\"", "]"}], 
            ",", " ", "\n", "\t\t\t\t\t\t", "ops"}], "\n", "\t\t\t\t\t\t", 
           "]"}]}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"webSiteDeploySelectFiles", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
         "outDir", ",", "\n", "\t\t\t\t\t", "last", ",", "\n", "\t\t\t\t\t", 
          "select", ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Alternatives", "@@", 
             RowBox[{"List", "@", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"OptionValue", "[", "FileNameForms", "]"}], ",", "\n",
                 "\t\t\t\t\t\t\t", 
                RowBox[{
                "OptionValue", "[", "\"\<ExtraFileNameForms\>\"", "]"}]}], 
               "\n", "\t\t\t\t\t\t\t", "}"}]}]}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"All", "\[Rule]", "\"\<*\>\""}]}], "\n", "\t", "\t", 
           "\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"OptionValue", "@", "\"\<AlwaysDeployForms\>\""}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{"OptionValue", "@", "\"\<IncludeFiles\>\""}]}], "\n", 
         "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}]}], "\n", "\t\t", 
    "]"}]}], "*)"}]], \
"CodeInput",ExpressionUUID->"bc14a811-5e1b-492d-b148-7df5bdcacde4"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]$WebFileFormats\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"f50f7b09-6867-465a-815a-56b19611423c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$WebFileFormats", "=", "\n", "\t", 
   RowBox[{
   "\"\<html\>\"", "|", "\"\<css\>\"", "|", "\"\<js\>\"", "|", "\"\<xml\>\"", 
    "|", "\"\<json\>\"", "|", "\n", "\t", "\"\<png\>\"", "|", "\"\<jpg\>\"", 
    "|", "\"\<gif\>\"", "|", "\n", "\t", "\"\<woff\>\"", "|", "\"\<tff\>\"", 
    "|", "\"\<eot\>\"", "|", "\"\<svg\>\""}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"f2ee7f30-6367-46ac-a822-21d188744e4a"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteCloudDeploy\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"43c340d2-2bfd-4543-8eee-e307895f6c13"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteCloudDeploy", "]"}], "=", "\n", "\t", 
   RowBox[{"Join", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"FileNameForms", "\[Rule]", 
        RowBox[{"\"\<*.\>\"", "~~", "$WebFileFormats"}]}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<ExtraFileNameForms\>\"", "\[Rule]", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"Select", "\[Rule]", 
        RowBox[{"(", 
         RowBox[{"True", "&"}], ")"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"CloudConnect", "\[Rule]", "False"}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<LastDeployment\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<AlwaysDeployForms\>\"", "\[Rule]", "\"\<\>\""}], ",", 
       "\n", "\t\t\t", 
       RowBox[{"\"\<OutputDirectory\>\"", "\[Rule]", "Automatic"}], ",", "\n",
        "\t\t\t", 
       RowBox[{"\"\<IncludeFiles\>\"", "\[Rule]", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<StripDirectories\>\"", "\[Rule]", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"Permissions", "\[Rule]", "\"\<Public\>\""}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"Monitor", "\[Rule]", "True"}]}], "\n", "\t\t\t", "}"}], ",", 
     "\n", "\t\t", 
     RowBox[{"Options", "[", "CloudObject", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteCloudDeploy", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"outDir_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
     RowBox[{"uri", ":", 
      RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}], ",", "\n", 
     "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Module", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"trueDir", "=", 
        RowBox[{"getWebsiteDeployDir", "[", 
         RowBox[{"outDir", ",", " ", 
          RowBox[{"OptionValue", "[", "\"\<OutputDirectory\>\"", "]"}]}], 
         "]"}]}], ",", "\n", "\t\t\t", "info", ",", "\n", "\t\t\t", "select", 
       ",", "\n", "\t", "\t\t", "last"}], "\n", "\t", "\t\t", "}"}], ",", 
     "\n", "\t\t", 
     RowBox[{
      RowBox[{"info", "=", "\n", "\t\t\t", 
       RowBox[{"Which", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"FileExistsQ", "[", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"trueDir", ",", " ", "\"\<DeploymentInfo.wl\>\""}], 
            "}"}]}], "]"}], ",", "\n", "\t\t\t\t\t", 
         RowBox[{"Import", "[", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"trueDir", ",", " ", "\"\<DeploymentInfo.wl\>\""}], 
            "}"}]}], "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"FileExistsQ", "[", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"trueDir", ",", "\"\<DeploymentInfo.m\>\""}], "}"}]}], 
          "]"}], ",", "\n", "\t\t\t\t\t", 
         RowBox[{"Import", "[", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"trueDir", ",", "\"\<DeploymentInfo.m\>\""}], "}"}]}], 
          "]"}], ",", "\n", "\t\t\t\t", "True", ",", "\n", "\t\t\t\t\t", 
         RowBox[{"{", "}"}]}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"FileExistsQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"trueDir", ",", "\"\<DeploymentInfo.m\>\""}], "}"}]}]}], 
        ",", "\n", "\t\t\t", 
        RowBox[{"DeleteFile", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"trueDir", ",", "\"\<DeploymentInfo.m\>\""}], "}"}]}]}]}], 
       "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
      RowBox[{"Export", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"trueDir", ",", "\"\<DeploymentInfo.wl\>\""}], "}"}]}], ",",
         "\n", "\t\t\t", 
        RowBox[{"KeyDrop", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Association", "@", "\n", "\t\t\t\t\t", 
           RowBox[{"Flatten", "@", 
            RowBox[{"{", "\n", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Normal", "@", "info"}], ",", "\n", "\t\t\t\t\t\t", 
              "ops", ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"\"\<LastDeployment\>\"", "\[Rule]", "Now"}]}], "\n", 
             "\t\t\t\t\t\t", "}"}]}]}], ",", "\n", "\t\t\t\t", 
          RowBox[{"{", 
           RowBox[{"FileNameForms", ",", "\"\<ExtraFileNameForms\>\""}], 
           "}"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ";", 
      "\n", "\t\t", 
      RowBox[{"select", "=", 
       RowBox[{"OptionValue", "[", "Select", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"last", "=", 
       RowBox[{"First", "@", 
        RowBox[{"Flatten", "@", 
         RowBox[{"List", "@", "\n", "\t\t\t", 
          RowBox[{"Replace", "[", 
           RowBox[{
            RowBox[{"OptionValue", "[", "\"\<LastDeployment\>\"", "]"}], ",", 
            "\n", "\t\t\t\t", 
            RowBox[{"Automatic", ":>", 
             RowBox[{"Lookup", "[", 
              RowBox[{"info", ",", "\"\<LastDeployment\>\"", ",", "None"}], 
              "]"}]}]}], "\n", "\t\t\t\t", "]"}]}]}]}]}], ";", "\n", "\t\t", 
      RowBox[{"webSiteDeploy", "[", 
       RowBox[{
       "uri", ",", " ", "outDir", ",", " ", "trueDir", ",", " ", "\n", 
        "\t\t\t", "last", ",", " ", "select", ",", "\n", "\t\t\t", 
        RowBox[{"Flatten", "@", 
         RowBox[{"{", 
          RowBox[{"ops", ",", "\n", "\t\t\t\t", 
           RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Replace", "[", 
              RowBox[{
               RowBox[{"Quiet", "@", 
                RowBox[{"Import", "[", 
                 RowBox[{"trueDir", ",", " ", "\"\<SiteConfig.wl\>\""}], 
                 "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Except", "[", 
                 RowBox[{
                  RowBox[{"_", "?", "OptionQ"}], "|", 
                  RowBox[{"_", "?", "AssociationQ"}]}], "]"}], 
                "\[RuleDelayed]", 
                RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", 
             "\n", "\t\t\t\t\t", "\"\<DeployOptions\>\"", ",", "\n", 
             "\t\t\t\t\t", 
             RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
          "\t\t\t\t", "}"}]}]}], "\n", "\t\t\t", "]"}]}]}], "\n", "\t\t", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"WebSiteCloudDeploy", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"outDir_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
     RowBox[{"uri", ":", 
      RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}], ",", "\n", 
     "\t", 
     RowBox[{"ops_", "?", "AssociationQ"}]}], "\n", "\t", "]"}], ":=", "\n", 
   "\t", 
   RowBox[{"WebSiteCloudDeploy", "[", 
    RowBox[{"outDir", ",", " ", "uri", ",", " ", 
     RowBox[{"Normal", "[", "ops", "]"}]}], "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"aa587e27-d2a6-438d-a696-c3ef371636ec"]\

}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]GitHubDeploy\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"21da9d85-052f-438d-8fc9-7d06eb059df5"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]getGHDeployRoot\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"0d88c616-87c3-401f-ae4f-7367c012c372"],

Cell[BoxData[
 RowBox[{
  RowBox[{"getGHDeployRoot", "[", "outDir_", "]"}], ":=", "\n", "  ", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"MemberQ", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "\"\<out\>\"", ",", " ", "\"\<output\>\"", ",", " ", "\"\<docs\>\""}], 
       "}"}], ",", " ", 
      RowBox[{"FileBaseName", "[", "outDir", "]"}]}], "]"}], ",", "\n", 
    "    ", 
    RowBox[{"DirectoryName", "[", "outDir", "]"}], ",", "\n", "    ", 
    "outDir"}], "\n", "    ", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"c638b045-7af8-46be-a6cd-03b1e5adf903"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]setupGitIgnore\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"bbf1454e-b169-4061-adc2-1845921b749a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"setupGitIgnore", "[", "dir_", "]"}], ":=", "\n", "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"ge", ",", " ", "getext"}], "}"}], ",", "\n", "    ", 
    RowBox[{
     RowBox[{"ge", " ", "=", " ", 
      RowBox[{"FileNameJoin", "@", 
       RowBox[{"{", 
        RowBox[{"dir", ",", " ", "\"\<.gitignore\>\""}], "}"}]}]}], ";", "\n",
      "    ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"FileExistsQ", "[", "ge", "]"}]}], ",", "\n", "      ", 
       RowBox[{"Export", "[", 
        RowBox[{
        "ge", ",", "\n", "        ", 
         "\"\<.DS_Store\\ndocs\\ncontent\\noutput\>\"", ",", "\n", 
         "        ", "\"\<Text\>\""}], "\n", "        ", "]"}]}], "\n", 
      "      ", "]"}]}]}], "\n", "    ", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"e2cd2ee0-c4f5-4b22-acfa-b7a9083f5952"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]initGitWebsite\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"dc148002-f5e6-47be-b864-55a74cbb7081"],

Cell[BoxData[
 RowBox[{
  RowBox[{"initGitWebsite", "[", "dir_", "]"}], ":=", "\n", "  ", 
  RowBox[{"Which", "[", "\n", "    ", 
   RowBox[{
    RowBox[{"Git", "[", 
     RowBox[{"\"\<RepoQ\>\"", ",", " ", "dir"}], "]"}], ",", "\n", "      ", 
    "dir", ",", "\n", "    ", 
    RowBox[{"Git", "[", 
     RowBox[{"\"\<RepoQ\>\"", ",", " ", 
      RowBox[{"DirectoryName", "@", "dir"}]}], "]"}], ",", "\n", "      ", 
    RowBox[{"DirectoryName", "@", "dir"}], ",", "\n", "    ", "True", ",", 
    "\n", "      ", 
    RowBox[{
     RowBox[{"Git", "[", 
      RowBox[{"\"\<Init\>\"", ",", " ", "dir"}], "]"}], ";", "\n", "      ", 
     RowBox[{"setupGitIgnore", "[", "dir", "]"}], ";", "\n", "      ", 
     RowBox[{"Git", "[", 
      RowBox[{"\"\<Add\>\"", ",", " ", "dir", ",", " ", 
       RowBox[{"\"\<All\>\"", "\[Rule]", "True"}]}], "]"}], ";", "\n", 
     "      ", 
     RowBox[{"Git", "[", 
      RowBox[{"\"\<Commit\>\"", ",", " ", "dir", ",", " ", 
       RowBox[{"\"\<Message\>\"", "\[Rule]", "\"\<Setting up site\>\""}]}], 
      "]"}], ";", "\n", "      ", "dir"}]}], "\n", "    ", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"c3237f54-0a3b-4d4a-a8bd-253c3af07650"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]checkoutGHPagesBranch\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"b3fcd516-9e3f-41d4-97ef-047644135175"],

Cell[BoxData[{
 RowBox[{"checkoutGHPagesBranch", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{"checkoutGHPagesBranch", "[", 
   RowBox[{"dir_", ",", " ", "\n", "  ", 
    RowBox[{"curb", ":", 
     RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}], ",", "\n", 
    "  ", 
    RowBox[{"bname", ":", "_String", ":", "\"\<gh-pages\>\""}]}], "\n", "  ", 
   "]"}], ":=", "\n", "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"chk", ",", " ", 
      RowBox[{"cur", " ", "=", " ", "curb"}], ",", " ", "c2"}], "}"}], ",", 
    "\n", "    ", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"cur", "===", "Automatic"}], ",", " ", 
       RowBox[{"cur", " ", "=", " ", 
        RowBox[{"Git", "[", 
         RowBox[{"\"\<CurrentBranch\>\"", ",", " ", "dir"}], "]"}]}]}], "]"}],
      ";", "\n", "    ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"cur", "=!=", "bname"}], ",", "\n", "      ", 
       RowBox[{
        RowBox[{"Git", "[", 
         RowBox[{"\"\<Add\>\"", ",", " ", "dir", ",", " ", 
          RowBox[{"\"\<All\>\"", "\[Rule]", "True"}]}], "]"}], ";", "\n", 
        "      ", 
        RowBox[{"Git", "[", 
         RowBox[{
         "\"\<Commit\>\"", ",", " ", "dir", ",", " ", "\n", "  ", "      ", 
          RowBox[{
          "\"\<Message\>\"", "->", 
           "\"\<Commiting current branch before deployment...\>\""}]}], "\n", 
         "        ", "]"}], ";", "\n", "      ", 
        RowBox[{"chk", " ", "=", " ", 
         RowBox[{"Git", "[", 
          RowBox[{"\"\<Checkout\>\"", ",", " ", "dir", ",", " ", "bname"}], 
          "]"}]}], ";", " ", 
        RowBox[{"(*", " ", 
         RowBox[{"if", " ", 
          RowBox[{"doesn", "'"}], "t", " ", "exit", " ", 
          RowBox[{"we", "'"}], "ll", " ", "capture", " ", "that"}], " ", 
         "*)"}], "\n", "      ", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"StringStartsQ", "[", 
           RowBox[{"chk", ",", " ", "\"\<error: pathspec \>\""}], "]"}], ",", 
          "\n", "  ", "      ", 
          RowBox[{
           RowBox[{"Git", "[", 
            RowBox[{"\"\<Branch\>\"", ",", " ", "dir", ",", " ", "bname"}], 
            "]"}], ";", "\n", "  ", "      ", 
           RowBox[{"Git", "[", 
            RowBox[{"\"\<Checkout\>\"", ",", " ", "dir", ",", " ", "bname"}], 
            "]"}], ";"}]}], "\n", "        ", "]"}], ";", "\n", "      ", 
        RowBox[{"c2", " ", "=", " ", 
         RowBox[{"Git", "[", 
          RowBox[{"\"\<CurrentBranch\>\"", ",", " ", "dir"}], "]"}]}], ";", 
        "\n", "      ", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"c2", " ", "=!=", " ", "bname"}], ",", " ", "\n", 
          "        ", 
          RowBox[{"PackageRaiseException", "[", "\n", "          ", 
           RowBox[{
           "Automatic", ",", "\n", "          ", 
            "\"\<Can't deploy from branch ``. Stuck on branch ``\>\"", ",", 
            "\n", "          ", "bname", ",", " ", "\n", "          ", "c2"}],
            "\n", "          ", "]"}]}], "\n", "        ", "]"}], ";", "\n", 
        "      ", 
        RowBox[{"Git", "[", 
         RowBox[{"\"\<Rebase\>\"", ",", " ", "dir", ",", " ", "cur", ",", " ", 
          RowBox[{"\"\<StrategyOption\>\"", "\[Rule]", "\"\<ours\>\""}]}], 
         "]"}], ";"}]}], "\n", "      ", "]"}], ";", "\n", "    ", "cur"}]}], 
   "\n", "    ", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"3c4f6ed9-9b0c-4cba-b8f2-bc1cc2f03bee"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]deployGHPagesBranch\[RightFloor]", "CodeSubsubsubsection",
 
 Evaluatable->True,ExpressionUUID->"976cc89f-ea97-432e-9db6-3ebc385ff8d2"],

Cell[BoxData[
 RowBox[{
  RowBox[{"deployGHPagesBranch", "[", 
   RowBox[{"dir_", ",", " ", "path_", ",", " ", 
    RowBox[{"bname_:", "\"\<gh-pages\>\""}]}], "]"}], ":=", "\n", "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"cur", ",", " ", "chk", ",", " ", "res"}], "}"}], ",", "\n", 
    "    ", 
    RowBox[{"Internal`WithLocalSettings", "[", "\n", "      ", 
     RowBox[{
      RowBox[{"cur", " ", "=", " ", 
       RowBox[{"checkoutGHPagesBranch", "[", 
        RowBox[{"dir", ",", " ", "Automatic", ",", " ", "bname"}], "]"}]}], 
      ",", "\n", "      ", 
      RowBox[{
       RowBox[{"setupGHPagesContent", "[", "dir", "]"}], ";", "\n", "      ", 
       
       RowBox[{"pushGHPagesContent", "[", 
        RowBox[{"dir", ",", " ", "path", ",", " ", "bname"}], "]"}]}], ",", 
      "\n", "      ", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"cur", "=!=", "bname"}], "&&", 
         RowBox[{"StringQ", "[", "cur", "]"}]}], ",", " ", "\n", "        ", 
        RowBox[{"Git", "[", 
         RowBox[{
         "\"\<Checkout\>\"", ",", " ", "dir", ",", " ", "cur", ",", " ", 
          RowBox[{"\"\<Force\>\"", "\[Rule]", "True"}]}], "]"}]}], "\n", 
       "        ", "]"}]}], "\n", "      ", "]"}]}], "\n", "    ", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"cf0b889c-f7f6-4ff6-af86-6b04c020d55e"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]setupGHPagesContent\[RightFloor]", "CodeSubsubsubsection",
 
 Evaluatable->True,ExpressionUUID->"7e780ac1-4faa-4795-ab41-0e3301244494"],

Cell[BoxData[
 RowBox[{
  RowBox[{"setupGHPagesContent", "[", "dir_", "]"}], ":=", "\n", "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "contentDir", "}"}], ",", "\n", "    ", 
    RowBox[{"Which", "[", "\n", "      ", 
     RowBox[{
      RowBox[{
       RowBox[{"Length", "[", 
        RowBox[{"FileNames", "[", 
         RowBox[{"\"\<*\>\"", ",", " ", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", " ", "\"\<output\>\""}], "}"}]}], ",", " ", 
          "Infinity"}], "]"}], "]"}], ">", "0"}], ",", "\n", "        ", 
      RowBox[{"CopyDirectoryFiles", "[", "\n", "          ", 
       RowBox[{
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"dir", ",", " ", "\"\<output\>\""}], "}"}]}], ",", "\n", 
        "          ", "dir", ",", "\n", "          ", 
        RowBox[{"GetMinimalFileModSpec", "[", "\n", "            ", 
         RowBox[{
          RowBox[{"FileNames", "[", 
           RowBox[{"\"\<*\>\"", ",", " ", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<output\>\""}], "}"}]}], ",", " ", 
            "Infinity"}], "]"}], ",", "\n", "            ", 
          RowBox[{"FileNames", "[", 
           RowBox[{"\"\<*\>\"", ",", " ", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<output\>\""}], "}"}]}], ",", " ", 
            "Infinity"}], "]"}]}], "\n", "            ", "]"}]}], "\n", 
       "          ", "]"}], ",", "\n", "      ", 
      RowBox[{
       RowBox[{"Length", "[", 
        RowBox[{"FileNames", "[", 
         RowBox[{"\"\<*\>\"", ",", " ", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", " ", "\"\<docs\>\""}], "}"}]}], ",", " ", 
          "Infinity"}], "]"}], "]"}], ">", "0"}], ",", "\n", "        ", 
      RowBox[{"CopyDirectoryFiles", "[", "\n", "          ", 
       RowBox[{
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"dir", ",", " ", "\"\<docs\>\""}], "}"}]}], ",", "\n", 
        "          ", "dir", ",", "\n", "          ", 
        RowBox[{"GetMinimalFileModSpec", "[", "\n", "            ", 
         RowBox[{
          RowBox[{"FileNames", "[", 
           RowBox[{"\"\<*\>\"", ",", " ", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<docs\>\""}], "}"}]}], ",", " ", 
            "Infinity"}], "]"}], ",", "\n", "            ", 
          RowBox[{"FileNames", "[", 
           RowBox[{"\"\<*\>\"", ",", " ", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", " ", "\"\<docs\>\""}], "}"}]}], ",", " ", 
            "Infinity"}], "]"}]}], "\n", "            ", "]"}]}], "\n", 
       "          ", "]"}]}], "\n", "      ", "]"}]}], "\n", "    ", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"893ad887-ea5c-4ea1-a3c3-1d077d5a781d"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]configureGHPagesRemote\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"98ac3b41-5ac1-40db-9672-cbecba6cf45a"],

Cell["\<\
\[LeftCeiling]
\tShould work to configure and set up a GitHub repo for the website...
\[RightFloor]\
\>", "Text",
 Evaluatable->True,ExpressionUUID->"3915a47e-c993-4dde-9077-9e42851dfd28"],

Cell[BoxData[
 RowBox[{
  RowBox[{"configureGHPagesRemote", "[", 
   RowBox[{"dir_", ",", " ", "path_", ",", " ", 
    RowBox[{"bname_:", "\"\<gh-pages\>\""}]}], "]"}], ":=", "\n", "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"rem", ",", " ", "addRem", ",", " ", "rem2"}], "}"}], ",", "\n", 
    "    ", 
    RowBox[{
     RowBox[{"rem", " ", "=", " ", 
      RowBox[{"Git", "[", 
       RowBox[{"\"\<GetRemoteURL\>\"", ",", " ", "dir", ",", " ", "bname"}], 
       "]"}]}], ";", "\n", "    ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"StringContainsQ", "[", 
         RowBox[{"rem", ",", " ", "\"\<github.com\>\""}], "]"}]}], ",", "\n", 
       "      ", 
       RowBox[{
        RowBox[{"addRem", " ", "=", " ", 
         RowBox[{"URL", "@", 
          RowBox[{"GitHub", "[", 
           RowBox[{"\"\<Path\>\"", ",", " ", "path"}], "]"}]}]}], ";", "\n", 
        "      ", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"URLRead", "[", 
            RowBox[{"addRem", ",", " ", "\"\<StatusCode\>\""}], "]"}], ">", 
           "399"}], ",", " ", 
          RowBox[{"GitHub", "[", 
           RowBox[{"\"\<Create\>\"", ",", " ", "path"}], "]"}]}], "]"}], ";", 
        "\n", "      ", 
        RowBox[{"rem2", " ", "=", " ", 
         RowBox[{"Git", "[", 
          RowBox[{
          "\"\<AddRemote\>\"", ",", " ", "dir", ",", " ", "bname", ",", " ", 
           "addRem"}], "]"}]}], ";", "\n", "      ", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"rem2", "===", "Null"}], ",", " ", 
          RowBox[{"rem", " ", "=", " ", "addRem"}], ",", " ", 
          RowBox[{"rem", " ", "=", " ", "$Failed"}]}], "]"}]}]}], "\n", 
      "      ", "]"}], ";", "\n", "    ", "rem"}]}], "\n", "    ", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"9ff4d308-d1bd-4c52-98b0-56fe7704f9bd"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pushGHPagesContent\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"f3ed5200-b647-4a9f-945b-48bf83567074"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pushGHPagesContent", "[", 
   RowBox[{"dir_", ",", " ", "path_", ",", " ", 
    RowBox[{"bname_:", "\"\<gh-pages\>\""}]}], "]"}], ":=", "\n", "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"rem", "=", 
       RowBox[{"configureGHPagesRemote", "[", 
        RowBox[{"dir", ",", " ", "path", ",", " ", "bname"}], "]"}]}], ",", 
      " ", "\n", "    ", 
      RowBox[{"res", "=", "$Failed"}], ",", " ", 
      RowBox[{"add", "=", "$Failed"}], ",", " ", 
      RowBox[{"commit", "=", "$Failed"}]}], "}"}], ",", "\n", "    ", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"rem", "=!=", "$Failed"}], ",", "\n", "      ", 
       RowBox[{
        RowBox[{"Echo", "@", 
         RowBox[{"Git", "[", 
          RowBox[{
          "\"\<Pull\>\"", ",", " ", "dir", ",", " ", "bname", ",", " ", 
           "bname", ",", " ", 
           RowBox[{"\"\<StrategyOption\>\"", "\[Rule]", "\"\<ours\>\""}]}], 
          "]"}]}], ";", "\n", "      ", 
        RowBox[{"Git", "[", 
         RowBox[{"\"\<Add\>\"", ",", " ", "dir", ",", " ", 
          RowBox[{"\"\<All\>\"", "\[Rule]", "True"}]}], "]"}], ";", "\n", 
        "      ", 
        RowBox[{"commit", " ", "=", " ", 
         RowBox[{"Git", "[", 
          RowBox[{
          "\"\<Commit\>\"", ",", " ", "dir", ",", " ", "\n", "  ", "      ", 
           RowBox[{"\"\<Message\>\"", "->", 
            RowBox[{"\"\<Deploying website at \>\"", "<>", 
             RowBox[{"DateString", "[", 
              RowBox[{"Now", ",", " ", "\"\<DateTimeShort\>\""}], "]"}]}]}]}],
           "\n", "  ", "      ", "]"}]}], ";", "\n", "      ", 
        RowBox[{"res", " ", "=", " ", 
         RowBox[{"Git", "[", 
          RowBox[{
          "\"\<Push\>\"", ",", " ", "dir", ",", " ", "bname", ",", " ", 
           "bname"}], "]"}]}], ";"}]}], "\n", "      ", "]"}], ";", "\n", 
     "    ", 
     RowBox[{"<|", "\n", "      ", 
      RowBox[{
       RowBox[{"\"\<Remote\>\"", "->", "rem"}], ",", " ", "\n", "      ", 
       RowBox[{"\"\<Commit\>\"", "\[Rule]", "commit"}], ",", "\n", "      ", 
       RowBox[{"\"\<Results\>\"", "->", "res"}]}], "\n", "      ", "|>"}]}]}],
    "\n", "    ", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"3b3afdc1-9559-4970-b7e4-d9c2ecb4efa3"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteGitHubDeploy\[RightFloor]", "CodeSubsubsubsection",
 
 Evaluatable->True,ExpressionUUID->"3d0f0fa3-2dac-44b3-839a-193ff5b8638e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Options", "[", "WebSiteGitHubDeploy", "]"}], "=", 
  RowBox[{"{", "}"}]}], "\n", 
 RowBox[{
  RowBox[{"WebSiteGitHubDeploy", "[", "\n", "\t", 
   RowBox[{
    RowBox[{"outDir_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
    RowBox[{"path", ":", 
     RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}], ",", "\n", 
    "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"Module", "[", "\n", "\t  ", 
   RowBox[{
    RowBox[{"{", "\n", "\t    ", 
     RowBox[{"dep", ",", "\n", "\t    ", "pat"}], "\n", "\t    ", "}"}], ",", 
    "\n", "\t  ", 
    RowBox[{
     RowBox[{"dep", " ", "=", " ", 
      RowBox[{"getGHDeployRoot", "[", "outDir", "]"}]}], ";", "\n", "\t  ", 
     RowBox[{"pat", " ", "=", " ", "\n", "\t    ", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"path", "===", "Automatic"}], ",", " ", "\n", "  ", "\t    ", 
        
        RowBox[{"StringDelete", "[", 
         RowBox[{
          RowBox[{"FileBaseName", "[", "dep", "]"}], ",", " ", "Whitespace"}],
          "]"}], ",", "\n", "  ", "\t    ", "path"}], "\n", "  ", "\t    ", 
       "]"}]}], ";", "\n", "\t  ", 
     RowBox[{"initGitWebsite", "[", "dep", "]"}], ";", "\n", "\t  ", 
     RowBox[{"deployGHPagesBranch", "[", 
      RowBox[{"dep", ",", " ", "pat"}], "]"}]}]}], "\n", "\t  ", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"c9773488-5631-41fb-bd34-4b18e058daaa"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Deploy\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"bf23aec2-3600-4796-b2b4-a3c6153647be"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]getWebsiteDir\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"04cc91ea-8e24-4967-bf6a-f7b57b89d6a7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"getWebsiteDir", "[", "out_", "]"}], ":=", "\n", "  ", 
  RowBox[{"DirectoryName", "@", 
   RowBox[{"SelectFirst", "[", "\n", "    ", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"#", ",", " ", "\"\<SiteConfig.wl\>\""}], "}"}]}], "&"}], "/@",
       "\n", "      ", 
      RowBox[{"NestList", "[", 
       RowBox[{"DirectoryName", ",", " ", "out", ",", " ", "1"}], "]"}]}], 
     ",", "\n", "    ", "FileExistsQ", ",", "\n", "    ", 
     RowBox[{"FileNameJoin", "@", 
      RowBox[{"{", 
       RowBox[{"out", ",", " ", "\"\<SiteConfig.wl\>\""}], "}"}]}]}], "\n", 
    "    ", "]"}]}]}]], \
"CodeInput",ExpressionUUID->"69edff40-566c-46c1-8771-7aec123f0b59"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]getDeploymentSettings\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"a89756c0-eed5-43ac-9f2d-2cdf2bb74e82"],

Cell[BoxData[
 RowBox[{
  RowBox[{"getDeploymentSettings", "[", 
   RowBox[{"dir_", ",", " ", 
    RowBox[{"op", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "  ", 
  RowBox[{"Module", "[", "\n", "    ", 
   RowBox[{
    RowBox[{"{", "\n", "      ", 
     RowBox[{"ops", " ", "=", " ", 
      RowBox[{"Quiet", "@", 
       RowBox[{"Association", "@", 
        RowBox[{"Import", "[", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", " ", "\"\<SiteConfig.wl\>\""}], "}"}]}], 
         "]"}]}]}]}], "\n", "      ", "}"}], ",", "\n", "    ", 
    RowBox[{"Normal", "@", "\n", "      ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"AssociationQ", "[", "ops", "]"}]}], ",", "\n", "        ", 
       RowBox[{"{", "}"}], ",", "\n", "        ", 
       RowBox[{"Lookup", "[", 
        RowBox[{"ops", ",", " ", "\"\<DeployOptions\>\"", ",", " ", 
         RowBox[{"{", "}"}]}], "]"}]}], "\n", "        ", "]"}]}]}], "\n", 
   "    ", "]"}]}]], \
"CodeInput",ExpressionUUID->"18fc2775-c3b9-486a-a745-ae4de0c92bf3"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]WebSiteDeploy\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"ee75bdb1-d589-4831-a4cd-e571f4b46fee"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$deploymentDispatcher", "=", 
   RowBox[{"<|", "\n", "  ", 
    RowBox[{
     RowBox[{"\"\<Cloud\>\"", "->", "WebSiteCloudDeploy"}], ",", "\n", "  ", 
     RowBox[{"\"\<GitHub\>\"", "->", "WebSiteGitHubDeploy"}]}], "\n", "  ", 
    "|>"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"d979a6d5-b556-4b49-bfd1-e68c2ab296b9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "WebSiteDeploy", "]"}], "=", "\n", "  ", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", "    ", 
    RowBox[{"Join", "[", "\n", "      ", 
     RowBox[{
      RowBox[{"{", "\n", "        ", 
       RowBox[{"\"\<DeploymentTarget\>\"", "\[Rule]", "Automatic"}], "\n", 
       "  ", "      ", "}"}], ",", "\n", "      ", 
      RowBox[{"Flatten", "[", 
       RowBox[{"Options", "/@", 
        RowBox[{"Values", "[", "$deploymentDispatcher", "]"}]}], "]"}]}], 
     "\n", "      ", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"WebSiteDeploy", "[", "\n", "  ", 
   RowBox[{
    RowBox[{"outDir_String", "?", "DirectoryQ"}], ",", "\n", "  ", 
    RowBox[{"uri", ":", 
     RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}], ",", "\n", 
    "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{
   RowBox[{"PackageExceptionBlock", "[", "\"\<WebSiteDeploy\>\"", "]"}], "@", 
   "\n", "\t  ", 
   RowBox[{"Module", "[", "\n", "  \t  ", 
    RowBox[{
     RowBox[{"{", "\n", "  \t    ", 
      RowBox[{
       RowBox[{"out", " ", "=", " ", 
        RowBox[{"getWebsiteDir", "[", "outDir", "]"}]}], ",", "\n", "  ", 
       "\t    ", "settings", ",", "\n", "  ", "\t    ", "depTarg", ",", "\n", 
       "  ", "\t    ", "disp"}], "\n", "  ", "\t    ", "}"}], ",", "\n", "  ",
      "\t  ", 
     RowBox[{
      RowBox[{"settings", " ", "=", " ", 
       RowBox[{"getDeploymentSettings", "[", "out", "]"}]}], ";", "\n", "  ", 
      "\t  ", 
      RowBox[{"depTarg", " ", "=", " ", "\n", "  ", "\t    ", 
       RowBox[{"Replace", "[", "\n", "  ", "  \t    ", 
        RowBox[{
         RowBox[{"OptionValue", "[", 
          RowBox[{"WebSiteDeploy", ",", " ", "\n", "  ", "  \t      ", 
           RowBox[{"FilterRules", "[", 
            RowBox[{
             RowBox[{"{", "ops", "}"}], ",", " ", 
             RowBox[{"Options", "[", "WebSiteDeploy", "]"}]}], "]"}], ",", 
           " ", "\n", "  ", "  \t      ", "\"\<DeploymentTarget\>\""}], "\n", 
          "  ", "  \t      ", "]"}], ",", " ", "\n", "  ", "  \t    ", 
         RowBox[{"Automatic", "\[RuleDelayed]", 
          RowBox[{"Lookup", "[", 
           RowBox[{
           "settings", ",", " ", "\"\<DeploymentTarget\>\"", ",", " ", 
            "\"\<GitHub\>\""}], "]"}]}]}], "\n", "  ", "  \t    ", "]"}]}], 
      ";", "\n", "  ", "  \t", 
      RowBox[{"disp", " ", "=", " ", 
       RowBox[{"$deploymentDispatcher", "[", "depTarg", "]"}]}], ";", "\n", 
      "  ", "  \t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"MissingQ", "[", "disp", "]"}], ",", "\n", "  ", "  \t  ", 
        RowBox[{"PackageRaiseException", "[", "\n", "    \t    ", 
         RowBox[{
         "Automatic", ",", "\n", "    \t    ", 
          "\"\<Site deployment target `` unknown. Known targets are ``\>\"", 
          ",", "\n", "    \t    ", 
          RowBox[{"Keys", "[", "$deploymentDispatcher", "]"}]}], "\n", 
         "    \t    ", "]"}], ",", "\n", "    \t  ", 
        RowBox[{"disp", "[", "\n", "    \t    ", 
         RowBox[{
         "out", ",", "\n", "    \t    ", "uri", ",", "\n", "    \t    ", 
          RowBox[{"FilterRules", "[", "\n", "    \t      ", 
           RowBox[{
            RowBox[{"Normal", "@", 
             RowBox[{"Merge", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"settings", ",", " ", "ops"}], "}"}], ",", " ", 
               "Last"}], "]"}]}], ",", "\n", "    \t      ", 
            RowBox[{"Options", "[", "disp", "]"}]}], "\n", "    \t      ", 
           "]"}]}], "\n", "    \t    ", "]"}]}], "\n", "    \t  ", "]"}]}]}], 
    "\n", "  \t  ", 
    "]"}]}]}]}], \
"CodeInput",ExpressionUUID->"106e214f-fb2b-4ecb-99f6-e52bf001e703"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"End", "[", "]"}], 
  ";"}]], "InputSection",ExpressionUUID->"9b9420b8-26f0-4f0a-a61d-\
684d8b868dc5"]
}, Open  ]],

Cell["", "SectionSeparator",ExpressionUUID->"6d4744ec-d474-4198-bf57-\
352be88511b2"]
},
NotebookEventActions->{{"MenuCommand", "Save"} :> 
  EasyIDE`Notebooks`Manipulation`IDESave[
    EvaluationNotebook[]], 
  "MouseDown" :> (Needs["EasyIDE`"]; 
   EasyIDE`Notebooks`Manipulation`EnsureNotebookUpdated[
     EvaluationNotebook[]]), PassEventsDown -> True, EvaluationOrder -> After},
WindowSize->{808, 755},
WindowMargins->{{Automatic, 0}, {Automatic, 0}},
WindowTitle->"EasyIDE: BTools",
TaggingRules->{
 "EasyIDE" -> {
   "Project" -> {
     "Directory" -> 
      "/Users/Mark/Documents/Wolfram Mathematica/Applications/BTools/"}, 
    "Tabs" -> {
     "SiteBuilder" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/BTools/Packages/Web/SiteBuilder.nb", "Modified" -> 
        False}, "PacletServerBuilder" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/BTools/Packages/Paclets/PacletServerBuilder.nb", 
        "Modified" -> False}, 
      "PacletServerBuilderPackage" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/BTools/Packages/Paclets/PacletTools/\
PacletServerBuilderPackage.nb", "Modified" -> False}, 
      "Builder" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/BTools/Packages/Paclets/AppBuilder/Builder.nb", 
        "Modified" -> False}, 
      "Git.nb" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/BTools/Packages/External/Git/Git.nb", "Modified" -> 
        False}, "GitConnection" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/BTools/Packages/External/GitConnection.nb", 
        "Modified" -> False}}, "FileViewer" -> {"Visible" -> False}, 
    "Toolbars" -> {"Column" -> GridBox[{{
          GridBox[{{
             GridBox[{{
                StyleBox[
                 TagBox[
                  ButtonBox[
                  "\"Load Package\"", ButtonFunction :> 
                   EasyIDE`Plugins`CodePackageToolbar`loadPackage[], 
                   Appearance -> Inherited, Evaluator -> Automatic, Method -> 
                   "Preemptive"], 
                  MouseAppearanceTag["LinkHand"]], "ToolbarElement"], 
                StyleBox[
                 TagBox[
                  ButtonBox[
                  "\"Open Package\"", ButtonFunction :> 
                   EasyIDE`Plugins`CodePackageToolbar`openPackage[], 
                   Appearance -> Inherited, Evaluator -> Automatic, Method -> 
                   "Preemptive"], 
                  MouseAppearanceTag["LinkHand"]], "ToolbarElement"], 
                StyleBox[
                 ActionMenuBox[
                  ButtonBox[
                  "\"Insert\"", ButtonFunction :> {}, Evaluator -> None, 
                   BaseStyle -> "PluginMenu", Appearance -> Inherited, 
                   FrameMargins -> {{10, 10}, {0, 0}}, 
                   ImageSize -> {Automatic, 28}, Method -> "Preemptive"], {
                  "\"Package\"" :> FrontEndExecute[
                    FrontEnd`NotebookWrite[
                    FrontEnd`InputNotebook[], {
                    Cell["Package Name", "CodeSection"], 
                    Cell[
                    "\[LeftCeiling]\n  Package description\n\[RightFloor]", 
                    "Text", Evaluatable -> True], 
                    Cell[
                    BoxData[
                    RowBox[{
                    RowBox[{"Begin", "[", "\"`Private`\"", "]"}], ";"}]], 
                    "InputSection"], 
                    Cell[
                    BoxData[
                    RowBox[{
                    RowBox[{"End", "[", "]"}], ";"}]], "InputSection"], 
                    Cell["", "SectionSeparator"]}]]}, Appearance -> None, 
                  MenuAppearance -> "Dropdown"], "ToolbarElement"]}}, 
              BaseStyle -> "ToolbarElementRow"], 
             ButtonBox[
             "", BaseStyle -> "ToolbarCloseButton", ButtonData -> 
              "CodePackage"]}}, BaseStyle -> "ToolbarCell"]}}, BaseStyle -> 
        "Toolbars"], "Tags" -> {"CodePackage"}, 
      "Cells" -> {"Package" -> None, "CodePackage" -> GridBox[{{
            GridBox[{{
               StyleBox[
                TagBox[
                 ButtonBox[
                 "\"Load Package\"", ButtonFunction :> 
                  EasyIDE`Plugins`CodePackageToolbar`loadPackage[], 
                  Appearance -> Inherited, Evaluator -> Automatic, Method -> 
                  "Preemptive"], 
                 MouseAppearanceTag["LinkHand"]], "ToolbarElement"], 
               StyleBox[
                TagBox[
                 ButtonBox[
                 "\"Open Package\"", ButtonFunction :> 
                  EasyIDE`Plugins`CodePackageToolbar`openPackage[], 
                  Appearance -> Inherited, Evaluator -> Automatic, Method -> 
                  "Preemptive"], 
                 MouseAppearanceTag["LinkHand"]], "ToolbarElement"], 
               StyleBox[
                ActionMenuBox[
                 ButtonBox[
                 "\"Insert\"", ButtonFunction :> {}, Evaluator -> None, 
                  BaseStyle -> "PluginMenu", Appearance -> Inherited, 
                  FrameMargins -> {{10, 10}, {0, 0}}, 
                  ImageSize -> {Automatic, 28}, Method -> "Preemptive"], {
                 "\"Package\"" :> FrontEndExecute[
                    FrontEnd`NotebookWrite[
                    FrontEnd`InputNotebook[], {
                    Cell["Package Name", "CodeSection"], 
                    Cell[
                    "\[LeftCeiling]\n  Package description\n\[RightFloor]", 
                    "Text", Evaluatable -> True], 
                    Cell[
                    BoxData[
                    RowBox[{
                    RowBox[{"Begin", "[", "\"`Private`\"", "]"}], ";"}]], 
                    "InputSection"], 
                    Cell[
                    BoxData[
                    RowBox[{
                    RowBox[{"End", "[", "]"}], ";"}]], "InputSection"], 
                    Cell["", "SectionSeparator"]}]]}, Appearance -> None, 
                 MenuAppearance -> "Dropdown"], "ToolbarElement"]}}, 
             BaseStyle -> "ToolbarElementRow"], 
            ButtonBox[
            "", BaseStyle -> "ToolbarCloseButton", ButtonData -> 
             "CodePackage"]}}, BaseStyle -> "ToolbarCell"]}}, "ActiveTab" -> 
    "SiteBuilder", "StyleSheet" -> 
    FrontEnd`FileName[{"EasyIDE", "Extensions", "LightMode"}, 
      "CodePackage.nb"], "FileToolbar" -> "CodePackage", 
    "Options" -> {
     WindowSize -> {808, 756}, 
      WindowMargins -> {{222, Automatic}, {Automatic, 0}}, 
      TaggingRules -> {
       "UUIDButtons" -> {
         "Active" -> {
           "Button-b8297203-6b28-48f9-8ba3-edbd5eb431d2" -> False, 
            "Button-8c92aebb-2725-4f7c-a6a8-f90e3a4dce9c" -> False, 
            "Button-ede3a027-3279-40a0-8aa4-1fcc5f60357d" -> False, 
            "Button-89ffd2c3-ec41-4179-a9b1-8e28670bca2c" -> False, 
            "Button-ca46e5e0-4fd1-47e8-8cf6-72998922b757" -> False, 
            "Button-a6d68254-3684-4d32-83fc-e5ef6f443930" -> False}}}, 
      FrontEndVersion -> 
      "11.3 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 5, 2018)", 
      StyleDefinitions -> 
      FrontEnd`FileName[{"BTools"}, "CodePackage.nb", CharacterEncoding -> 
        "UTF-8"]}, "AutoGeneratePackage" -> True, "SavingAction" -> None, 
    "MainStyleName" -> "LightMode", 
    "Styles" -> {
     "UnthemedStylesheet" -> "CodePackage", "StyleSheet" -> 
      FrontEnd`FileName[{"EasyIDE", "Extensions", "LightMode"}, 
        "CodePackage.nb"], "Theme" -> "LightMode"}}, "IndentCharacter" -> 
  "  ", "UUIDButtons" -> {
   "Active" -> {"Button-218b63f2-ff44-42ce-90ef-7f03f91452c9" -> False}}},
DynamicUpdating->Automatic,
FrontEndVersion->"12.0 for Mac OS X x86 (64-bit) (April 8, 2019)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> 
     FrontEnd`FileName[{"EasyIDE", "Extensions", "LightMode"}, 
       "CodePackage.nb"]]]}, Visible -> False, 
  TaggingRules -> {"EasyIDE" -> {"FileViewer" -> {"Visible" -> False}}}, 
  FrontEndVersion -> "12.0 for Mac OS X x86 (64-bit) (April 8, 2019)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"]
]

