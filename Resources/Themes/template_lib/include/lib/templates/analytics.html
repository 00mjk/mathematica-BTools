<wolfram:comment>
  Load Google Analytics code, if analytics URL provided
</wolfram:comment>
<wolfram:if test="MatchQ[#GoogleAnalyticsID,_String]">
  <script>
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o);
      a.async = 1;
      a.src = g;
      m = s.getElementsByTagName(o)[0];
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', '<wolfram:slot id="#GoogleAnalyticsID"/>', 'auto');
    ga('send', 'pageview');
  </script>
</wolfram:if>

<wolfram:comment>
  Load Gauges Analytics code, if analytics URL provided
</wolfram:comment>
<wolfram:if test="MatchQ[#GaugesAnalyticsID,_String]">
  <script>
    var _gauges = _gauges || [];
    (function() {
      var t = document.createElement('script');
      t.type = 'text/javascript';
      t.async = true;
      t.id = 'gauges-tracker';
      t.setAttribute('data-site-id','<wolfram:slot id="#GaugesAnalyticsID"/>');
      t.src = 'https://secure.gaug.es/track.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(t, s);
    })();
  </script>
</wolfram:if>

<wolfram:comment>
  Load Piwik Analytics code, if analytics URL provided
</wolfram:comment>
<wolfram:if test="MatchQ[{#PiwikAnalyticsURL, #PiwikAnaltyicsID},{_String,_String}]">
  <script>
    var _paq = _paq || [];
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u = '<wolfram:slot id="PiwikAnalyticsURL"/>/';
      _paq.push(['setTrackerUrl', u + 'piwik.php']);
      _paq.push(['setSiteId', '<wolfram:slot id="PiwikAnaltyicsID"/>']);
      var g = document.createElement('script');
      g.type = 'text/javascript';
      g.async = true;
      g.defer = true;
      g.src = u + 'piwik.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(g, s);
    })();
  </script>
</wolfram:if>
